%token TK_SS, TK_IMM, TK_BQEDS, TK_YUZOZ, TK_ON, TK_LFTP, TK_AZ, TK_ARJ, TK_ISIWH, TK_KPO, TK_PGEZ, TK_ADRF, TK_DXSZ, TK_OC;

%nodefault

root: AAA 'K' | TOYPM BCSI 'Y' | TK_AZ TK_ADRF NL 'Y' | TK_YUZOZ TK_YUZOZ 'K' TK_ADRF | RJ TK_ARJ BV TK_ON;

NL: JZ TK_DXSZ TK_ON;

NI: 'K' V QBP V 'K' | 'Y' BY GVTPU;

AAA: GVTPU TK_DXSZ TK_ARJ TK_ON;

GVTPU: BV TK_ISIWH JZ NI TK_ISIWH;

JZ: TK_SS TK_BQEDS RKUUX BV 'D' | QBP | RIC GSBBT TK_BQEDS 'X';

GSBBT: TK_SS | TK_DXSZ TK_ON NI | QBP TK_ISIWH 'K';

LN: 'K' BCSI TK_AZ BCSI RF | BCSI GSBBT TK_DXSZ | RF 'D' RIC LN TK_LFTP | 'D' AAA TK_PGEZ RJ;

RF: TK_KPO BCSI TK_SS TK_BQEDS TK_BQEDS | TK_KPO QBP TK_YUZOZ;

RIC: BV 'D' | TK_AZ 'X' | 'Y' TK_KPO RJ AAA | TK_BQEDS TOYPM GSBBT | LN 'D' BY NL;

BV: NI TK_OC | BV NL TK_OC NL TK_YUZOZ | TK_PGEZ JZ QBP TK_SS V | GVTPU V NI RJ BY | ;

RJ: GVTPU TK_AZ TK_ISIWH TK_SS TK_ISIWH;

V: RKUUX | BV TK_KPO RF | ;

TOYPM: 'Y' | RJ LN | NL | NI RF V;

BCSI: 'K' NL RKUUX 'X' | RKUUX | TK_ARJ NL RJ TK_BQEDS TOYPM | GSBBT;

QBP: TK_BQEDS 'Y' 'X' | NL TK_DXSZ TK_BQEDS | NI;

BY: TK_ON RJ NI | QBP JZ TK_ISIWH TK_IMM TK_PGEZ | 'X';

RKUUX: TK_YUZOZ GSBBT QBP V;

