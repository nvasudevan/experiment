%token TK_SS, TK_IMM, TK_BQEDS, TK_YUZOZ, TK_ON, TK_LFTP, TK_AZ, TK_ARJ, TK_ISIWH, TK_KPO, TK_PGEZ, TK_ADRF, TK_DXSZ, TK_OC;

%nodefault

root: TOYPM TOYPM 'Y' | TK_LFTP TK_AZ TK_ADRF;

NL: TK_BQEDS | BY GSBBT | TOYPM TK_OC BCSI TK_ON TK_ARJ | NL BV TK_IMM | V;

NI: NI | BV TK_DXSZ RF;

AAA: NI TK_OC TK_ARJ GSBBT | ;

GVTPU: 'K' TK_SS V RF | 'K' | NI TK_ARJ AAA AAA LN;

JZ: TK_AZ AAA | JZ BY TK_OC | GVTPU 'K' TK_ADRF 'Y' BY;

GSBBT: QBP BCSI TK_ON;

LN: TK_ARJ RKUUX AAA | NL TK_DXSZ RIC V | TK_PGEZ TK_DXSZ TK_DXSZ;

RF: TK_PGEZ;

RIC: NL QBP | RJ TK_OC BCSI | TK_DXSZ LN TOYPM RJ | BY BCSI TOYPM RJ RF | ;

BV: TK_ADRF JZ QBP | AAA AAA;

RJ: TK_DXSZ TOYPM RIC | RF;

V: TK_IMM 'X' | 'D' TK_KPO 'D' | BCSI BY AAA BV | TK_KPO GSBBT | RKUUX RJ TK_ISIWH 'D' TK_SS;

TOYPM: NI AAA TK_OC | TK_PGEZ TK_LFTP GSBBT BV | TK_BQEDS TK_KPO RJ TK_ISIWH | TK_KPO BY;

BCSI: TK_DXSZ | V QBP JZ TK_PGEZ | BY | 'D' TK_DXSZ TK_KPO TK_OC;

QBP: BCSI NI | TK_ADRF V BY | TK_ADRF TK_ISIWH BV;

BY: 'K' TK_BQEDS LN QBP;

RKUUX: TK_ARJ TK_BQEDS TK_AZ | TK_LFTP TOYPM TK_LFTP 'D' TK_YUZOZ | BV TK_KPO GSBBT | RF V | 'Y';

