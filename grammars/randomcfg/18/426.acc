%token TK_SS, TK_IMM, TK_BQEDS, TK_YUZOZ, TK_ON, TK_LFTP, TK_AZ, TK_ARJ, TK_ISIWH, TK_KPO, TK_PGEZ, TK_ADRF, TK_DXSZ, TK_OC;

%nodefault

root: 'K' RF 'D' 'K' TK_ISIWH | RIC TK_SS 'D' | 'X' TK_KPO | TK_ISIWH NI | TOYPM;

NL: TK_PGEZ NL NL TK_KPO GVTPU | NL JZ BV LN | AAA | TK_SS GVTPU RKUUX TK_PGEZ;

NI: TK_ISIWH TK_PGEZ NL TK_ADRF NL | TK_ON GVTPU 'Y' JZ TK_ARJ | BY TK_SS BY LN TK_SS | TK_AZ;

AAA: TK_SS TK_AZ | NI RJ | 'X' LN | ;

GVTPU: TK_AZ V | GVTPU TK_PGEZ V TK_KPO;

JZ: TOYPM LN | 'Y' 'X' 'K' RKUUX | TK_PGEZ 'D' 'D' TOYPM;

GSBBT: TK_ON AAA TK_SS | 'X' BCSI | RF | GSBBT;

LN: RIC BV TK_ON;

RF: TK_ARJ QBP TK_DXSZ | LN | 'K' RF | BV TOYPM TOYPM QBP | TOYPM JZ 'X';

RIC: AAA BY TK_DXSZ | ;

BV: TK_IMM GSBBT TK_ISIWH TK_OC TK_ADRF;

RJ: BY TK_OC RKUUX RIC | TK_LFTP GVTPU LN TK_ARJ TOYPM | 'X' 'K' TK_ISIWH RKUUX | TK_PGEZ BY TK_SS | 'X' RF AAA TK_ISIWH GSBBT;

V: TK_YUZOZ;

TOYPM: TK_PGEZ BY TK_BQEDS 'Y' BV | NL TK_PGEZ 'K' NI | AAA BCSI;

BCSI: TK_SS TOYPM TK_LFTP TK_BQEDS RKUUX | BCSI LN 'Y' TK_DXSZ | BV TK_YUZOZ;

QBP: TK_ISIWH TK_ADRF NI TK_SS | TK_YUZOZ LN AAA | LN TK_AZ | TK_YUZOZ 'D' RKUUX;

BY: RKUUX JZ V RF | GVTPU QBP | RF BCSI TK_AZ 'X' BCSI | RIC 'Y';

RKUUX: RKUUX | RF 'Y' TK_SS | TK_ISIWH BV TOYPM;

