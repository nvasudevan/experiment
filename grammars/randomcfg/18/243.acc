%token TK_SS, TK_IMM, TK_BQEDS, TK_YUZOZ, TK_ON, TK_LFTP, TK_AZ, TK_ARJ, TK_ISIWH, TK_KPO, TK_PGEZ, TK_ADRF, TK_DXSZ, TK_OC;

%nodefault

root: BY | TK_ARJ BV | TK_ISIWH QBP | TK_PGEZ TK_LFTP TK_LFTP TK_PGEZ | TK_IMM RIC RF;

NL: TK_ADRF TK_ON TK_ARJ | BY NI TK_KPO TK_LFTP TK_OC | AAA GSBBT GSBBT RKUUX | NI | ;

NI: LN | GVTPU;

AAA: BV TOYPM;

GVTPU: JZ BV RIC | TK_ARJ V TK_SS TK_KPO 'K';

JZ: TK_AZ | TK_LFTP RF GSBBT BY | TK_BQEDS TK_DXSZ 'K' TK_ADRF | TK_DXSZ TK_ARJ 'Y' | TK_ADRF V;

GSBBT: TK_BQEDS 'D' | GVTPU BV GSBBT | TK_PGEZ | GVTPU TOYPM RIC TK_LFTP;

LN: JZ TK_PGEZ TOYPM 'D' RIC | JZ TOYPM QBP BCSI LN | RIC BY TK_PGEZ | BY RKUUX | ;

RF: LN GSBBT AAA | LN NL TK_OC AAA | NI TK_PGEZ | QBP V | TK_PGEZ;

RIC: 'X' | 'X' TK_AZ RKUUX RKUUX TK_ADRF | 'Y' TK_ON V TOYPM AAA | TK_KPO RJ AAA 'Y' | TK_LFTP 'K' TK_DXSZ TK_BQEDS;

BV: 'X' BY BCSI | TK_PGEZ NI | TOYPM | TK_KPO TK_IMM;

RJ: GVTPU TK_ON TK_KPO TK_SS | TK_KPO QBP RF RJ JZ | TK_AZ TK_ON BY TK_KPO 'K' | QBP | RIC BCSI 'K';

V: TK_ARJ TOYPM AAA RJ TK_BQEDS | NI LN | TK_PGEZ LN BY | TK_OC TK_ARJ | GSBBT 'X' TK_ARJ 'X' TK_DXSZ;

TOYPM: BY | RF LN BV | TK_BQEDS TK_BQEDS AAA | RKUUX TK_PGEZ NL;

BCSI: NI RJ 'D' BY | TK_DXSZ NL GVTPU V | RF GVTPU AAA BV TK_ISIWH | V | BV RF BY RKUUX BCSI;

QBP: LN TK_KPO | ;

BY: 'X' QBP GSBBT NL TK_YUZOZ | TOYPM RKUUX TK_KPO | NL 'D' | TK_ON TK_DXSZ TK_ADRF;

RKUUX: BY TK_ISIWH TK_DXSZ BY TK_AZ | BCSI AAA 'D' RJ | 'X' 'X' BCSI | LN 'X' TK_IMM TK_OC AAA | TK_ADRF TK_OC TK_ARJ NL TK_LFTP;

