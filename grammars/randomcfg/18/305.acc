%token TK_SS, TK_IMM, TK_BQEDS, TK_YUZOZ, TK_ON, TK_LFTP, TK_AZ, TK_ARJ, TK_ISIWH, TK_KPO, TK_PGEZ, TK_ADRF, TK_DXSZ, TK_OC;

%nodefault

root: TK_ON | JZ TOYPM RF BV | AAA | TK_PGEZ TK_PGEZ GSBBT TK_YUZOZ TK_PGEZ | TK_AZ TK_PGEZ;

NL: JZ BCSI | TK_YUZOZ RKUUX LN TK_ON NI | RF TK_ARJ TK_PGEZ TK_AZ 'K';

NI: GSBBT RKUUX | TK_ADRF TK_ARJ TK_AZ V | TOYPM | QBP TK_BQEDS TK_BQEDS;

AAA: TOYPM | RF TK_ADRF 'Y' | QBP AAA GSBBT TK_LFTP | ;

GVTPU: RJ RIC TK_OC TK_ARJ LN | BV GSBBT 'Y' TOYPM TK_ON | TK_ADRF NL | TK_IMM 'D' TK_OC TK_DXSZ;

JZ: 'D' AAA 'X' | TK_IMM LN | AAA 'X' V QBP | TK_ON RJ;

GSBBT: QBP TK_DXSZ RKUUX | TK_ISIWH TK_IMM | TK_KPO 'X' | RKUUX TK_KPO TK_YUZOZ | LN TK_ISIWH 'D';

LN: GSBBT;

RF: RKUUX 'K' TK_KPO 'K' | QBP TK_LFTP BCSI 'D' | GSBBT | RIC NI JZ 'K' | GVTPU TK_YUZOZ TK_LFTP;

RIC: 'K' RKUUX | V GVTPU QBP TK_AZ LN | TK_ON 'X' TK_LFTP RF | TK_ADRF | GVTPU TK_KPO NL RKUUX;

BV: BY | AAA | LN JZ TK_DXSZ JZ | TK_AZ NL AAA BV GVTPU;

RJ: TK_OC TK_AZ TK_KPO RKUUX V | TK_KPO GSBBT RJ | JZ TK_DXSZ TK_LFTP | RKUUX 'Y' | ;

V: BV TK_OC 'D' TK_DXSZ RF;

TOYPM: RIC V;

BCSI: NL TK_KPO TK_BQEDS LN RIC | TK_IMM | NI AAA 'K' TK_DXSZ GSBBT;

QBP: TK_PGEZ GVTPU TK_ON | BY TK_LFTP RF | AAA GVTPU TK_ADRF TK_SS | TK_AZ TK_KPO JZ RKUUX NI | ;

BY: JZ 'K' RIC;

RKUUX: BCSI GSBBT | TK_AZ TK_AZ TOYPM 'Y' | TK_AZ 'K' TK_YUZOZ | JZ | QBP TK_IMM QBP;

