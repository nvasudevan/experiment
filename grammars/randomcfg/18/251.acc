%token TK_SS, TK_IMM, TK_BQEDS, TK_YUZOZ, TK_ON, TK_LFTP, TK_AZ, TK_ARJ, TK_ISIWH, TK_KPO, TK_PGEZ, TK_ADRF, TK_DXSZ, TK_OC;

%nodefault

root: BV JZ TK_PGEZ GSBBT | V BCSI V NI TK_ADRF;

NL: LN | TK_PGEZ BY TK_KPO TK_ADRF TK_DXSZ | TOYPM TK_ON | TK_BQEDS AAA TOYPM | TK_ON JZ 'D' GVTPU 'Y';

NI: JZ | ;

AAA: TK_ON TK_AZ NI BV | BY TK_OC RJ 'K' RF | QBP 'Y' | 'K' TK_PGEZ NL BV | TK_AZ 'X';

GVTPU: RKUUX TK_LFTP | JZ | 'K' NL TK_OC 'Y' TK_PGEZ;

JZ: TK_LFTP TK_ADRF TOYPM | 'D' LN TK_ISIWH QBP | TK_KPO TK_ARJ | TK_DXSZ BV GVTPU TK_ISIWH TK_LFTP;

GSBBT: 'Y' RJ LN;

LN: TK_AZ BV TK_ARJ | TK_ON RKUUX TOYPM;

RF: TK_IMM AAA 'K' QBP NL | JZ TK_IMM BY;

RIC: RIC TOYPM | TK_BQEDS GVTPU 'K' TK_ADRF TK_ARJ | TK_AZ BY | 'X' RJ TK_PGEZ JZ | BV TK_KPO QBP;

BV: TK_AZ TK_BQEDS;

RJ: RIC BCSI QBP | TK_ARJ RIC BY TK_PGEZ TK_ON;

V: TK_LFTP BY | 'X' V TK_OC | QBP TK_ADRF 'K' | TK_LFTP QBP QBP TK_SS TK_SS | AAA 'X' TK_AZ BY TK_DXSZ;

TOYPM: V 'K' | 'K' RF | ;

BCSI: TOYPM TK_SS LN TK_ARJ | BCSI GSBBT BY JZ | RIC | JZ QBP;

QBP: JZ TK_BQEDS RKUUX;

BY: TK_LFTP TK_OC TK_ON GVTPU 'Y' | LN;

RKUUX: RIC | V RF TK_ON QBP 'K' | RIC TOYPM GSBBT TK_IMM | TK_KPO GVTPU;

