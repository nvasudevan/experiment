%token TK_UDRGI, TK_ACLW, TK_VLAOS, TK_ZCJFW, TK_FBQZZ, TK_ZP, TK_WYRUM, TK_XQ, TK_SHR;

%nodefault

root: TK_WYRUM | TK_VLAOS | 'H' KYF UNV IEHS 'H' | YS KYF | TK_FBQZZ TK_ZP EUQ IEHS 'O';

IEHS: DMS TK_WYRUM YS TK_SHR 'N' | BU TK_ACLW RX 'N' 'N' | TK_ACLW TK_UDRGI UNV | IEHS EUQ 'O';

BOLFN: 'H' EUQ TK_ZP | IEHS | 'H' 'O' TK_SHR | TK_UDRGI CGYXH TK_XQ | ;

UNV: CGYXH TK_XQ YS BU | BU TK_ACLW TK_VLAOS TK_ZCJFW | TK_UDRGI TK_WYRUM YHWA | TK_ACLW TK_ZCJFW 'N' KYF BU | BU TK_ZP;

EUQ: CGYXH TK_ACLW;

RX: TK_SHR TK_VLAOS CGYXH TK_SHR UNV | BOLFN TK_VLAOS;

KYF: DMS YHWA TK_ACLW | BOLFN RX TK_XQ TK_VLAOS | TK_UDRGI;

CGYXH: TK_SHR KYF UNV | DMS BU BOLFN | YS 'N' CGYXH 'O' | ;

BU: IEHS 'O' DMS DMS | TK_ZCJFW YHWA 'O' TK_XQ | TK_UDRGI TK_XQ BU 'O' | IEHS IEHS BU TK_ACLW 'O';

DMS: KYF DMS KYF TK_WYRUM DMS | 'O' TK_FBQZZ TK_FBQZZ CGYXH UNV | TK_XQ UNV BOLFN;

YS: 'N' EUQ TK_SHR IEHS EUQ | TK_XQ TK_UDRGI YS RX;

YHWA: IEHS | BOLFN | CGYXH UNV YHWA BOLFN YS | UNV KYF IEHS TK_XQ | RX TK_ZP TK_ACLW TK_VLAOS IEHS;

