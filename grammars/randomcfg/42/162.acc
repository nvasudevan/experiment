%token TK_YDPEX, TK_GMPY, TK_UBNK, TK_VPPYW, TK_WYDXR, TK_ZJ, TK_ZYHKK, TK_VFQO, TK_DIVNV, TK_SWPFT, TK_KK, TK_ISTEN, TK_MAZ, TK_EJVBU, TK_HGPQL, TK_WUM, TK_KY, TK_QKYHW, TK_XR, TK_IF, TK_KRLM, TK_OZ, TK_NOJ, TK_KLBD, TK_NME, TK_CXJK, TK_SWTXI, TK_EQ, TK_DS, TK_END, TK_OIP, TK_QA, TK_GAUJ;

%nodefault

root: TK_WUM DO YN | PJONA TK_NME | FHB TK_VPPYW LI TK_IF YUF;

DO: TK_EJVBU MVXN TK_OZ 'N' | TK_XR TK_XR TK_QA | LI DE | 'D' MVXN TK_NOJ TK_EJVBU PUNP;

URHCM: CI TK_QKYHW TK_OZ | OEHTC JA TK_GMPY TK_WUM TK_QKYHW;

PJONA: DO TK_WYDXR ZHL | TK_KRLM TK_VPPYW | XLLC IJPTH FT 'C' | TK_ZYHKK MVXN ISC TK_ISTEN | TK_OIP YN 'O' TK_SWPFT TK_SWPFT;

FT: DE TK_MAZ | ;

YN: TK_KY FHB 'O' ZHL BIEMM;

VFG: DT | TK_YDPEX TK_OIP BY;

DHUJM: TK_DIVNV 'C' | 'T' RGWFA TK_NOJ | BRYTA | RKEU DHUJM;

JA: NZBZ TK_VFQO TK_KLBD TK_ZYHKK | TK_END ZHL BIEMM PJONA | TK_YDPEX RGWFA BIEMM;

FHB: LDAWC PUNP TK_NOJ | TK_EQ TK_NOJ RKEU | ;

BIEMM: OEHTC;

ISC: TK_GMPY TK_XR TK_HGPQL;

LDAWC: TK_KK BIEMM TK_UBNK TK_KK;

IVUO: TK_IF | TK_OZ TK_NME LBQ QAHEW;

BZ: FHB LI IJPTH VVOJH TK_WUM;

YUF: TK_KK;

LBQ: LDAWC;

KFT: TK_ZJ 'D' DO TK_KLBD VFG | YN LBQ LDAWC TK_SWPFT TK_KRLM;

RGWFA: TK_MAZ FHB OEHTC;

NZBZ: 'F' 'O' CI DHUJM | TK_MAZ URHCM TK_NOJ | VVOJH YUF IJPTH TK_IF | 'S' DHUJM DO VFG | 'O' TK_QKYHW ZHL TK_VFQO OEHTC;

XLLC: TK_SWPFT 'T' | VFG BJZG YN RKEU | TK_DIVNV NZBZ DT TK_IF BRYTA;

LI: TK_WYDXR | RKEU IVUO | DE TK_GAUJ BY RKEU TK_UBNK | LBQ TK_YDPEX TK_YDPEX XLLC | TK_DIVNV;

VVOJH: LDAWC TK_KK | TK_ZJ TK_IF TK_ZJ VFG | TK_OIP | QAHEW TK_KK YUF;

BRYTA: H H 'V' BIEMM | TK_VPPYW TK_UBNK TK_QA VFG;

PUNP: TK_KK | FHB IJPTH BY;

NLI: XLLC 'D' TK_WUM NLI PJONA | URHCM 'V' TK_DS URHCM TK_XR | ;

BJZG: MVXN | TK_ISTEN TK_SWTXI;

IJPTH: TK_WYDXR | PUNP 'S' TK_END CI;

RJ: TK_ISTEN LI FHB | TK_END TK_GAUJ TK_WUM TK_SWTXI | MVXN XLLC IJPTH CI | TK_ISTEN | BY TK_WYDXR TK_OZ TK_QA;

CI: TK_OZ | BIEMM TK_MAZ TK_OZ BIEMM 'D' | 'N' 'P' MVXN QAHEW TK_GAUJ | TK_VFQO TK_OIP TK_KY RJ BZ | URHCM BY DT;

DE: FHB TK_QA TK_GAUJ 'V' DO | TK_SWPFT BJZG 'V' TK_KRLM TK_KLBD;

RKEU: TK_KRLM TK_WYDXR TK_QA 'D' | TK_DS;

VH: RKEU | RJ LI;

H: LBQ TK_QA BY BIEMM | TK_VPPYW | MVXN 'T' MVXN TK_WUM PUNP | TK_DS TK_ISTEN TK_SWPFT LI TK_VFQO;

OEHTC: TK_END 'T' VH | 'T' FT TK_DS VH | DT 'O' BY QAHEW | 'C' 'T' TK_VPPYW;

HDYOJ: DE 'D' TK_QKYHW ZHL BRYTA | TK_WYDXR 'D' RJ OEHTC | TK_VPPYW LBQ | TK_ZJ PUNP;

QAHEW: TK_KRLM TK_IF RJ | 'F' TK_UBNK IVUO TK_OZ | ;

BY: 'O';

ZHL: RKEU TK_ZJ | YN 'D' TK_EQ | TK_END TK_EJVBU TK_GMPY BY | IVUO DE TK_NOJ YN TK_EQ;

MVXN: RJ | TK_EJVBU 'C' LI LDAWC RGWFA | TK_VFQO VH | LI 'C' | ;

DT: TK_NOJ;

RLHZE: TK_VFQO TK_VFQO NLI TK_DS | 'O' PJONA TK_IF | 'O' | TK_OIP | 'F';

