%token TK_YDPEX, TK_GMPY, TK_UBNK, TK_VPPYW, TK_WYDXR, TK_ZJ, TK_ZYHKK, TK_VFQO, TK_DIVNV, TK_SWPFT, TK_KK, TK_ISTEN, TK_MAZ, TK_EJVBU, TK_HGPQL, TK_WUM, TK_KY, TK_QKYHW, TK_XR, TK_IF, TK_KRLM, TK_OZ, TK_NOJ, TK_KLBD, TK_NME, TK_CXJK, TK_SWTXI, TK_EQ, TK_DS, TK_END, TK_OIP, TK_QA, TK_GAUJ;

%nodefault

root: TK_UBNK 'P' TK_QA | URHCM TK_WUM | TK_ZYHKK TK_ZYHKK NLI 'P' | DO;

DO: IJPTH | TK_DS TK_IF HDYOJ 'F' | FT TK_IF | TK_IF RGWFA NLI | TK_ZYHKK TK_EQ TK_MAZ LI RGWFA;

URHCM: MVXN TK_NOJ TK_SWPFT TK_UBNK VH | 'T' YUF | QAHEW | FHB;

PJONA: 'N' TK_KK;

FT: TK_GAUJ URHCM | NZBZ H TK_EJVBU;

YN: TK_IF | URHCM BRYTA 'C' TK_WUM | TK_QA 'V' TK_VPPYW RGWFA 'F' | TK_GMPY DE BRYTA TK_ZYHKK TK_OZ | BZ CI YUF HDYOJ;

VFG: TK_QKYHW TK_DS TK_SWPFT PUNP LI;

DHUJM: TK_QKYHW | ;

JA: TK_MAZ BRYTA TK_QA 'C' DHUJM | VVOJH TK_KK | TK_YDPEX RKEU TK_KLBD CI | TK_ZJ;

FHB: TK_END H HDYOJ;

BIEMM: JA TK_KLBD BRYTA LDAWC TK_OIP | TK_MAZ RJ | IJPTH TK_WYDXR;

ISC: TK_MAZ TK_MAZ | 'T' TK_ZYHKK YUF TK_GAUJ IJPTH | BJZG VVOJH | BRYTA JA BZ PUNP DHUJM | ;

LDAWC: PJONA 'F' TK_KY ISC | YN RKEU TK_ISTEN YN ISC;

IVUO: QAHEW MVXN RLHZE TK_CXJK | KFT TK_OZ;

BZ: MVXN 'V' VH;

YUF: TK_QKYHW TK_DIVNV TK_WUM 'O' YN | TK_MAZ TK_ZYHKK TK_NOJ TK_UBNK;

LBQ: URHCM ISC YN 'D' | TK_NOJ | TK_MAZ TK_HGPQL ZHL CI;

KFT: NLI OEHTC BJZG TK_DS TK_QA | NLI TK_ZJ RJ | BJZG TK_KLBD URHCM | ;

RGWFA: URHCM | TK_GAUJ TK_OZ TK_YDPEX TK_NOJ | TK_VFQO RGWFA | 'N' FHB TK_VPPYW;

NZBZ: TK_QKYHW | TK_YDPEX;

XLLC: TK_NOJ TK_KY LI LI | 'D' IJPTH VH | VFG | MVXN TK_QA LDAWC TK_NOJ;

LI: BZ TK_UBNK | 'N' | 'D' MVXN | 'C' | DT BY TK_XR BZ;

VVOJH: TK_ZYHKK TK_WYDXR TK_GMPY 'S' 'P' | TK_WYDXR JA LI TK_UBNK | TK_IF TK_QKYHW | TK_SWTXI TK_EQ TK_KY | ;

BRYTA: FHB BIEMM NLI TK_ISTEN FHB | 'T';

PUNP: FT 'V' | TK_QKYHW VFG 'S' BRYTA | IJPTH TK_MAZ DHUJM 'P' DHUJM | NZBZ TK_QA TK_ISTEN BIEMM TK_GAUJ;

NLI: TK_GAUJ XLLC RGWFA TK_UBNK 'C';

BJZG: DHUJM | IVUO TK_YDPEX TK_KK IVUO | LDAWC ISC RLHZE DO | JA | HDYOJ;

IJPTH: 'S' TK_WUM | DT TK_IF TK_ZJ DHUJM TK_HGPQL | RJ TK_CXJK TK_WYDXR | TK_VPPYW | TK_EQ;

RJ: 'O' LBQ TK_KY RGWFA;

CI: TK_GMPY DO 'N';

DE: TK_ZYHKK JA RJ | TK_GAUJ RJ TK_SWPFT TK_OIP TK_EJVBU | TK_ISTEN TK_CXJK TK_YDPEX | LBQ;

RKEU: BIEMM LBQ | BY | TK_END TK_DIVNV | LI;

VH: TK_NOJ XLLC BRYTA TK_NME TK_CXJK | LI JA 'C' TK_SWTXI FHB | TK_OIP TK_ZJ DE LBQ;

H: BZ RKEU TK_VPPYW TK_KK 'F' | MVXN | TK_SWTXI | TK_EJVBU TK_OZ | TK_EQ KFT BY;

OEHTC: TK_UBNK XLLC TK_DIVNV;

HDYOJ: TK_KK TK_DS TK_END TK_EQ TK_EJVBU | ;

QAHEW: TK_SWTXI DHUJM RKEU TK_KRLM XLLC | FHB DO RJ TK_DIVNV | TK_DS DO 'F' LBQ RLHZE;

BY: TK_EQ TK_KLBD NZBZ TK_DS | TK_WYDXR TK_OIP TK_YDPEX TK_DS URHCM | TK_DS TK_SWPFT RLHZE TK_IF | 'C' TK_KY H RKEU TK_SWPFT;

ZHL: TK_VFQO TK_KLBD DO QAHEW | TK_END | TK_VFQO 'P' DT 'V' RJ;

MVXN: TK_QA | TK_HGPQL 'V' 'P' LBQ | TK_ZYHKK TK_IF PJONA TK_GMPY | ;

DT: RLHZE HDYOJ TK_XR CI VVOJH | VVOJH RJ | DE NLI LDAWC LBQ;

RLHZE: MVXN DT BY TK_KLBD CI | TK_NME TK_CXJK;

