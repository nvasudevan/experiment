%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_ERGO VYJU UCKQB OGR UXESO | 'Y' TK_HLJ | LP LP 'Y';

VYJU: AHRM | UCKQB MGOV OGR | 'K' TK_PRGF TK_IEDA | TK_MVI | LP SRVI UCKQB TK_RBS AHRM;

VZKQM: SRVI | TK_PRGF TK_PRGF VYJU TK_PRGF TK_DTRWR | TK_ERGO | UXESO 'Q';

DNFF: LP TK_HLJ D TK_HLJ | 'H' TK_DTRWR 'W' D | TK_MVI TK_HLJ TRL;

UXESO: TK_HLJ TK_IEDA 'W' TK_IEDA | TK_TGKU I TK_TGKU C TK_PRGF | AHRM TK_HLJ AHRM TK_KL LP | ;

SWRI: TK_SRWU D 'Y' TK_DTRWR | LP TK_ERGO | 'K' TK_MVI TK_PRGF TK_HLJ | TK_TGKU TK_BBZ TK_ERGO | TK_IEDA TK_TGKU VZKQM TK_ERGO OGR;

G: TK_MVI UXESO;

SRVI: VYJU SRVI TK_TGKU 'Q' | TK_IEDA OGR 'K' UCKQB 'Q' | 'Y' 'W' TK_ERGO TK_TGKU | C TK_IEDA MGOV 'H' DNFF;

C: TK_DTRWR;

D: 'H' 'W' | C TK_KL | 'K' 'W' | 'H' C 'Y' | TK_SRWU TK_KL;

OGR: 'K' VZKQM | 'Y' DNFF 'Q' 'H' | TK_IEDA SWRI | 'K' TK_OM | TK_PRGF 'Q' TK_MVI;

AHRM: TK_ERGO TK_MVI DNFF TK_TGKU;

I: TK_OM TK_DTRWR AHRM TK_OM LP;

UCKQB: AHRM 'H' | TK_DTRWR SRVI TK_IEDA DNFF;

LP: LP MGOV I VZKQM 'Q' | VZKQM TK_HLJ TK_KL | G TK_ERGO;

MGOV: TK_KL VZKQM | TK_HLJ TK_ERGO TK_OM TK_KL | VZKQM SRVI TK_IEDA | DNFF TRL;

TRL: DNFF TK_KL | TK_RBS TK_PRGF 'Q' TK_BBZ TK_TGKU | ;

