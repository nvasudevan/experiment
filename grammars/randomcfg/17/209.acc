%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_HLJ | TK_IEDA D SWRI 'K' | TK_SRWU DNFF C 'Q' TK_BBZ | VYJU SWRI TK_SRWU | I MGOV TK_HLJ I TK_HLJ;

VYJU: 'H' UXESO AHRM | SRVI TK_TGKU | 'Q' D;

VZKQM: D TK_MVI;

DNFF: VYJU I UXESO TK_DTRWR SWRI;

UXESO: D SRVI | TK_KL TK_OM 'Q' TRL C | LP D OGR | TK_HLJ C LP;

SWRI: VYJU TK_SRWU UXESO OGR C | AHRM UXESO I TK_SRWU SWRI | DNFF G OGR SWRI | TK_BBZ SRVI TK_PRGF | UXESO;

G: C 'Y' I LP TK_DTRWR | AHRM TK_MVI TK_SRWU | ;

SRVI: OGR;

C: VZKQM TK_HLJ OGR | 'W' TK_ERGO TK_SRWU VYJU | UCKQB TK_BBZ | TK_ERGO SWRI TK_HLJ;

D: UCKQB 'Y' TK_IEDA TK_ERGO TK_KL | SRVI TK_TGKU G | 'Y' 'Q' 'W' TK_TGKU C;

OGR: TK_MVI 'K' 'H' MGOV 'Q';

AHRM: SWRI SRVI G SRVI TK_RBS | TK_TGKU 'W' LP DNFF 'H' | TK_BBZ 'W' | SRVI VYJU TRL;

I: MGOV | TK_BBZ TK_PRGF 'H' | ;

UCKQB: MGOV LP UCKQB | LP TK_HLJ 'Y' LP | TK_IEDA 'Q' G | TRL | 'W';

LP: TK_SRWU UXESO | MGOV TK_BBZ D I 'H' | TK_IEDA TK_KL I TK_OM | TK_PRGF VYJU 'Q' VZKQM | TK_TGKU AHRM;

MGOV: G TK_SRWU TK_SRWU TK_IEDA | TK_RBS 'Y' | TK_MVI | TK_SRWU TK_HLJ I | D UCKQB TK_MVI G TRL;

TRL: VYJU LP TK_KL TK_KL | TK_PRGF 'Y' D LP | TK_ERGO | TK_SRWU;

