%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: D 'H' 'H' 'H' | 'Y' TK_DTRWR TK_RBS UXESO G | 'H' VYJU OGR AHRM TK_OM | TK_ERGO SRVI;

VYJU: TK_BBZ | VYJU TK_KL TK_OM | TK_RBS D SRVI;

VZKQM: 'K' I TK_BBZ 'Y' | G MGOV VYJU I | D 'Y' AHRM TK_MVI TK_PRGF | ;

DNFF: TK_IEDA 'K' LP 'Q' TK_KL | TK_MVI G OGR G | OGR;

UXESO: 'W' G TK_TGKU | C OGR TK_HLJ TK_PRGF | SWRI TK_PRGF | D | TK_IEDA I TK_BBZ;

SWRI: SRVI | UCKQB;

G: TK_PRGF | 'W' D UCKQB LP | 'K' TK_IEDA 'W' OGR | TK_ERGO OGR VZKQM;

SRVI: VZKQM 'K' TK_OM | 'W' TK_ERGO;

C: TK_KL LP LP 'H' | 'W' | LP TK_PRGF OGR TK_ERGO | AHRM TK_MVI TK_KL | 'W' TK_RBS D TK_MVI;

D: TK_SRWU UXESO LP C | VYJU TK_BBZ UCKQB | 'H' SRVI TK_RBS TK_MVI OGR | SWRI TK_SRWU 'H';

OGR: TK_DTRWR TK_MVI I;

AHRM: TK_BBZ D TK_SRWU VZKQM;

I: 'K' | SWRI MGOV SWRI VYJU VYJU | LP 'Y' TK_RBS MGOV 'H' | D;

UCKQB: TK_PRGF LP SWRI AHRM UXESO | I 'Q' I TK_DTRWR TK_DTRWR;

LP: D 'W' 'Q' TK_MVI | VZKQM | 'Q' | DNFF;

MGOV: TK_PRGF | G UXESO | ;

TRL: TK_MVI TK_MVI;

