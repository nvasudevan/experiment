%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_BBZ | MGOV | TK_OM DNFF | SRVI 'W' VZKQM 'H' TRL | TK_ERGO 'W';

VYJU: TK_SRWU G TK_KL G TK_SRWU;

VZKQM: AHRM 'K' TK_OM TK_OM TK_DTRWR | TK_BBZ LP 'Y' TK_ERGO 'K' | I 'K' 'H' 'W' | TK_HLJ DNFF 'Q' TK_OM TK_PRGF;

DNFF: TK_ERGO C;

UXESO: UCKQB I 'W';

SWRI: LP OGR | 'Y' TK_RBS D UXESO TK_SRWU | OGR G 'Y' TK_IEDA UXESO | TK_KL VZKQM TK_SRWU TK_OM | LP TK_IEDA D TK_DTRWR;

G: TK_IEDA;

SRVI: D 'W' TK_KL TK_MVI TK_BBZ | D UCKQB TRL TK_ERGO | VYJU VZKQM DNFF TRL 'H' | 'H' 'Q' TK_HLJ TK_RBS TK_MVI;

C: G 'H' DNFF | TK_IEDA G TK_MVI 'H';

D: LP | I TK_PRGF TK_DTRWR UXESO DNFF | TK_KL LP TRL TK_IEDA;

OGR: 'Q' TK_DTRWR AHRM SWRI | VZKQM | C LP;

AHRM: UXESO VYJU | TK_TGKU C LP | I SWRI TRL UCKQB | TK_SRWU TK_PRGF;

I: VZKQM | SWRI 'Q' TK_IEDA UXESO UCKQB | AHRM TK_PRGF 'Q' | TK_MVI SRVI UXESO TK_BBZ | ;

UCKQB: VZKQM TK_MVI TK_DTRWR TK_MVI AHRM | TK_TGKU TK_SRWU OGR TK_RBS MGOV | UCKQB VZKQM VZKQM VYJU VZKQM | TK_RBS 'K';

LP: 'H' LP 'Y' AHRM | TK_RBS UCKQB TK_IEDA LP | I TK_DTRWR LP TK_PRGF | AHRM | 'K' 'H' C;

MGOV: TK_PRGF G | AHRM DNFF UCKQB DNFF | 'Q' OGR | 'Q' VZKQM LP 'Q' | ;

TRL: VYJU TK_OM VZKQM TK_RBS VYJU | TK_MVI | TK_KL TK_OM;

