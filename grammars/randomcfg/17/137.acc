%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: G G TK_BBZ TK_OM | LP | TK_PRGF DNFF DNFF TK_KL;

VYJU: TK_SRWU OGR;

VZKQM: 'Q' | D TK_MVI | TK_KL TK_DTRWR 'W' | VZKQM;

DNFF: 'Y' TK_SRWU TK_SRWU UCKQB I | TK_SRWU SWRI | UXESO AHRM 'Q' OGR | ;

UXESO: OGR SRVI 'H' SRVI | TK_MVI | MGOV 'H' | TK_RBS C | DNFF TK_DTRWR TK_MVI TRL;

SWRI: TK_TGKU TK_RBS VYJU TK_RBS 'K';

G: TK_ERGO | TK_ERGO UCKQB TK_IEDA TK_SRWU | TK_DTRWR | TK_BBZ SRVI | TK_ERGO TK_IEDA TK_DTRWR OGR;

SRVI: VZKQM 'K' TK_TGKU MGOV | TK_MVI DNFF;

C: LP TK_PRGF | TK_DTRWR TK_BBZ TK_DTRWR TK_HLJ LP;

D: TK_PRGF 'K' | OGR TK_ERGO | ;

OGR: TK_ERGO UCKQB AHRM;

AHRM: 'W' TK_HLJ TK_MVI 'K' | D TK_MVI | C I I LP;

I: TK_BBZ AHRM | TK_TGKU VYJU SRVI TK_MVI | SRVI G | 'Y';

UCKQB: I;

LP: TK_SRWU | OGR TK_PRGF | 'W' TK_OM 'Y' | TK_SRWU TK_SRWU TK_BBZ I OGR | TK_PRGF OGR TK_OM TK_TGKU DNFF;

MGOV: TK_OM TK_RBS D | LP D LP MGOV | VZKQM TK_IEDA DNFF G OGR;

TRL: D AHRM 'W' TK_OM;

