%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'H' VZKQM TK_IEDA SWRI | TK_DTRWR TK_MVI TK_PRGF 'Y' TK_TGKU | OGR 'Q' | TK_SRWU MGOV TK_DTRWR | TK_KL 'H' TK_HLJ I;

VYJU: 'Q' TK_IEDA TK_DTRWR VZKQM SWRI | TK_OM 'Q' TK_OM;

VZKQM: LP OGR 'Q' UXESO UXESO | MGOV MGOV | LP | ;

DNFF: UCKQB | 'Q' MGOV TK_OM | TK_IEDA TK_OM G SWRI;

UXESO: DNFF LP 'K' 'K' | TRL | G TRL UCKQB C;

SWRI: 'H' TK_OM | TK_BBZ;

G: 'H' | D 'K' | TK_OM G UXESO 'K' G | TK_MVI;

SRVI: G UXESO SRVI D TK_PRGF | 'H' 'Y' 'Y' | G TK_HLJ VYJU TK_HLJ D;

C: G TK_DTRWR TK_KL G TK_MVI;

D: UCKQB VZKQM | TRL D SRVI | TK_BBZ UCKQB TRL TK_HLJ TK_BBZ;

OGR: TK_KL LP AHRM C SRVI;

AHRM: TK_HLJ G TK_RBS G | TK_OM TK_BBZ G VZKQM TK_IEDA | VYJU MGOV TK_ERGO MGOV | 'K' OGR 'K' | ;

I: TK_DTRWR UXESO UCKQB SRVI | 'W' TK_HLJ | LP TK_KL 'Q' TK_PRGF | 'H' TRL 'H' TK_OM TK_TGKU | TK_SRWU DNFF TK_MVI VYJU TK_SRWU;

UCKQB: 'W' 'W' TK_TGKU SRVI | TK_HLJ 'Y' | TK_MVI 'Y' | TK_BBZ TK_IEDA TK_TGKU;

LP: TK_OM UCKQB I C | AHRM AHRM;

MGOV: LP TK_SRWU TK_HLJ | 'K' | 'Y' 'Q' | 'Q' TK_PRGF 'Y' TK_TGKU | 'W' 'Y' VZKQM VZKQM;

TRL: SRVI UCKQB | D 'H' VYJU | G | DNFF TK_RBS | I OGR SRVI TK_TGKU;

