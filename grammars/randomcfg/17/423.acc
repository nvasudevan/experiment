%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: LP | LP TRL 'H' VYJU | 'K' I | VYJU TK_ERGO 'H' 'K' D;

VYJU: LP 'K' OGR | TK_RBS 'Y' 'W' | TK_HLJ VYJU;

VZKQM: D SRVI UXESO 'Y' | 'Q' TK_HLJ G TK_ERGO | ;

DNFF: SWRI TK_KL;

UXESO: UCKQB VZKQM 'K' TK_PRGF | OGR | 'H' DNFF UCKQB;

SWRI: OGR TK_MVI | 'Y' I | TK_SRWU TK_SRWU TK_DTRWR | TK_IEDA TK_TGKU 'H' 'Q';

G: I TK_RBS OGR MGOV TK_DTRWR | TK_ERGO;

SRVI: TK_MVI TK_TGKU | D OGR 'W' G TK_OM | 'K' | AHRM TK_BBZ 'W' DNFF | 'W' I SWRI TK_RBS;

C: TK_IEDA D OGR I LP | TK_PRGF TK_PRGF | SWRI TK_PRGF TK_HLJ D TK_HLJ | 'H' TK_HLJ TK_OM VZKQM;

D: DNFF | DNFF 'W';

OGR: LP TK_TGKU AHRM MGOV UCKQB | TRL TK_RBS C | UXESO;

AHRM: 'H' C | SWRI MGOV TK_HLJ TK_RBS | LP | UXESO 'H' TK_BBZ UXESO;

I: TK_OM TK_TGKU | LP TK_IEDA VZKQM TRL;

UCKQB: TK_SRWU 'K' TK_IEDA I TK_PRGF | TK_BBZ 'H' TK_TGKU DNFF TK_ERGO;

LP: MGOV TK_IEDA TK_HLJ 'K' TK_MVI | 'Q' 'Q' TK_IEDA TK_SRWU 'W' | ;

MGOV: 'H' VZKQM | 'H' 'Q' SRVI D TK_DTRWR | TK_BBZ;

TRL: 'W' | UCKQB TK_BBZ 'W' UXESO | OGR 'Y' | AHRM VZKQM I;

