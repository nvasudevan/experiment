%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_SRWU UXESO | 'Y' | C MGOV | TK_KL | SWRI C;

VYJU: TK_MVI 'H' TK_PRGF TK_PRGF TK_OM | UCKQB TK_TGKU TK_ERGO TK_PRGF | TRL;

VZKQM: TK_SRWU;

DNFF: SWRI UXESO LP TK_RBS | TK_RBS VYJU TK_RBS | ;

UXESO: G TK_HLJ TK_ERGO TK_TGKU | TK_RBS TK_RBS G 'H' | TK_RBS TK_DTRWR TK_MVI AHRM MGOV | ;

SWRI: SWRI 'H' TK_RBS TRL | TK_IEDA I 'Y' VZKQM UCKQB | TK_OM VYJU | VZKQM UCKQB;

G: 'H' UXESO TK_ERGO OGR TK_HLJ | 'K' VZKQM VZKQM SWRI I | SRVI UCKQB TK_DTRWR 'K' MGOV;

SRVI: C UXESO | TK_SRWU G SRVI C OGR | TK_PRGF TK_MVI TK_HLJ SWRI VYJU;

C: 'Y' 'H' MGOV TK_SRWU 'H' | TK_SRWU | AHRM 'W' TRL MGOV SRVI | TK_KL TK_KL DNFF UCKQB TK_TGKU;

D: OGR TK_TGKU TK_KL DNFF | 'W' OGR;

OGR: TK_RBS TK_PRGF | TK_DTRWR TK_IEDA D | 'K' TK_KL;

AHRM: TK_SRWU G TK_BBZ TK_IEDA TK_IEDA | VZKQM 'Q' TK_OM | AHRM TK_RBS G DNFF | TK_SRWU VZKQM;

I: SWRI 'H' UCKQB;

UCKQB: 'Q' VZKQM | TK_TGKU | AHRM;

LP: TK_ERGO AHRM VYJU MGOV TRL | C | 'Y' | AHRM 'Y' I | I UCKQB TK_HLJ;

MGOV: TK_KL TK_HLJ TK_MVI TK_ERGO C | TK_TGKU SRVI DNFF TK_DTRWR | TK_BBZ 'Q' TK_DTRWR D C | LP OGR;

TRL: UCKQB 'W' 'H' TK_KL I | DNFF | OGR TK_DTRWR MGOV TK_KL 'H' | SRVI TK_SRWU I;

