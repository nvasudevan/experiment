%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_ERGO TK_DTRWR | TK_HLJ VZKQM 'Y' | D;

VYJU: OGR TK_MVI | DNFF | TK_SRWU | TK_SRWU UCKQB TK_SRWU;

VZKQM: TK_DTRWR TK_KL TK_BBZ | ;

DNFF: TK_HLJ | TK_MVI VZKQM TK_MVI TK_HLJ TK_DTRWR | 'W' TK_BBZ UCKQB AHRM MGOV | VYJU TK_KL;

UXESO: TK_IEDA | I TK_ERGO TK_HLJ TK_SRWU | TRL OGR | TK_KL;

SWRI: OGR TK_OM TK_IEDA TRL 'H' | OGR TK_RBS TK_MVI D;

G: OGR TK_BBZ TK_DTRWR | 'K' AHRM D | TK_TGKU;

SRVI: 'K';

C: TK_PRGF D;

D: G I VZKQM TK_IEDA SRVI | UCKQB MGOV MGOV TK_KL LP | ;

OGR: TK_OM | 'W' | MGOV | TK_MVI TK_TGKU 'K' TK_BBZ C;

AHRM: AHRM | TK_PRGF | TK_KL LP;

I: VYJU C I SRVI | SWRI DNFF UCKQB AHRM TK_ERGO | UXESO TK_BBZ UCKQB 'K' G | TK_ERGO TK_DTRWR | TK_RBS TK_OM UXESO TK_HLJ AHRM;

UCKQB: 'H' 'K' TK_RBS | SRVI VZKQM AHRM | D D AHRM 'K' | 'Y';

LP: TK_BBZ TK_RBS TK_DTRWR LP | UXESO VYJU SRVI | VZKQM TK_MVI MGOV MGOV | UXESO 'H' D TK_OM;

MGOV: TK_IEDA OGR TK_MVI SRVI | DNFF 'K' DNFF DNFF G | TK_KL C TK_MVI;

TRL: TRL VZKQM TRL TK_IEDA TK_OM | TK_KL TRL 'W' | VZKQM 'Y';

