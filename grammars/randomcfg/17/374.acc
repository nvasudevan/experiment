%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_MVI DNFF LP TK_PRGF TK_IEDA | C I VZKQM 'W' UCKQB | MGOV SWRI TK_PRGF TK_BBZ;

VYJU: I | UXESO TK_OM | 'K';

VZKQM: 'W' TK_TGKU TK_SRWU TK_PRGF | OGR VYJU;

DNFF: 'W' SWRI SWRI D | AHRM UCKQB I VZKQM;

UXESO: TK_KL SWRI | TRL | TK_DTRWR 'H' | OGR D C 'W' SRVI;

SWRI: C TK_OM VYJU 'H' UCKQB | 'K' MGOV DNFF | SWRI LP 'H' TRL TK_TGKU | TRL TK_KL AHRM DNFF SWRI;

G: UXESO I G TK_OM | SWRI TK_BBZ TK_RBS TK_RBS LP | I | ;

SRVI: TK_RBS DNFF MGOV VZKQM TK_DTRWR | ;

C: SRVI I I TK_DTRWR | TK_ERGO TK_PRGF VZKQM TRL | AHRM TK_IEDA MGOV | DNFF UCKQB TK_DTRWR TK_IEDA;

D: UXESO AHRM | AHRM 'W' 'Y' I TK_DTRWR | TK_ERGO TRL DNFF;

OGR: TK_MVI UXESO C AHRM OGR | DNFF G | VZKQM TK_KL TK_ERGO TK_KL;

AHRM: TK_DTRWR TK_RBS | TK_DTRWR DNFF TK_ERGO UCKQB TRL | 'Q' | VYJU SRVI 'W' | TK_OM UXESO TK_ERGO;

I: UCKQB TK_BBZ TK_MVI DNFF VZKQM | G OGR 'Y' G TRL | 'W' D 'Y' LP TK_BBZ | LP VZKQM TK_KL TK_BBZ 'W' | 'W' MGOV UXESO 'Q';

UCKQB: DNFF | TRL | MGOV 'Y' 'Y' | MGOV 'W' | TK_TGKU;

LP: TK_KL | LP TK_IEDA DNFF UXESO | 'W' TK_MVI TK_BBZ | I 'Y' 'K' LP OGR;

MGOV: MGOV 'K' | C | 'H' | G TK_HLJ 'H' 'Y';

TRL: MGOV 'H' 'Q' | TK_DTRWR D | TK_BBZ LP TK_HLJ TK_KL | TRL UCKQB;

