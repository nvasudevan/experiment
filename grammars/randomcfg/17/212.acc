%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: UXESO TK_SRWU TK_RBS | TK_IEDA TK_SRWU;

VYJU: UXESO 'Q' VZKQM 'K' | G LP 'Q' SRVI | TK_KL TRL TK_MVI | LP | D TK_SRWU 'W' TK_BBZ;

VZKQM: 'K' DNFF | 'H' 'Y' OGR TK_PRGF;

DNFF: TRL | LP | UXESO DNFF G | VZKQM TK_TGKU AHRM;

UXESO: LP TK_MVI TK_ERGO;

SWRI: TK_MVI VZKQM TK_PRGF I | I 'Q' G | ;

G: TK_MVI 'Y' | VZKQM;

SRVI: TK_ERGO TK_MVI TK_HLJ | LP TK_RBS TK_HLJ 'H' | LP TK_MVI D OGR;

C: TK_RBS G G | 'Q' TK_ERGO TK_DTRWR VZKQM | LP TK_BBZ 'H' TK_BBZ SRVI;

D: TK_SRWU I UCKQB UCKQB 'W' | TK_KL TK_MVI 'H' | TK_HLJ TK_HLJ UCKQB TK_ERGO TK_PRGF;

OGR: TK_IEDA | TK_SRWU D SRVI TRL | TK_HLJ SWRI | TK_PRGF VZKQM TK_DTRWR DNFF UXESO | TK_KL;

AHRM: TK_RBS TK_IEDA OGR | TK_DTRWR TK_RBS TK_MVI TK_MVI TK_KL | D 'W' SWRI LP TK_PRGF | TK_MVI TK_PRGF TK_ERGO VYJU | 'K' C LP G;

I: 'Q' | TK_HLJ | 'K' TK_KL | 'Q' AHRM TK_ERGO 'W' C;

UCKQB: G G TK_MVI | VYJU LP | 'Q' 'K' C TK_OM TK_ERGO;

LP: DNFF TK_MVI TRL;

MGOV: OGR 'H' | TK_OM C;

TRL: SWRI | TK_OM AHRM | ;

