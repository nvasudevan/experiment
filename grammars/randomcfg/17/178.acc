%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: VZKQM C LP TK_BBZ UCKQB | VZKQM TK_TGKU 'Q' UXESO 'Q' | I DNFF;

VYJU: TK_KL 'K' 'Y' | ;

VZKQM: TK_RBS TK_MVI | TK_BBZ TK_PRGF 'Q' | OGR UXESO OGR | TK_RBS VYJU UCKQB MGOV | OGR TK_BBZ 'Q' AHRM TK_KL;

DNFF: TK_HLJ TK_DTRWR TK_BBZ | OGR 'H' | TK_TGKU | TRL DNFF TK_BBZ D;

UXESO: DNFF UCKQB G | 'Q' TK_OM 'Q' | ;

SWRI: MGOV | 'Y' | SWRI 'W';

G: VYJU | TK_HLJ 'W' TK_SRWU C | TK_ERGO SWRI I OGR | 'Y' AHRM UCKQB TK_ERGO;

SRVI: MGOV TK_MVI TK_HLJ SRVI TK_OM | TK_SRWU SWRI TK_MVI LP DNFF | TK_HLJ TRL;

C: MGOV VZKQM VZKQM TK_IEDA | OGR D;

D: TK_RBS VYJU AHRM;

OGR: C TK_PRGF 'Y' TK_ERGO;

AHRM: TK_BBZ DNFF VZKQM | I 'Y' | 'W' SRVI 'W' MGOV | I TK_SRWU G TK_IEDA;

I: C MGOV TRL | 'K' LP | 'W' AHRM AHRM TK_RBS LP | TK_TGKU SRVI TK_DTRWR LP I;

UCKQB: TK_TGKU 'W' LP TK_ERGO SWRI | TK_PRGF TK_IEDA TK_BBZ TK_BBZ TK_HLJ | G OGR | TK_OM TK_MVI VYJU | 'Y';

LP: TK_IEDA;

MGOV: D | TK_KL OGR TK_ERGO;

TRL: VYJU UXESO TK_PRGF TK_PRGF 'W' | TK_PRGF C TK_MVI TK_HLJ UCKQB | DNFF | TK_DTRWR | LP TK_OM D I;

