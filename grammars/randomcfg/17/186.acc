%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: LP G | LP 'W' | DNFF TK_MVI VZKQM | TK_HLJ OGR VYJU D;

VYJU: 'W' DNFF SWRI | TK_PRGF UXESO | UCKQB TK_OM | I TK_BBZ VYJU;

VZKQM: 'K' G 'K' 'Q' | 'K' | TK_IEDA;

DNFF: TK_OM VZKQM TK_RBS TK_KL MGOV | VZKQM TK_ERGO | SWRI AHRM SWRI 'H';

UXESO: TK_RBS | TK_DTRWR I OGR AHRM DNFF | TK_SRWU TK_ERGO C TK_OM TK_OM | TK_RBS MGOV VYJU | OGR 'K' TK_RBS;

SWRI: TK_DTRWR VZKQM | 'K' UXESO | MGOV SRVI 'Y' | ;

G: TK_SRWU | TK_RBS TK_SRWU TK_TGKU TK_ERGO DNFF | TK_TGKU TK_OM VYJU | ;

SRVI: I 'Q' TK_RBS AHRM TK_OM | 'Y' | C TK_BBZ | DNFF MGOV 'H' SWRI | TK_TGKU TK_IEDA;

C: D TRL | VZKQM | 'W' I I C | 'H' TK_IEDA VZKQM 'H' | TK_BBZ D VZKQM;

D: TK_OM 'K' | 'Y' TK_BBZ TK_TGKU AHRM VYJU | AHRM G TK_DTRWR TK_ERGO | SWRI G 'Q' OGR TK_ERGO;

OGR: OGR UXESO | DNFF SWRI 'Q' | SRVI 'Q' TK_KL D TK_RBS | 'K' | VYJU TK_BBZ TK_ERGO TK_OM;

AHRM: 'H' DNFF;

I: TK_PRGF | G TK_PRGF | TRL | UCKQB LP UCKQB I | SRVI;

UCKQB: SRVI TK_RBS SWRI TK_MVI | 'H' UCKQB TK_SRWU OGR | SWRI I | UXESO TK_PRGF TK_PRGF AHRM | TK_SRWU TK_KL VZKQM;

LP: 'H' 'Q' TK_ERGO TK_RBS TK_PRGF | TRL I TK_TGKU TK_KL | LP I;

MGOV: TK_TGKU TK_SRWU TK_TGKU LP | G C | 'K' TK_HLJ LP TK_HLJ OGR | 'H' | ;

TRL: TK_HLJ C VZKQM TK_PRGF 'Q' | TK_PRGF TK_RBS VYJU TK_OM TK_DTRWR | UXESO AHRM TK_IEDA LP | UCKQB VYJU 'H' DNFF;

