%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_MVI SWRI VYJU UXESO | TK_DTRWR OGR LP | 'K' | SRVI | DNFF UCKQB 'Y';

VYJU: OGR DNFF;

VZKQM: UXESO | UCKQB MGOV D SWRI VZKQM | TK_BBZ 'Y' OGR MGOV | 'W' 'Q' 'W' SWRI 'W';

DNFF: TK_DTRWR 'W' TK_MVI | TK_KL TK_HLJ SRVI TRL | ;

UXESO: I | DNFF 'Q' UCKQB;

SWRI: D C | LP TK_BBZ VYJU TK_BBZ 'Q' | VZKQM 'K' I | 'W' 'K' UCKQB;

G: LP C LP TK_PRGF | SRVI TK_IEDA TK_PRGF DNFF TRL | LP | TK_ERGO TK_MVI TK_ERGO;

SRVI: TK_DTRWR I TK_IEDA 'Y' | 'Y' UCKQB DNFF | TK_ERGO TK_RBS SRVI | TK_MVI SRVI;

C: TRL TK_ERGO AHRM 'K' TK_MVI;

D: G TK_RBS 'Y' SWRI;

OGR: VZKQM TK_BBZ TK_HLJ | 'K' | TK_IEDA | OGR;

AHRM: TK_MVI | UXESO | I VYJU C;

I: 'K' LP I AHRM D | OGR | G TK_BBZ C TK_OM;

UCKQB: DNFF | TK_MVI TK_HLJ TK_RBS 'H' | C SWRI TRL C;

LP: 'Y' UCKQB;

MGOV: TK_PRGF TK_IEDA | TK_TGKU 'K' TK_RBS | SWRI TK_BBZ D | TK_DTRWR AHRM | G 'K' 'W' UCKQB TK_RBS;

TRL: TK_TGKU | TK_TGKU OGR | 'Y' TK_TGKU D | VZKQM D TK_BBZ AHRM | ;

