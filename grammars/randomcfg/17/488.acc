%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_OM TK_DTRWR 'K' | 'W' | LP TK_HLJ 'K' TRL SWRI | 'Q' 'K';

VYJU: TK_OM TK_RBS | TK_PRGF SWRI | TK_KL TK_PRGF | VZKQM G;

VZKQM: LP | TK_ERGO SRVI 'W';

DNFF: 'W' TK_ERGO UXESO SWRI | MGOV DNFF TK_TGKU VYJU | TK_HLJ I D | SWRI UCKQB 'W' 'Y' OGR | OGR TK_DTRWR;

UXESO: TK_MVI VYJU TK_BBZ VYJU | TK_BBZ UCKQB | C DNFF | DNFF D;

SWRI: TK_KL | TRL TK_ERGO TRL | DNFF | I | G;

G: D TK_BBZ | TRL TK_RBS TK_RBS TK_ERGO UXESO | VZKQM SRVI TK_SRWU | TK_RBS TK_KL G;

SRVI: TK_IEDA OGR 'Y' I TK_IEDA | TK_RBS TK_BBZ G TK_ERGO MGOV | TK_IEDA TK_BBZ SWRI;

C: D UCKQB 'W' TK_SRWU | TK_PRGF SWRI VYJU TK_MVI | G | 'K';

D: C C C TK_KL | DNFF LP OGR I VYJU | TK_BBZ VYJU UXESO LP TK_TGKU | OGR 'Y' TRL | ;

OGR: TK_SRWU 'K' TK_BBZ | TRL TK_RBS TK_TGKU TK_KL TK_KL | ;

AHRM: DNFF LP G 'K' TK_BBZ | VZKQM C G | 'H' I I;

I: TK_MVI VZKQM 'Q' TK_DTRWR TK_IEDA;

UCKQB: UXESO TK_SRWU TK_SRWU;

LP: AHRM;

MGOV: VYJU | TK_OM AHRM C TK_PRGF AHRM | VZKQM | 'H' 'Y' TK_PRGF 'K' I;

TRL: 'K' 'Y' 'Y' 'Q' | TK_HLJ | TK_KL | TK_IEDA D UCKQB;

