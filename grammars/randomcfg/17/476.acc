%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: SRVI TK_TGKU TK_MVI 'Q' TK_MVI | TK_DTRWR | SRVI MGOV;

VYJU: TK_SRWU LP 'H' G | TK_PRGF VZKQM | D SWRI TK_BBZ | VZKQM AHRM UCKQB;

VZKQM: 'W' | OGR LP TK_IEDA MGOV;

DNFF: VZKQM TK_IEDA | TK_DTRWR | VZKQM TK_SRWU D | OGR UCKQB;

UXESO: TRL VZKQM | TK_DTRWR TK_SRWU | TK_RBS SRVI UXESO TK_BBZ VZKQM | TK_RBS UCKQB C TK_DTRWR | TK_MVI LP G;

SWRI: MGOV TK_RBS 'W' UXESO VYJU;

G: 'W' D | TK_OM DNFF TRL TK_TGKU | SWRI AHRM TK_DTRWR UCKQB TK_MVI | TK_DTRWR 'W';

SRVI: UXESO TK_RBS;

C: OGR UCKQB AHRM G | TK_DTRWR I 'Q' | ;

D: 'Q' TK_TGKU VZKQM AHRM SRVI | TK_HLJ UCKQB TRL | TK_KL | SWRI TRL VYJU 'Y' | G TK_MVI D;

OGR: AHRM TK_DTRWR DNFF TK_SRWU | 'Y' TK_SRWU AHRM TK_PRGF MGOV | TK_ERGO DNFF TK_DTRWR | VZKQM | TK_MVI TK_TGKU 'Y';

AHRM: UCKQB UCKQB | C | ;

I: TK_HLJ 'H' D;

UCKQB: 'Y' TK_PRGF MGOV LP | TK_IEDA UXESO 'H' 'W';

LP: VYJU | LP TK_MVI TK_KL 'H' | 'Y' SWRI UXESO VZKQM TK_TGKU | TK_BBZ;

MGOV: AHRM I | TK_RBS 'Q' C | DNFF TK_BBZ I 'Y' | TK_SRWU TRL;

TRL: I 'Y' C TK_KL TK_PRGF | TK_DTRWR 'W' 'H' TK_IEDA TK_DTRWR;

