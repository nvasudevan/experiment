%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'Q' | TK_BBZ VYJU LP VYJU I;

VYJU: TK_ERGO TK_SRWU TK_DTRWR MGOV | 'Y' LP TK_RBS | DNFF I TK_OM | VYJU 'W' TK_HLJ;

VZKQM: OGR TK_TGKU D SRVI DNFF | MGOV | SWRI 'K';

DNFF: SRVI G VZKQM 'W' | TK_BBZ 'H' TK_KL TK_KL SWRI | 'Q' SRVI 'H' DNFF | TK_TGKU C TK_KL TK_MVI TK_KL | ;

UXESO: TK_HLJ TK_HLJ TK_PRGF D TK_BBZ | TK_ERGO TK_HLJ;

SWRI: TK_HLJ 'K' | G I OGR 'Q' TK_SRWU | VZKQM TK_RBS | TK_BBZ TK_HLJ;

G: OGR C UXESO | VZKQM TRL TK_DTRWR TK_SRWU LP | OGR TK_MVI MGOV 'H' AHRM;

SRVI: D D | UCKQB TK_RBS TK_TGKU SRVI | TK_KL C TK_DTRWR TK_SRWU | SWRI | TK_IEDA TK_TGKU VYJU;

C: UXESO OGR UCKQB | 'H' TK_TGKU | TK_HLJ D;

D: 'W' | TK_OM G TK_OM TK_HLJ;

OGR: TK_HLJ TK_PRGF UCKQB;

AHRM: SRVI 'W' G D | TK_RBS 'H' 'Y' TK_IEDA | TK_SRWU 'Q' 'K' TRL VYJU | AHRM TK_BBZ TK_MVI TK_OM | TK_RBS I TK_TGKU;

I: TK_DTRWR LP TK_IEDA | TK_ERGO TK_RBS UCKQB TK_HLJ DNFF | I TRL VYJU SWRI | TK_MVI TK_OM TK_HLJ VYJU G | SRVI TK_OM 'Q' 'H' TK_RBS;

UCKQB: G | ;

LP: TK_MVI | TK_ERGO AHRM UXESO G OGR | SWRI TK_PRGF TK_IEDA | AHRM TK_BBZ UCKQB | G VZKQM 'W' D;

MGOV: LP TK_DTRWR TK_RBS DNFF G | DNFF | DNFF SWRI TK_RBS OGR | G SRVI LP TK_TGKU | TK_DTRWR AHRM TK_ERGO;

TRL: 'Y' LP | VYJU D 'H';

