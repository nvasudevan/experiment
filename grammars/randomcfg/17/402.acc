%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_PRGF 'Y' TK_BBZ DNFF | VYJU TK_TGKU 'H' 'K' TK_IEDA;

VYJU: D TK_SRWU SRVI;

VZKQM: 'H' TK_PRGF 'Y' | SWRI I VZKQM | TK_OM UCKQB TK_SRWU | 'W' D TK_OM TK_BBZ TK_DTRWR;

DNFF: TRL | 'H' TRL 'H' OGR;

UXESO: D TK_RBS TK_ERGO TK_MVI OGR | TK_TGKU TK_SRWU 'Y' TK_RBS | D 'W' TK_KL VYJU G | C TK_ERGO SWRI TK_DTRWR LP;

SWRI: UCKQB LP UCKQB | TK_SRWU 'Y' | MGOV | UXESO TRL;

G: TK_PRGF I LP | AHRM D TK_SRWU TK_TGKU TK_PRGF;

SRVI: AHRM;

C: SRVI | TK_OM SRVI UCKQB OGR | G TK_RBS 'H' VYJU OGR | 'Q' SWRI | ;

D: I 'Q' LP 'Q' TK_ERGO | TK_DTRWR OGR I DNFF TK_MVI | OGR | SWRI TK_TGKU TK_SRWU TK_SRWU G | TK_IEDA TK_KL;

OGR: MGOV SRVI | 'Y' TK_ERGO | D TK_ERGO TK_MVI | TK_ERGO | G TK_PRGF;

AHRM: D | TK_IEDA OGR TK_KL | TK_DTRWR UCKQB TK_HLJ 'Q' TK_RBS | ;

I: TK_BBZ MGOV | TK_ERGO TK_IEDA VZKQM 'H' | TK_MVI SWRI | 'W' D;

UCKQB: D MGOV | AHRM 'H' TK_RBS VZKQM G;

LP: 'Q' | 'Y' TK_BBZ D D MGOV;

MGOV: LP UXESO TK_RBS | TK_KL VYJU TK_MVI D TK_RBS | UXESO UCKQB LP TK_KL | LP I;

TRL: TRL OGR 'Q' | TK_ERGO DNFF TRL TK_KL LP | I DNFF TK_KL TK_PRGF | SRVI TK_IEDA MGOV VYJU AHRM | TK_IEDA 'Y' TK_TGKU TK_PRGF D;

