%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'W' I;

VYJU: TK_DTRWR | TK_ERGO TK_IEDA LP TK_BBZ;

VZKQM: VZKQM TK_BBZ UXESO TK_PRGF | TK_BBZ AHRM AHRM DNFF TK_HLJ | AHRM;

DNFF: TK_ERGO TK_BBZ OGR | C SRVI TK_OM AHRM;

UXESO: TK_IEDA VYJU D | G | ;

SWRI: 'H' | SRVI;

G: TK_SRWU LP TK_OM D TK_MVI | ;

SRVI: TK_PRGF I OGR;

C: TK_ERGO TK_PRGF TRL TK_PRGF;

D: 'Q' LP TK_OM 'H' | MGOV 'Y' TK_OM | MGOV TK_SRWU TK_KL G SRVI | TK_RBS VZKQM 'H' C | TK_PRGF TK_RBS D;

OGR: SRVI SRVI | D TK_ERGO LP MGOV;

AHRM: TK_HLJ | TK_SRWU | TK_RBS 'W' TK_ERGO 'H' | TK_MVI TK_KL D TK_DTRWR TRL | DNFF TK_ERGO TK_SRWU TK_MVI;

I: TK_OM LP | TK_TGKU TK_IEDA UXESO | DNFF | G OGR UXESO TK_DTRWR OGR | TK_IEDA TK_MVI TK_RBS TK_ERGO;

UCKQB: TK_ERGO 'Q' | TK_OM TK_ERGO | C TK_RBS OGR | TK_OM VYJU C UCKQB LP;

LP: 'Q' | TK_OM TK_DTRWR I | TK_SRWU;

MGOV: TRL LP | TK_PRGF UCKQB TK_KL TK_DTRWR VZKQM | 'W' VZKQM TK_KL OGR;

TRL: MGOV UXESO 'H' | VZKQM SRVI | 'Q' TK_IEDA UXESO TK_OM 'K';

