%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TRL TK_OM VYJU I I;

VYJU: TK_ERGO VYJU TK_TGKU TK_TGKU I | TK_ERGO TK_IEDA TK_OM LP TK_HLJ | 'K' SRVI TK_BBZ OGR 'Q' | SWRI DNFF 'W' | I VYJU;

VZKQM: TK_HLJ UXESO VYJU VYJU;

DNFF: TK_TGKU TRL TRL | OGR TK_HLJ TK_OM UXESO | TK_KL 'K' TK_HLJ;

UXESO: I 'H' | TK_TGKU TRL TK_DTRWR TRL;

SWRI: TK_IEDA VYJU VZKQM TRL | TRL VZKQM | 'K' TK_HLJ DNFF TRL | 'H' TK_KL VZKQM TK_DTRWR;

G: VYJU 'H' | ;

SRVI: 'Q' TK_SRWU TK_OM TK_OM;

C: TK_HLJ | OGR DNFF C TRL UCKQB;

D: OGR;

OGR: 'Y' TK_DTRWR | TK_IEDA TK_TGKU | AHRM TK_DTRWR | C 'H' C | ;

AHRM: TK_MVI | DNFF 'W' TK_MVI | VYJU AHRM;

I: 'K' | 'K' I UCKQB SRVI | D C | 'H' TRL | TK_ERGO VYJU AHRM;

UCKQB: OGR G TK_BBZ TK_DTRWR | TK_RBS LP 'W' LP | I TK_IEDA TK_OM DNFF TK_PRGF | DNFF;

LP: AHRM TK_IEDA 'Q' VZKQM VZKQM | 'H' TK_DTRWR TK_SRWU | D VYJU TK_TGKU OGR TK_MVI | VYJU TK_RBS UXESO;

MGOV: I MGOV | 'Q' SWRI UXESO TK_TGKU | TK_IEDA TK_OM DNFF | TK_MVI 'Q' I TK_KL | C TRL OGR LP 'K';

TRL: SWRI TK_ERGO VYJU G 'Y' | VYJU VZKQM SWRI G | SRVI | C TRL 'H' TK_PRGF;

