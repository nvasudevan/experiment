%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'K' TK_SRWU | TK_ERGO OGR 'K' 'Q' | TK_BBZ TK_PRGF VYJU SWRI;

VYJU: G 'W' D TK_PRGF | TK_RBS VZKQM TK_DTRWR OGR | 'K';

VZKQM: TRL I VYJU | TK_KL | UXESO TRL OGR TK_DTRWR C;

DNFF: OGR | TK_RBS TK_RBS AHRM 'Q' LP | LP TK_SRWU | DNFF TK_BBZ I | TK_MVI DNFF 'Q' VYJU;

UXESO: AHRM 'K' | AHRM VYJU TK_BBZ;

SWRI: C DNFF OGR | UXESO OGR DNFF C | TK_PRGF 'W' UCKQB I SRVI | TK_MVI TK_SRWU TK_PRGF DNFF SWRI | ;

G: TK_DTRWR TK_RBS TK_PRGF;

SRVI: SWRI;

C: TK_DTRWR 'W' UCKQB VZKQM 'K' | C TK_IEDA DNFF TK_ERGO OGR | D C LP | 'Q' TK_IEDA TK_IEDA | VYJU TK_MVI TK_HLJ;

D: TK_PRGF TK_SRWU DNFF 'H' | ;

OGR: UXESO AHRM LP | G;

AHRM: TK_TGKU 'H' DNFF TK_IEDA DNFF | 'H' TK_DTRWR TRL TK_IEDA TK_SRWU | TK_MVI SRVI TK_MVI UXESO | TK_ERGO 'W' 'K';

I: 'Q' | I DNFF | TK_OM TK_BBZ | TK_RBS TK_IEDA TRL TK_RBS 'K' | AHRM VZKQM MGOV TK_ERGO;

UCKQB: LP OGR TK_BBZ SWRI 'Q' | TK_OM MGOV MGOV | SWRI | TK_HLJ 'K' TK_RBS TK_RBS | LP TRL TK_PRGF I;

LP: TK_SRWU 'Y' VZKQM C | MGOV D | 'H' | TK_RBS VZKQM;

MGOV: TRL TK_OM VYJU TK_KL TK_RBS | C G | UCKQB TK_BBZ TK_SRWU D | UCKQB TK_OM;

TRL: AHRM SWRI TK_TGKU 'Y' | TK_SRWU SRVI TK_DTRWR TK_KL VYJU;

