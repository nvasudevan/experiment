%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: G G TK_OM TK_DTRWR 'K';

VYJU: TRL | D UXESO TRL | VZKQM DNFF C AHRM;

VZKQM: AHRM UCKQB | ;

DNFF: TK_BBZ 'Q' TK_KL;

UXESO: VZKQM 'K' 'Y' TK_HLJ TK_KL | UXESO G | C D | 'Q';

SWRI: I TK_MVI 'K' | VZKQM | DNFF TK_BBZ OGR VZKQM | D | SWRI UCKQB MGOV TK_OM;

G: TK_DTRWR I AHRM | VZKQM TK_KL VYJU TK_SRWU TK_RBS | OGR TK_TGKU UXESO | 'Q' AHRM | TK_DTRWR TRL LP G;

SRVI: TK_DTRWR TK_ERGO UCKQB OGR | MGOV 'K' C | VZKQM LP TK_TGKU AHRM | 'Y' TK_KL TK_SRWU TK_KL VZKQM | TK_HLJ 'K' DNFF TK_PRGF 'Y';

C: D SWRI G SRVI 'K' | TK_OM;

D: 'Y' SWRI SRVI TK_KL | UCKQB TRL TK_KL 'H' | LP AHRM 'K' AHRM TK_SRWU | TK_IEDA SRVI G SRVI;

OGR: TK_OM TK_BBZ VZKQM;

AHRM: TK_TGKU C | SRVI 'Q' TK_PRGF G | TK_KL TRL | DNFF 'Y' TRL;

I: MGOV D | MGOV OGR VYJU C | VZKQM TK_IEDA C UXESO | TK_RBS;

UCKQB: VYJU OGR VYJU SRVI I | TRL VYJU SRVI VYJU;

LP: TK_ERGO SWRI | OGR 'W' TK_RBS TK_RBS UCKQB | TK_HLJ TK_IEDA SRVI I 'Y' | C DNFF | TK_OM;

MGOV: OGR SRVI | VYJU TK_MVI | TK_KL TK_SRWU TK_DTRWR DNFF | VZKQM TK_DTRWR 'Q';

TRL: VZKQM MGOV TK_SRWU VYJU G | ;

