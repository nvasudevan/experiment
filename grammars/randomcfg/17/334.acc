%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_PRGF TRL TK_OM | G TK_MVI TK_IEDA TK_PRGF AHRM | UCKQB TK_KL 'K' LP TK_BBZ;

VYJU: TK_PRGF TK_PRGF TK_KL VZKQM | TK_MVI | TK_IEDA SRVI VZKQM D G | 'Y' | SRVI OGR I;

VZKQM: TK_PRGF TK_KL TK_RBS TK_OM | C 'Q' TK_TGKU TK_RBS D | DNFF 'Q' TK_RBS TK_KL | ;

DNFF: VYJU C D TK_SRWU | 'H' TK_TGKU TK_HLJ VYJU | VZKQM TK_KL UXESO D TK_RBS | TK_TGKU C 'W' | UXESO AHRM 'Y';

UXESO: TK_TGKU | VYJU TK_OM SRVI TRL D | TRL MGOV VYJU TK_DTRWR TK_SRWU | TK_DTRWR TK_PRGF UCKQB SRVI;

SWRI: AHRM | DNFF UCKQB 'Q' 'Y' 'K';

G: C TK_MVI 'Y' 'H' VZKQM | D LP TK_KL 'Q' AHRM;

SRVI: I G OGR TK_SRWU | TK_OM 'H' | 'H' | TK_TGKU TK_OM DNFF TK_MVI UCKQB | TK_HLJ D 'H' DNFF VZKQM;

C: C VYJU OGR MGOV | TK_MVI TRL 'H' OGR AHRM;

D: 'Q' 'K' | 'W' TK_KL AHRM AHRM | UCKQB;

OGR: C | UCKQB 'K';

AHRM: TK_HLJ | AHRM | UXESO LP LP 'Q' TK_SRWU | ;

I: VZKQM TK_OM;

UCKQB: LP 'H' | UCKQB TK_OM UCKQB;

LP: SWRI | TK_KL UXESO SRVI LP OGR | TK_DTRWR | TK_KL | TK_TGKU TK_BBZ 'H' AHRM TK_RBS;

MGOV: TK_BBZ | 'Y' 'K' DNFF UXESO TK_SRWU | TK_SRWU VYJU SWRI TK_MVI;

TRL: 'W' TK_PRGF TK_RBS 'Y' 'Q' | TRL SWRI 'K' MGOV | TK_PRGF SRVI | D | TK_ERGO;

