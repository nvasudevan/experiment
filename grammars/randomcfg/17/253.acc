%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'K' TK_BBZ TK_PRGF VYJU | TK_BBZ TK_IEDA TK_IEDA AHRM | TK_SRWU;

VYJU: 'W' TK_MVI LP TK_SRWU TK_TGKU | SWRI;

VZKQM: 'H' C 'Q' 'W' | TK_KL TK_SRWU G | UCKQB 'H' AHRM;

DNFF: 'W' UXESO VZKQM TK_PRGF VYJU | TK_PRGF | TK_ERGO 'Y' OGR | TK_HLJ TK_MVI;

UXESO: D TK_PRGF D;

SWRI: TK_DTRWR TK_OM | 'Y' 'Q' I | OGR | TK_IEDA D VZKQM;

G: SWRI TK_IEDA AHRM TK_OM | TK_MVI SRVI VYJU UXESO | TK_TGKU TK_SRWU | VYJU VZKQM AHRM VYJU D | ;

SRVI: TRL DNFF TK_MVI TK_IEDA TK_ERGO | TK_OM TK_IEDA 'H' D TK_HLJ | ;

C: TK_BBZ 'K' TK_OM G TK_OM | VYJU TK_SRWU G 'W' | TK_MVI OGR TK_SRWU;

D: 'W' | TK_MVI 'K' I DNFF LP | LP TK_IEDA UCKQB | MGOV | D TK_OM;

OGR: I | OGR | I LP TRL TK_PRGF | DNFF TK_SRWU TK_PRGF 'W';

AHRM: TK_ERGO I TK_SRWU VZKQM UCKQB | SWRI | 'W' I 'H' TK_IEDA | TK_IEDA 'Q' SRVI G;

I: DNFF | SRVI 'W' TK_IEDA AHRM | TK_RBS TK_OM TK_RBS AHRM VYJU;

UCKQB: TK_ERGO TK_HLJ TK_RBS | UXESO SRVI DNFF TK_OM UCKQB | G I C TRL TK_DTRWR;

LP: TK_DTRWR LP TK_DTRWR | G 'K' TK_SRWU TRL C | UCKQB TRL LP;

MGOV: VZKQM TK_SRWU D | I TK_KL VYJU TK_MVI;

TRL: TK_BBZ | MGOV | UXESO | UCKQB G OGR | 'K' G 'Q';

