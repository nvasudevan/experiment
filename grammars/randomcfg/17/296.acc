%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_MVI TK_KL | TK_OM 'K' TK_BBZ VZKQM | TK_SRWU D UCKQB C | TK_DTRWR 'Y' TK_MVI | TK_MVI TK_HLJ TK_IEDA;

VYJU: TK_RBS OGR TK_TGKU;

VZKQM: MGOV TK_BBZ VYJU LP TK_DTRWR | 'Y' TK_TGKU AHRM TK_HLJ LP | TK_OM | ;

DNFF: VYJU TK_RBS AHRM TK_KL | TK_MVI TK_ERGO;

UXESO: D SWRI TK_KL C | VYJU UCKQB;

SWRI: MGOV LP TK_SRWU TK_TGKU 'K' | I TK_DTRWR | TK_SRWU TK_RBS | TK_DTRWR G | OGR TK_SRWU;

G: UCKQB MGOV LP SRVI | G 'W' TK_TGKU TK_KL | TK_SRWU TK_DTRWR DNFF TK_BBZ | TK_TGKU | C TK_ERGO TK_BBZ TK_SRWU TK_KL;

SRVI: D UCKQB 'K' | TRL SWRI | 'K' MGOV UXESO | ;

C: D MGOV MGOV | VZKQM 'K' UXESO | TK_IEDA TK_PRGF TK_PRGF TK_OM TK_TGKU | G 'K' UCKQB OGR TK_TGKU | MGOV VYJU UXESO TK_TGKU D;

D: TK_IEDA SWRI 'H' UXESO | 'Q' 'Y' AHRM AHRM TK_DTRWR | D | TK_ERGO AHRM UCKQB VYJU | SRVI VYJU;

OGR: TK_HLJ 'K' TK_OM | TK_ERGO TK_RBS TK_IEDA SRVI | I TK_TGKU TK_MVI | VYJU TK_BBZ 'Y';

AHRM: TK_TGKU 'Q' VZKQM G | TK_ERGO TK_KL;

I: DNFF UCKQB TK_KL LP C | TK_ERGO UCKQB D | 'K' | G MGOV;

UCKQB: 'Q' SRVI AHRM 'Y' | 'H' TK_KL C TK_SRWU;

LP: TK_HLJ | TK_DTRWR 'W';

MGOV: C UCKQB 'Y' TK_RBS TK_PRGF | G 'Q' TK_DTRWR | LP VYJU TK_KL;

TRL: TK_OM | TK_MVI AHRM DNFF C TK_MVI | TK_SRWU OGR;

