%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_RBS TK_OM SWRI | SWRI AHRM 'Y' SRVI;

VYJU: AHRM TK_ERGO TK_OM TK_PRGF OGR;

VZKQM: TK_SRWU TK_HLJ VYJU AHRM | AHRM TK_SRWU UCKQB 'K' 'W' | ;

DNFF: SWRI TK_OM I TK_BBZ TK_MVI;

UXESO: AHRM G | TK_TGKU TK_SRWU VYJU AHRM | TK_SRWU UXESO 'Y';

SWRI: TK_TGKU TK_HLJ TK_HLJ OGR UXESO;

G: TK_IEDA TK_PRGF TK_BBZ TK_MVI UCKQB | UXESO TK_RBS SWRI | 'Y' OGR SRVI | 'H' 'H' MGOV | TK_KL TK_PRGF MGOV TK_ERGO;

SRVI: I | TK_DTRWR | LP | ;

C: TK_OM | UCKQB UXESO TK_MVI 'K';

D: 'H' I OGR LP TK_HLJ | UCKQB 'Y' | TK_IEDA | AHRM MGOV VYJU | TK_KL DNFF VYJU D;

OGR: 'K' TK_MVI UXESO TK_ERGO | SWRI | AHRM TK_RBS 'Q' TK_DTRWR;

AHRM: 'W' LP TK_IEDA | TK_IEDA VYJU TK_ERGO | TK_SRWU VZKQM DNFF TK_KL | 'Q' 'K' TK_ERGO TK_PRGF;

I: TK_BBZ C | VYJU TK_ERGO I MGOV;

UCKQB: TK_RBS TK_PRGF;

LP: VZKQM;

MGOV: LP LP TK_BBZ | TK_IEDA | TK_HLJ OGR TK_ERGO | TRL MGOV | I TK_DTRWR UCKQB TK_MVI TK_KL;

TRL: 'Y' TK_MVI G TK_DTRWR UXESO | UCKQB TK_KL TK_ERGO DNFF | VZKQM TK_BBZ | 'Q' TK_IEDA C | D AHRM LP;

