%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'W';

VYJU: TK_HLJ UCKQB TRL TK_KL | 'Y' UCKQB 'Q';

VZKQM: 'H' TK_ERGO TK_SRWU G | SRVI | TRL VZKQM 'H' TK_IEDA TK_RBS | DNFF DNFF D AHRM LP | ;

DNFF: 'W' TK_BBZ SWRI TK_TGKU MGOV | AHRM VZKQM OGR UXESO SRVI;

UXESO: TRL I D 'Q' | TK_KL TK_TGKU 'H' | UCKQB SWRI LP I | 'Q' OGR | MGOV OGR;

SWRI: TK_BBZ VZKQM TK_HLJ SWRI DNFF | C TK_DTRWR TK_OM AHRM DNFF | TK_OM 'Q' TK_DTRWR LP;

G: TK_DTRWR G SWRI C | SRVI UCKQB | UCKQB TK_MVI | 'K' SWRI OGR 'Q' TK_KL | TK_BBZ;

SRVI: TK_ERGO TK_HLJ | D TK_IEDA D TK_BBZ UXESO | TK_ERGO TK_ERGO | TK_RBS DNFF | TK_HLJ TK_KL TK_BBZ;

C: TK_DTRWR UCKQB VYJU TK_DTRWR 'W' | 'H' TK_KL TK_MVI UCKQB | G I;

D: TRL TK_IEDA;

OGR: TK_ERGO 'H' TK_HLJ | AHRM UXESO OGR MGOV G | DNFF TRL TK_ERGO | TK_HLJ LP D TK_HLJ | 'H' 'K';

AHRM: 'Y' VYJU 'K' SRVI | TK_ERGO 'Q' TK_MVI 'H' | C I AHRM 'K' TK_SRWU;

I: I C | ;

UCKQB: VZKQM D OGR UXESO | TK_DTRWR | TK_RBS TK_HLJ TK_PRGF | TK_TGKU | AHRM SWRI UCKQB I TK_HLJ;

LP: AHRM AHRM TK_TGKU | TK_TGKU TK_OM 'K' TK_PRGF | TK_IEDA;

MGOV: TK_TGKU 'W' | C TK_MVI | TK_ERGO | VYJU TK_ERGO | TK_OM;

TRL: VZKQM OGR LP;

