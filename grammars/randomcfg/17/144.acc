%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_PRGF C TK_PRGF TK_HLJ | TK_SRWU TK_ERGO TK_ERGO | VYJU TK_MVI LP TK_ERGO;

VYJU: 'W' UCKQB C | G TK_DTRWR TK_MVI TK_HLJ;

VZKQM: UCKQB;

DNFF: 'W' AHRM I TK_KL | SRVI 'Q' TK_RBS | TK_IEDA;

UXESO: 'Q' TK_IEDA VYJU | 'W' DNFF TK_BBZ TK_SRWU | ;

SWRI: DNFF TK_SRWU LP;

G: VYJU | TK_HLJ 'H' VYJU TRL | UCKQB | TK_ERGO | VZKQM UXESO TK_ERGO TK_IEDA;

SRVI: SWRI TRL | TK_OM OGR G;

C: OGR TK_PRGF TK_MVI TK_RBS | TK_TGKU TK_RBS OGR | LP OGR;

D: OGR UXESO;

OGR: 'W' 'W' TK_OM D | SWRI LP VYJU;

AHRM: 'W' C TK_KL SWRI | 'Y' AHRM TK_PRGF TK_TGKU LP | 'Y' I SWRI | TK_ERGO I;

I: VYJU | TK_KL LP | TK_ERGO 'H' TK_RBS TK_OM | 'W' SWRI MGOV | I UXESO TK_DTRWR AHRM TK_KL;

UCKQB: TK_ERGO TK_BBZ | I TK_OM SWRI | TK_MVI DNFF AHRM TK_IEDA;

LP: 'Q' TK_RBS SRVI | VYJU SWRI TK_DTRWR TK_BBZ MGOV | TK_PRGF G 'Q' TK_DTRWR TK_PRGF | ;

MGOV: UXESO | TK_SRWU TK_SRWU | AHRM | SWRI TK_IEDA UXESO DNFF | D;

TRL: 'Q' VYJU | I;

