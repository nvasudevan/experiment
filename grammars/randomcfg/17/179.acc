%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'K' 'H' | SRVI | D | UCKQB TRL TK_PRGF VYJU;

VYJU: DNFF TK_DTRWR TK_ERGO | TK_SRWU;

VZKQM: DNFF UXESO SWRI D | 'K' LP TK_MVI TK_KL I | TK_RBS TK_OM | TK_KL LP TK_BBZ;

DNFF: TK_DTRWR 'K' TK_KL TK_SRWU 'Y' | TK_KL TK_KL MGOV TRL MGOV;

UXESO: TK_MVI MGOV AHRM | TK_MVI C 'K' TK_IEDA TK_IEDA;

SWRI: TK_ERGO 'K' TK_TGKU | VYJU UXESO C | 'W' VYJU;

G: TK_ERGO | LP 'K' TK_RBS DNFF | ;

SRVI: TRL TK_DTRWR;

C: AHRM TRL G D | TK_DTRWR TK_SRWU TK_HLJ;

D: TK_ERGO TK_TGKU SRVI | TRL TRL SRVI TK_HLJ | 'Q' LP VZKQM AHRM | 'Q' 'Q' OGR VYJU | TK_MVI TK_KL;

OGR: 'Q' TK_TGKU TRL G VYJU | C TK_ERGO;

AHRM: SWRI UCKQB;

I: TK_HLJ 'Y' D I | UXESO TRL UXESO MGOV TK_HLJ | 'H' MGOV LP MGOV;

UCKQB: TK_BBZ D UCKQB TK_IEDA VZKQM | TK_MVI 'K' TK_BBZ;

LP: AHRM OGR | G TK_DTRWR 'Y' TK_RBS VZKQM | G VZKQM C | D DNFF;

MGOV: TK_TGKU VZKQM TK_IEDA 'W' TRL | TK_ERGO TK_IEDA AHRM MGOV TK_RBS | 'W' SRVI 'H' VYJU TK_OM;

TRL: TK_MVI 'H' TK_IEDA TRL | MGOV TK_MVI VZKQM UCKQB | TK_IEDA TK_OM G | ;

