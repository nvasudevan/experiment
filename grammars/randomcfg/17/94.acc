%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_HLJ SWRI TK_RBS VYJU | 'W' VZKQM;

VYJU: VYJU TK_RBS MGOV | DNFF TK_OM G | ;

VZKQM: C SRVI UXESO | TK_SRWU | LP 'K' D OGR | OGR | G TK_SRWU OGR VYJU;

DNFF: C TRL VYJU TRL 'W';

UXESO: G 'Q' 'Y' TRL AHRM | TK_PRGF TK_DTRWR TK_RBS | TK_MVI | TRL TK_ERGO;

SWRI: SWRI 'Y' DNFF | TK_DTRWR | I TK_RBS TK_RBS;

G: 'Y' | DNFF TK_IEDA TK_DTRWR DNFF TRL | TK_BBZ I TK_SRWU TK_PRGF | AHRM SWRI UCKQB 'Y';

SRVI: VZKQM C 'K' UXESO | UCKQB 'W' TK_OM;

C: 'K' DNFF | UXESO 'Y' VZKQM | C;

D: 'K' | OGR G AHRM MGOV | D AHRM C OGR SRVI;

OGR: 'W' TK_RBS AHRM SWRI 'Y' | TK_PRGF TK_HLJ 'K' 'Y' UCKQB | ;

AHRM: TK_MVI TK_IEDA LP LP TK_DTRWR | AHRM TK_BBZ LP VYJU UCKQB | C SWRI | UCKQB;

I: TK_TGKU DNFF DNFF TK_HLJ | 'Y' 'H' OGR TK_MVI TK_SRWU;

UCKQB: TRL I SRVI TK_DTRWR C | VZKQM C AHRM C D;

LP: I TK_SRWU I TK_OM | LP MGOV TK_HLJ 'H' TK_TGKU | 'Q' | OGR TK_HLJ LP TK_SRWU | C TK_BBZ TK_RBS UXESO;

MGOV: TK_ERGO D | G TK_PRGF I TK_KL 'Y' | TK_HLJ | SWRI TK_PRGF;

TRL: 'K' | TK_TGKU TK_MVI 'W' | MGOV TK_RBS TK_BBZ TK_SRWU | TK_PRGF | TK_PRGF TK_HLJ TK_DTRWR DNFF;

