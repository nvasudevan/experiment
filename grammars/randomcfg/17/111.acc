%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_KL LP | TK_RBS | TK_RBS G DNFF | I | 'K' TK_ERGO TK_HLJ I TK_PRGF;

VYJU: G OGR;

VZKQM: VYJU | TK_HLJ TK_SRWU TK_HLJ | 'K' 'Q' 'W';

DNFF: D | TK_IEDA TK_RBS TK_DTRWR | VZKQM;

UXESO: SRVI AHRM 'Y' TK_HLJ OGR | TK_DTRWR SRVI TK_DTRWR | ;

SWRI: UCKQB 'Q' TK_OM TK_ERGO MGOV | D D | ;

G: VYJU | I AHRM SWRI UXESO TK_MVI | TK_HLJ VZKQM UCKQB MGOV | LP;

SRVI: VYJU TK_PRGF DNFF G | VZKQM VZKQM | 'Y' TK_MVI;

C: UCKQB | DNFF SWRI;

D: TK_BBZ MGOV | 'W' TK_HLJ UCKQB OGR | C AHRM OGR | MGOV DNFF MGOV;

OGR: TK_RBS TK_PRGF D | 'W' TK_MVI G TK_KL TK_RBS | UXESO 'Y' | TRL G TK_KL;

AHRM: G TK_HLJ VZKQM UXESO | TK_KL VZKQM SWRI;

I: TK_KL SRVI | C G | SRVI TK_IEDA TRL | SRVI TK_HLJ 'H' TK_RBS | SRVI 'Y' VYJU TK_ERGO;

UCKQB: TK_MVI TK_MVI 'Q' I UXESO | I TK_IEDA | SWRI | 'Q' TRL | C MGOV TK_OM TK_HLJ;

LP: TK_KL UCKQB TK_MVI UXESO TK_OM;

MGOV: TK_OM TK_DTRWR D I | TK_IEDA TK_TGKU | OGR I TK_SRWU I | SRVI G TK_BBZ TK_IEDA | TK_IEDA;

TRL: OGR TK_ERGO TK_PRGF MGOV TK_DTRWR;

