%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'Q' TK_OM DNFF G UXESO | VZKQM | TK_KL | TK_BBZ UCKQB;

VYJU: TRL TK_SRWU TK_RBS TK_PRGF SRVI | SRVI SRVI TK_OM 'Q' SWRI | DNFF | LP TK_PRGF 'Y' UXESO LP | TK_DTRWR C OGR;

VZKQM: TK_SRWU 'W' TK_ERGO AHRM | G TK_DTRWR DNFF | MGOV TK_MVI 'W' VZKQM TK_MVI | TK_IEDA G TK_PRGF | TK_BBZ;

DNFF: DNFF AHRM | TK_SRWU | G LP 'Y' TK_IEDA | VYJU MGOV 'H' TK_KL G | LP TK_HLJ SWRI 'Y';

UXESO: SWRI I 'W' LP D | TK_HLJ G MGOV DNFF | D 'K' TK_RBS AHRM 'Y' | OGR SWRI;

SWRI: TK_IEDA TK_HLJ | AHRM D | G VYJU TK_MVI 'Q' | 'K' UCKQB TK_OM | SRVI D TK_BBZ;

G: TK_MVI;

SRVI: UXESO TK_RBS | TK_TGKU 'Y' TK_TGKU SRVI 'Q' | 'Y' DNFF 'Y' VYJU | TK_KL TK_MVI TK_HLJ | C 'H' OGR 'H' LP;

C: LP G | LP SWRI SWRI | D;

D: 'Q' | TK_RBS UXESO | UCKQB;

OGR: I | ;

AHRM: TK_DTRWR TRL | I 'H' 'Q' | ;

I: AHRM D | TK_DTRWR 'H' DNFF | 'K' | TK_HLJ TK_OM TK_TGKU TK_BBZ 'K' | TK_TGKU;

UCKQB: VYJU TK_BBZ TK_HLJ VYJU | VYJU 'Y' I TK_BBZ;

LP: D TK_TGKU | DNFF DNFF TK_BBZ TK_HLJ G | D I | ;

MGOV: 'W' SRVI SWRI | D OGR TK_IEDA AHRM TRL | UCKQB I UCKQB TK_IEDA C;

TRL: C | AHRM TK_KL UCKQB 'H' | TK_KL | G TK_SRWU D SWRI;

