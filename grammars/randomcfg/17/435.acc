%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'W' | TK_RBS TK_HLJ | SWRI DNFF | 'H' TK_IEDA DNFF TK_ERGO | D D TRL TK_IEDA MGOV;

VYJU: TK_RBS TK_SRWU TK_MVI D | C | 'K' D LP TRL 'Y' | 'K' D | ;

VZKQM: 'K' UCKQB | SWRI MGOV TK_HLJ;

DNFF: MGOV 'K';

UXESO: VZKQM | VZKQM MGOV TK_IEDA 'K' | UXESO TK_BBZ;

SWRI: LP AHRM | TK_TGKU TK_PRGF TK_OM | SRVI TK_MVI TK_TGKU G TK_SRWU | TK_DTRWR OGR UCKQB TRL 'H';

G: TK_MVI TK_IEDA TK_PRGF 'H' TK_TGKU | TK_SRWU 'Q';

SRVI: VZKQM MGOV D TK_PRGF TK_HLJ | TK_IEDA OGR OGR 'Y' TRL | TK_DTRWR TK_SRWU TRL | TK_OM TK_OM OGR AHRM TK_OM | LP MGOV LP 'Y' 'H';

C: UXESO | TK_DTRWR TK_SRWU VYJU UCKQB | TK_TGKU UXESO 'Q' TK_ERGO 'H' | 'K' G TK_HLJ TK_MVI UCKQB;

D: D TK_ERGO TK_SRWU 'K' | 'W' AHRM OGR TK_RBS | 'Q' TK_OM TK_HLJ UCKQB | 'Q' C VYJU;

OGR: TK_BBZ TK_HLJ | UCKQB TK_PRGF | 'Y' 'H' TK_PRGF TK_ERGO TK_SRWU | LP VYJU;

AHRM: TK_OM;

I: UCKQB SWRI TK_PRGF | DNFF | TK_ERGO MGOV TK_MVI VZKQM 'Q';

UCKQB: 'W' TK_MVI 'Y' | 'W' | I 'H' 'K' TK_DTRWR I | D 'Y' TK_ERGO;

LP: LP MGOV TK_TGKU | TK_PRGF 'H' DNFF 'K' 'K' | TK_ERGO VZKQM | 'H' SRVI AHRM;

MGOV: I D D SWRI | DNFF SWRI MGOV I G | SRVI TK_ERGO TK_PRGF LP TK_BBZ | ;

TRL: VZKQM TK_RBS 'W' AHRM TK_MVI;

