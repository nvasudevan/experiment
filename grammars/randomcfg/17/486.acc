%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_BBZ 'W' DNFF | TK_TGKU UXESO | AHRM TK_HLJ TK_BBZ TK_OM 'H' | AHRM TK_HLJ TK_MVI VYJU | TK_BBZ VYJU SRVI TK_DTRWR;

VYJU: LP | 'Q' OGR | TK_IEDA 'Q' OGR G | TK_ERGO TK_RBS TK_MVI C;

VZKQM: TK_TGKU | LP I 'Q' AHRM TK_RBS;

DNFF: 'H' TK_KL TK_IEDA | SWRI TRL | TK_RBS | TK_RBS TRL;

UXESO: OGR DNFF D | TK_ERGO UXESO OGR UCKQB AHRM;

SWRI: TK_SRWU VYJU 'K' 'Q' | OGR TK_OM UXESO | TK_RBS G TK_PRGF | D TK_ERGO TK_DTRWR TK_HLJ TK_ERGO;

G: AHRM VZKQM DNFF TK_BBZ TRL | D | TK_RBS;

SRVI: C | VYJU;

C: AHRM UXESO TK_ERGO | LP MGOV LP TK_PRGF;

D: DNFF 'Q' LP G TK_SRWU | TK_ERGO TK_HLJ TK_ERGO TK_RBS | UXESO TK_TGKU I AHRM | MGOV TK_DTRWR TK_KL TK_ERGO TK_SRWU | SRVI TK_KL TK_MVI TK_MVI TK_KL;

OGR: SRVI C | C I SRVI TK_SRWU | LP | TRL TK_ERGO;

AHRM: 'W' TK_DTRWR SWRI TRL C | C 'H' SWRI TK_RBS SRVI | TK_SRWU TRL TK_PRGF | 'W' TRL VYJU MGOV I;

I: TK_OM C TK_IEDA | TRL AHRM G | TK_ERGO VYJU D 'Y';

UCKQB: LP TRL 'K' | TK_BBZ 'H' | TK_ERGO 'Y' MGOV TK_HLJ UCKQB | 'Q' LP TK_IEDA VYJU MGOV;

LP: TK_IEDA | UXESO AHRM MGOV TK_IEDA | TK_PRGF UXESO SRVI TK_MVI G | ;

MGOV: TK_IEDA SWRI TK_RBS D;

TRL: TK_KL UXESO | TK_BBZ TK_HLJ VYJU TK_KL | ;

