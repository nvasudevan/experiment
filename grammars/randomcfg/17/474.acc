%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_OM | VYJU VZKQM TK_ERGO;

VYJU: UXESO D TK_KL;

VZKQM: SRVI 'W' 'W' | I VZKQM | UXESO VYJU TK_IEDA 'Y' | VYJU MGOV D TK_PRGF;

DNFF: OGR 'W' TK_DTRWR | TK_OM TK_MVI D LP UCKQB | 'W' 'K' 'H' TK_DTRWR | TK_DTRWR OGR DNFF VZKQM;

UXESO: UXESO UXESO TK_PRGF TK_SRWU TK_HLJ | ;

SWRI: TK_BBZ MGOV 'Y' TK_IEDA | TK_SRWU G VYJU 'Q' | ;

G: UXESO | G TK_TGKU I MGOV MGOV | TK_BBZ TK_SRWU | TK_ERGO TK_OM | TRL SRVI TK_ERGO OGR D;

SRVI: G TK_OM | TK_SRWU MGOV TK_BBZ I;

C: OGR TK_RBS AHRM TK_OM | TK_OM TRL | 'K' SWRI TK_KL MGOV TK_HLJ;

D: AHRM C TK_BBZ TK_IEDA 'Q' | TK_PRGF TK_ERGO | VYJU TK_IEDA TRL | 'Q' 'K' VZKQM TK_IEDA | TK_BBZ TK_KL SRVI;

OGR: D | DNFF I SWRI SRVI | TK_SRWU I 'H' TK_MVI | TK_DTRWR AHRM TK_PRGF;

AHRM: VZKQM TK_PRGF | VYJU DNFF TK_IEDA TK_RBS VZKQM | D G TK_BBZ DNFF 'H';

I: 'W' OGR 'Y' VZKQM | TK_IEDA 'K' | LP | I TK_TGKU TK_SRWU SWRI TK_RBS;

UCKQB: TK_IEDA TK_OM TK_RBS I VYJU | MGOV TK_DTRWR | MGOV;

LP: TK_TGKU TK_DTRWR TK_RBS TK_DTRWR | I VYJU SRVI | VZKQM | TK_DTRWR;

MGOV: SWRI TK_SRWU 'K' | TK_KL TK_PRGF TK_DTRWR;

TRL: TK_HLJ TK_BBZ TK_TGKU TK_TGKU | SWRI TK_TGKU | D 'Q' TK_TGKU I;

