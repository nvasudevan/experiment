%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: D C | TK_SRWU | 'W' VZKQM I DNFF TRL;

VYJU: DNFF | 'Y';

VZKQM: TK_KL TK_KL DNFF DNFF | TK_BBZ | TK_BBZ VYJU TK_DTRWR | TK_PRGF | 'H' DNFF I TK_MVI;

DNFF: TK_MVI VYJU TK_BBZ UCKQB TK_IEDA | 'H' C LP SWRI | TK_HLJ TK_KL TK_IEDA 'W' | TK_ERGO TK_RBS 'W' I TK_HLJ | UCKQB 'Y' TK_TGKU TK_OM;

UXESO: SWRI TK_DTRWR 'W' MGOV 'K' | D LP TK_KL | SRVI C G C | 'W' | TK_KL TK_TGKU TRL 'H';

SWRI: 'Q';

G: TK_IEDA TK_KL C I | SRVI TK_PRGF DNFF OGR TK_DTRWR | TK_KL UXESO SWRI UCKQB | TK_TGKU | TK_RBS 'Y' OGR;

SRVI: 'Q' C TK_DTRWR TK_IEDA TRL | ;

C: MGOV SWRI TK_HLJ;

D: TK_IEDA C SWRI 'Q' TK_SRWU | VZKQM I 'Y' TRL I | OGR VZKQM TK_IEDA TK_OM | AHRM TK_RBS | VZKQM TK_MVI;

OGR: DNFF AHRM TK_DTRWR DNFF | VYJU TK_MVI SRVI TK_BBZ C | TK_BBZ TRL TK_HLJ | TK_TGKU TK_TGKU;

AHRM: SRVI C | TK_KL TK_ERGO | UCKQB VZKQM | ;

I: TK_OM | TK_IEDA SRVI 'Y' OGR UCKQB | TK_MVI TK_OM TK_IEDA OGR | TK_RBS | TK_ERGO VZKQM;

UCKQB: TK_RBS | TK_SRWU | DNFF 'H' SWRI | MGOV MGOV | TK_TGKU C LP OGR 'K';

LP: TK_SRWU SRVI 'Q' | 'Q' TRL | TK_IEDA 'W' | TK_PRGF 'Y' 'W' MGOV;

MGOV: 'K' TK_TGKU | TK_KL TK_PRGF TK_MVI VZKQM | C TK_IEDA TRL D D;

TRL: 'Y' I VYJU;

