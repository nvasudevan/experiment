%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: MGOV TK_BBZ TK_OM | TK_KL TK_RBS TK_KL VZKQM | TK_BBZ SRVI D TK_SRWU | 'W' TK_IEDA G;

VYJU: TK_BBZ 'K' 'Q' | TK_DTRWR 'H' TK_RBS TK_PRGF 'H';

VZKQM: TK_HLJ TK_PRGF D TK_OM | TK_DTRWR TK_IEDA;

DNFF: TK_IEDA TK_MVI AHRM TK_DTRWR AHRM;

UXESO: TK_DTRWR TK_RBS | SWRI C LP | UCKQB TK_OM TK_IEDA | TK_DTRWR | 'K' TK_HLJ TK_MVI SRVI TK_BBZ;

SWRI: UXESO | VYJU | 'W' MGOV | UXESO TK_DTRWR 'Y';

G: VZKQM MGOV 'H' | UCKQB SRVI | G | ;

SRVI: VYJU D VYJU TK_MVI | MGOV VZKQM VYJU TK_KL | ;

C: TK_DTRWR MGOV TK_IEDA TK_IEDA | TK_DTRWR AHRM TK_BBZ TRL | C OGR TK_PRGF OGR OGR;

D: 'K' SRVI TK_ERGO | UXESO TK_ERGO LP;

OGR: UXESO UXESO | G | TK_RBS | TK_SRWU TK_OM LP;

AHRM: D 'K' C | I TK_MVI 'W' UXESO TK_BBZ | TK_MVI VZKQM TK_BBZ TK_RBS | TK_ERGO SWRI TK_MVI;

I: VYJU MGOV TK_IEDA | TK_PRGF 'H' MGOV | VYJU 'Q';

UCKQB: MGOV MGOV | D I DNFF;

LP: TK_IEDA | AHRM AHRM TK_MVI | G 'W' TK_MVI TK_KL | UXESO TK_HLJ TK_KL | TK_RBS TK_HLJ TK_DTRWR TK_OM;

MGOV: TK_MVI C DNFF TK_HLJ | DNFF TK_RBS TK_OM VZKQM 'K';

TRL: C AHRM 'H' DNFF UXESO | C TK_KL UCKQB TK_KL;

