%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_TGKU UXESO 'Y' TK_MVI | 'Q' 'K' 'H' D | TK_KL TK_RBS | AHRM D VZKQM;

VYJU: VZKQM UXESO | UXESO LP 'K';

VZKQM: 'Y' | TK_IEDA TK_DTRWR OGR TK_OM TK_RBS | I | TRL TRL TK_ERGO DNFF;

DNFF: TK_HLJ | 'W' | TRL DNFF I;

UXESO: VYJU | VYJU SRVI TRL | G UCKQB UCKQB;

SWRI: G 'K' 'K' TK_ERGO;

G: 'W' | 'Q' MGOV TK_TGKU OGR | TK_HLJ TK_SRWU TK_OM VZKQM;

SRVI: SWRI TK_PRGF;

C: VYJU TK_BBZ D D G | TK_BBZ TK_DTRWR | TRL TK_KL 'Y' VZKQM VZKQM | I TK_DTRWR TK_KL AHRM | ;

D: MGOV VYJU OGR | TK_TGKU UCKQB TK_ERGO UCKQB AHRM | AHRM TK_DTRWR TK_KL TRL TK_DTRWR | LP 'Y' TK_HLJ | TK_IEDA 'Y';

OGR: OGR VYJU SRVI | VYJU TK_ERGO VYJU D | TK_RBS SWRI TK_KL | MGOV;

AHRM: 'H' 'K' TK_PRGF SWRI | 'H' | LP | VZKQM | 'H' 'H' TK_IEDA TK_MVI;

I: VYJU TK_PRGF | TRL TK_IEDA 'Q' TK_KL | TK_SRWU VZKQM TK_BBZ D TRL;

UCKQB: UXESO DNFF TK_ERGO | TK_IEDA AHRM TK_IEDA DNFF;

LP: VYJU C LP | ;

MGOV: TK_ERGO DNFF SRVI 'K' UCKQB | I | G C SWRI 'Q' | MGOV 'K' VYJU TK_HLJ;

TRL: 'H' C G 'K' | TK_PRGF | TK_OM 'Q' TK_KL TK_ERGO VYJU;

