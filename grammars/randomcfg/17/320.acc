%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_KL MGOV TK_OM UXESO | UXESO TK_MVI VZKQM | VZKQM | TK_ERGO;

VYJU: SWRI TK_HLJ TK_OM;

VZKQM: TK_MVI AHRM TK_OM TK_KL TK_HLJ | TK_OM TRL UXESO TK_HLJ;

DNFF: TK_MVI DNFF MGOV | 'Y' 'W' TK_KL G AHRM | TK_PRGF | ;

UXESO: TRL 'K' TK_PRGF UCKQB AHRM | LP VYJU G I | 'H' TK_RBS DNFF 'K' OGR | TK_ERGO SRVI D TRL TK_OM | 'Y';

SWRI: I | I TK_BBZ OGR OGR | SWRI TK_BBZ MGOV TK_HLJ TK_DTRWR | 'W' TK_BBZ TK_DTRWR VZKQM;

G: TK_HLJ DNFF OGR | 'H' UXESO 'W' TK_RBS | TK_TGKU UXESO TK_PRGF TK_OM SWRI | DNFF UCKQB;

SRVI: TK_BBZ MGOV 'H' TK_PRGF | SWRI | OGR SRVI AHRM | TRL DNFF;

C: 'K' 'Y' LP TK_HLJ 'Y' | TK_DTRWR 'K' MGOV TRL | UCKQB | LP TK_PRGF C TK_KL I | TK_MVI TK_BBZ TK_KL TRL;

D: TK_KL UCKQB TK_BBZ UXESO;

OGR: TK_BBZ UCKQB TK_ERGO UXESO TK_ERGO;

AHRM: TK_OM TK_RBS TRL OGR G | ;

I: UXESO TK_KL TK_PRGF 'Y';

UCKQB: C TK_SRWU VZKQM OGR I | TK_ERGO TK_BBZ TK_RBS DNFF I | TK_HLJ 'Y' D | 'H' TK_TGKU TK_DTRWR TK_BBZ | I 'H' TK_TGKU I;

LP: C;

MGOV: G C | TK_BBZ TK_BBZ SRVI TK_KL | TK_KL TK_ERGO TK_BBZ TK_DTRWR | SWRI TRL AHRM MGOV | TK_BBZ SRVI TK_MVI MGOV;

TRL: DNFF;

