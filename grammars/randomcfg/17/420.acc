%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: D;

VYJU: C TK_ERGO DNFF | TK_RBS;

VZKQM: UCKQB 'Q' VZKQM VYJU | DNFF UXESO TK_HLJ SWRI LP | UXESO TK_DTRWR UCKQB TRL TK_OM | TRL LP DNFF;

DNFF: G OGR | SWRI;

UXESO: TK_IEDA D TK_OM | VZKQM TK_TGKU D DNFF | TK_DTRWR | G I TK_TGKU UXESO UCKQB | 'W';

SWRI: TK_SRWU TK_IEDA TK_BBZ UXESO 'H' | TK_SRWU TK_ERGO | UCKQB | 'K' | TK_TGKU LP VYJU;

G: TRL TK_TGKU | 'K' | UCKQB TK_SRWU 'H' VZKQM | UXESO C TK_PRGF;

SRVI: TK_SRWU;

C: TK_ERGO I SWRI 'W' UXESO | 'H' TK_OM TK_ERGO;

D: SRVI OGR G 'W' | 'K' | TK_ERGO TK_SRWU | TK_RBS UXESO TK_DTRWR TK_SRWU G;

OGR: TK_MVI 'H' | UXESO TK_ERGO UXESO TK_OM | MGOV TK_OM TK_MVI I | TK_MVI;

AHRM: 'H' G UCKQB D | UXESO D MGOV I 'H' | TK_TGKU TK_MVI G TRL 'H';

I: 'K' TK_RBS UCKQB TK_ERGO TK_DTRWR | C UCKQB 'W' | TK_ERGO 'Y' G TK_ERGO 'Q' | TK_PRGF | TK_HLJ UCKQB;

UCKQB: TK_ERGO VZKQM TK_TGKU;

LP: OGR VZKQM I | MGOV I VZKQM LP | TRL TK_MVI VZKQM MGOV | ;

MGOV: MGOV | I TK_HLJ TK_ERGO TK_OM | D LP SRVI TK_OM | UXESO TK_IEDA DNFF TK_MVI | ;

TRL: TK_IEDA 'Y' TK_IEDA TK_RBS | TK_MVI C MGOV;

