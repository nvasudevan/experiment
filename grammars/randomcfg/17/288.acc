%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: UXESO TK_MVI AHRM 'Y' | D TK_TGKU 'Q' LP | TK_DTRWR I TK_SRWU;

VYJU: UCKQB | SWRI TK_IEDA 'Q' UCKQB | SRVI 'Y';

VZKQM: TK_KL TK_RBS TK_KL D | VYJU | 'Q' 'Q' G TK_PRGF 'K' | 'Y' TRL TK_TGKU OGR SRVI | D 'H' TK_RBS VZKQM;

DNFF: VZKQM SWRI;

UXESO: SRVI SRVI TK_ERGO MGOV TK_PRGF | TK_DTRWR TK_IEDA 'Q' | AHRM 'Q' SWRI TK_KL VYJU | AHRM;

SWRI: OGR I TK_SRWU | 'H' SRVI TK_MVI TK_BBZ | LP C 'Y' TK_DTRWR I | TK_IEDA I | TK_SRWU G 'Q';

G: TK_KL 'Y' OGR;

SRVI: UXESO TK_TGKU | G TK_MVI AHRM TK_ERGO 'H' | G VYJU AHRM | TK_IEDA TK_HLJ TK_IEDA;

C: TRL VYJU | LP TK_IEDA | SRVI TK_DTRWR 'H' | AHRM TK_ERGO MGOV TK_RBS;

D: 'W' OGR UCKQB TK_IEDA | UXESO 'Q' TK_DTRWR | OGR TK_HLJ TK_KL;

OGR: TK_SRWU | TK_TGKU LP 'H' D;

AHRM: VZKQM I TK_OM;

I: TK_TGKU C TK_RBS | TK_TGKU TK_ERGO | 'Q' OGR SRVI TK_RBS VZKQM | UXESO SWRI TK_MVI AHRM OGR;

UCKQB: TRL | TK_RBS G TK_RBS TK_OM | 'K' TK_HLJ VYJU | TK_ERGO 'H' OGR VYJU;

LP: TK_KL 'H' SRVI TK_BBZ | 'H' OGR VYJU G | ;

MGOV: TRL UCKQB OGR | TK_IEDA UCKQB TK_TGKU | DNFF | TK_OM VZKQM 'W' AHRM | I OGR G 'W';

TRL: TK_HLJ TK_MVI D TK_OM TK_PRGF | DNFF VYJU OGR | UXESO TK_RBS | 'Q' | ;

