%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'K' TK_HLJ | D G I TK_PRGF | TRL MGOV TK_SRWU;

VYJU: TK_IEDA LP TRL VZKQM TK_KL | TK_ERGO DNFF VZKQM G | SRVI TK_IEDA SRVI TK_OM 'K' | TK_MVI TRL | TK_HLJ TK_DTRWR MGOV SWRI MGOV;

VZKQM: LP UCKQB | OGR UCKQB TK_KL | 'W' TK_HLJ TK_TGKU 'W';

DNFF: UCKQB TK_OM 'H' VZKQM SRVI | TK_TGKU | I TK_BBZ LP G;

UXESO: UCKQB AHRM VZKQM | TK_HLJ | 'Y' G | G TK_HLJ 'Q' | TK_IEDA;

SWRI: C TK_DTRWR | TK_SRWU | UXESO;

G: TK_BBZ AHRM VZKQM;

SRVI: OGR TK_PRGF I SRVI | TK_MVI SWRI VYJU TK_KL SWRI | ;

C: TK_IEDA | SWRI TK_BBZ | VZKQM DNFF TK_ERGO | MGOV VZKQM TK_RBS TK_IEDA SWRI | TK_RBS;

D: 'Y' VZKQM | TK_TGKU | ;

OGR: UCKQB 'K' | UXESO | TK_ERGO AHRM TRL | TK_IEDA TK_RBS | TK_PRGF UCKQB 'Q' D UXESO;

AHRM: SRVI MGOV;

I: 'Q' | DNFF | UXESO TK_TGKU VYJU;

UCKQB: TK_MVI UXESO 'K' C AHRM;

LP: MGOV TK_SRWU AHRM SWRI | I TK_IEDA 'Q' VZKQM | C TK_DTRWR TK_MVI TK_TGKU TK_SRWU;

MGOV: SRVI 'Y' 'H' 'H' TK_MVI | G DNFF UCKQB OGR VYJU;

TRL: MGOV I TK_PRGF | 'Y';

