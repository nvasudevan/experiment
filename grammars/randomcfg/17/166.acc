%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: TK_IEDA | MGOV 'K' 'Y' G | MGOV TK_SRWU TK_PRGF 'K' | C | TK_MVI G;

VYJU: TRL | 'H' TK_KL DNFF OGR D | VZKQM LP G D;

VZKQM: G TK_ERGO TK_PRGF 'K';

DNFF: 'Y' | SWRI | C 'K' MGOV LP C | ;

UXESO: TK_DTRWR | TK_KL | 'K' SRVI;

SWRI: TK_TGKU TK_KL TK_OM VYJU | G;

G: 'K' SWRI TK_TGKU | TRL;

SRVI: VZKQM | TK_IEDA TK_IEDA | 'Y' | TK_OM | 'H' TK_HLJ TRL DNFF;

C: AHRM | I SRVI | 'W' TK_RBS MGOV SRVI I;

D: VZKQM VZKQM TK_SRWU I UXESO | UXESO | TK_ERGO D SWRI TK_RBS;

OGR: I TK_SRWU TK_RBS TK_IEDA | VYJU D VYJU | 'Y' TK_PRGF UXESO TK_KL 'K';

AHRM: VZKQM LP D UXESO | OGR | TK_KL TK_DTRWR TK_KL TK_SRWU | TK_HLJ TK_ERGO SWRI | TK_IEDA TK_KL SWRI TK_OM;

I: 'K' TK_MVI;

UCKQB: D SRVI | C TK_TGKU OGR | TK_ERGO G UCKQB C | G 'W' G | ;

LP: TK_MVI | TK_TGKU SWRI 'Y' VZKQM TK_SRWU | TK_KL TK_SRWU | MGOV UCKQB;

MGOV: 'W' TK_MVI SRVI TRL;

TRL: UCKQB 'Y';

