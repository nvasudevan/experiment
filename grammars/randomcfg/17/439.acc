%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'Q' 'K' OGR;

VYJU: UXESO TK_BBZ D VYJU | G | D SWRI 'Y' MGOV TK_MVI | UCKQB TK_HLJ MGOV 'Q';

VZKQM: TK_BBZ TRL G TK_DTRWR | AHRM G SWRI TK_RBS TK_OM | ;

DNFF: TK_BBZ | TK_TGKU TK_IEDA | 'H' DNFF;

UXESO: TK_PRGF TK_OM | I TK_BBZ DNFF 'Y' | TK_PRGF TK_KL UCKQB TK_PRGF;

SWRI: TK_HLJ G | TK_RBS TK_BBZ 'Q' VZKQM | TK_HLJ VYJU TK_ERGO TK_PRGF G | VYJU OGR TK_RBS;

G: TK_DTRWR TK_SRWU TK_SRWU TK_IEDA SRVI | TK_KL | VZKQM VYJU TK_HLJ TK_KL | TK_DTRWR;

SRVI: TRL DNFF MGOV | SRVI LP 'K' TK_OM VYJU | VZKQM TK_TGKU | MGOV VZKQM;

C: TK_KL SWRI TK_OM | TK_DTRWR | ;

D: UXESO TK_BBZ | TK_ERGO | 'H' | VZKQM TK_KL | 'W' LP TRL;

OGR: VZKQM UCKQB TK_MVI LP | 'Q' TK_MVI;

AHRM: TK_RBS SRVI | TK_TGKU TK_OM TK_ERGO TK_RBS | TK_ERGO | 'H' TK_DTRWR TK_DTRWR VYJU;

I: TK_ERGO TK_SRWU TK_IEDA TK_ERGO TK_IEDA;

UCKQB: UCKQB | 'K' 'Q' TK_HLJ AHRM C | AHRM 'Q' | AHRM VYJU TK_KL 'W' | C 'Y' OGR;

LP: MGOV 'W' | MGOV VZKQM MGOV TK_HLJ;

MGOV: TRL TK_HLJ TK_RBS;

TRL: TK_MVI DNFF | AHRM TRL;

