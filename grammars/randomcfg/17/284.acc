%token TK_TGKU, TK_DTRWR, TK_KL, TK_OM, TK_ERGO, TK_BBZ, TK_MVI, TK_HLJ, TK_RBS, TK_IEDA, TK_PRGF, TK_SRWU;

%nodefault

root: 'Q' | SRVI 'W' LP 'K' TK_SRWU | TK_SRWU | 'Y' AHRM;

VYJU: TK_OM UCKQB 'W';

VZKQM: TK_RBS SWRI D;

DNFF: TK_BBZ | TK_MVI VYJU OGR TK_SRWU | 'K' TK_SRWU G;

UXESO: TK_SRWU 'Q' 'W' | I TK_MVI MGOV | TK_BBZ TK_ERGO TK_TGKU;

SWRI: TK_BBZ TK_HLJ TK_DTRWR DNFF | 'Q' | G TK_HLJ | VZKQM TK_TGKU VYJU DNFF TK_ERGO;

G: UCKQB | TK_MVI TK_SRWU 'Y' MGOV C | TK_IEDA AHRM TK_SRWU | 'Q' AHRM LP DNFF;

SRVI: TRL OGR | TK_MVI VZKQM | I;

C: TRL | TK_RBS TK_TGKU | D TK_DTRWR | AHRM;

D: TK_KL 'W' TK_TGKU TK_BBZ 'Q' | G VZKQM TK_PRGF | TK_RBS MGOV TK_PRGF D;

OGR: OGR | VZKQM SWRI | SWRI I;

AHRM: TK_DTRWR TK_BBZ UXESO TK_HLJ;

I: TK_HLJ 'Y' | SRVI TK_KL TK_KL TK_SRWU | ;

UCKQB: 'K' D TK_IEDA | OGR LP 'Y' AHRM 'K' | TRL SWRI LP TK_KL TK_MVI | D D | C;

LP: TK_MVI 'K' TK_IEDA | VYJU I TK_KL | TK_DTRWR TK_RBS | TK_PRGF OGR TK_TGKU LP | TK_BBZ;

MGOV: TK_PRGF | TK_IEDA | SWRI TK_MVI G;

TRL: TK_BBZ 'Y' TK_MVI OGR | TRL VYJU TK_DTRWR I | ;

