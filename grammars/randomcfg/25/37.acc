%token TK_NIOY, TK_DQN, TK_WZR, TK_MD, TK_KM, TK_ZU, TK_KX, TK_AZ, TK_PSN, TK_UB, TK_WWK, TK_GHEK, TK_IGI, TK_PYBT, TK_DQDA, TK_AV;

%nodefault

root: AY NXN TK_DQDA | TK_KM TK_NIOY TK_PYBT V 'S' | ZWXU UOP | TK_MD TK_MD SZQTA TK_DQN;

UOP: ZCWR WMN FRRV TK_DQDA | TK_WWK WBP 'J';

DK: WMN C TK_WZR QMWE | DK 'O' | ZCWR TK_AZ QMWE TK_NIOY WBP | ;

QMWE: NXN | QVJCB;

PER: TK_ZU WUTCP 'N' TK_PYBT ZCWR;

WAUQD: TMYZW | CISPP | AY 'H' | 'J' TK_MD TK_WWK WUTCP 'Y';

HJ: AY AJ NXN TMYZW PER | WUTCP AJ TK_DQN TK_IGI | 'W' TK_GHEK 'H' 'T';

AY: QVJCB WUTCP ZTU TMYZW TK_DQDA | ZWXU FRRV QVJCB 'S' CISPP | TK_WZR | UOP 'T' | TK_AZ TK_AZ;

QVJCB: TK_PSN 'N' ZTU | 'W';

TMYZW: CISPP 'J' QTJLY QMWE | WAUQD C TK_DQDA QVJCB | QTJLY 'T' | ZCWR | QMWE EJK 'O' 'W' WAUQD;

WUTCP: UOP 'L' QVJCB WBP TK_DQN;

FRRV: TK_WZR 'T' FRRV ZCWR | TK_GHEK V DK 'N' 'S';

ZCWR: TK_PYBT WBP ZCWR SZQTA | NXN | 'T' | WBP 'Y' SZQTA TK_KX TK_UB;

ZWXU: WBP | ;

SZQTA: TK_WZR TK_MD | TK_DQDA QMWE | TK_DQN QVJCB | TK_KX TK_DQDA AY AY;

C: SZQTA WUTCP | ;

EJK: TK_GHEK TK_PYBT NXN TK_UB DK;

AJ: TK_PYBT QVJCB WBP | TK_DQN QMWE TK_PSN 'N';

WMN: V NXN | QTJLY | 'O' TK_NIOY TK_DQN | NXN TK_PSN TK_GHEK TK_AZ;

WBP: ZWXU 'N' | TK_PSN QMWE TK_ZU | TK_KX ZCWR CISPP TK_WWK DK | TK_PSN UOP;

V: DK PER | ZWXU 'J' TK_KM | QMWE FRRV TK_PYBT WMN;

ZTU: TK_DQN 'O' AY | ZTU WMN WAUQD SZQTA | DK TMYZW | EJK ZTU TK_WWK TK_GHEK | ZCWR 'Y' TK_WWK WAUQD SZQTA;

NXN: 'S' TK_ZU TK_DQDA TMYZW | HJ 'H' CISPP | SZQTA TK_WZR TK_UB PER | 'T' C TK_AZ WAUQD 'L';

QTJLY: TK_MD TK_AV TK_AZ | V 'Y' | TK_WZR PER NXN | TMYZW;

CISPP: WAUQD WAUQD 'N';

