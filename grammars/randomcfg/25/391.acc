%token TK_NIOY, TK_DQN, TK_WZR, TK_MD, TK_KM, TK_ZU, TK_KX, TK_AZ, TK_PSN, TK_UB, TK_WWK, TK_GHEK, TK_IGI, TK_PYBT, TK_DQDA, TK_AV;

%nodefault

root: NXN 'L';

UOP: 'J' | TK_AV EJK TK_PYBT DK | TK_UB UOP | WMN FRRV TK_WZR FRRV WMN;

DK: TK_DQN WBP | ZTU TK_GHEK C WUTCP TK_MD;

QMWE: WAUQD TK_WWK | AJ 'L' ZCWR 'T' | HJ | TK_WZR | ;

PER: 'S' | 'L' QVJCB TK_KX QTJLY | ;

WAUQD: TK_PSN EJK V EJK | TK_PYBT TK_UB | TK_AZ | 'S';

HJ: NXN DK WUTCP | EJK 'J' UOP WBP | TK_PSN 'W' V TK_IGI TK_KX | 'J' TK_MD SZQTA TK_AV SZQTA;

AY: ZCWR AJ QTJLY V | 'L' | TK_ZU 'L' | AJ;

QVJCB: TK_AV | PER | ;

TMYZW: TK_IGI 'W' | DK TK_DQN | DK TK_PSN TK_GHEK;

WUTCP: 'W' ZWXU | UOP 'N' | 'L' SZQTA ZCWR SZQTA | QTJLY 'N' TK_PYBT TK_MD;

FRRV: 'Y' 'N';

ZCWR: NXN | ZTU CISPP | QVJCB WMN | TK_NIOY | C 'L' TK_AV TK_KM;

ZWXU: AY TK_AZ TK_KX;

SZQTA: WMN TK_KM FRRV NXN | C | QTJLY TK_KM TK_DQN TK_WZR | TK_DQDA TMYZW 'H' 'O' TK_KX;

C: WMN AJ TK_KM HJ QVJCB | 'S' AJ HJ 'H' 'H' | WAUQD TK_UB TK_GHEK | WBP TK_IGI ZCWR WAUQD TK_AV;

EJK: TK_ZU 'H' TK_UB | EJK WMN QTJLY TK_PSN 'S' | TK_WWK ZWXU 'Y' WAUQD 'N' | FRRV C;

AJ: 'W' TK_KX | 'Y' 'Y' EJK | C | QVJCB PER TK_KX 'Y';

WMN: TK_AV WMN SZQTA WMN ZTU | TK_AV WBP TK_AZ 'Y' WUTCP;

WBP: EJK | TK_IGI;

V: DK TK_MD TK_MD | AY EJK TK_PSN 'W' TK_IGI | TK_PYBT | QTJLY 'W' QTJLY HJ | TK_GHEK TK_NIOY WUTCP;

ZTU: AJ ZCWR;

NXN: FRRV TK_ZU TK_WZR TK_NIOY | TK_DQN TK_WZR ZWXU HJ 'N';

QTJLY: TK_KM | 'Y' 'N' | HJ SZQTA TK_ZU;

CISPP: 'J' | WBP AY QMWE | 'H' EJK | TK_MD AJ AY CISPP;

