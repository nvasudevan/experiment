%token TK_NIOY, TK_DQN, TK_WZR, TK_MD, TK_KM, TK_ZU, TK_KX, TK_AZ, TK_PSN, TK_UB, TK_WWK, TK_GHEK, TK_IGI, TK_PYBT, TK_DQDA, TK_AV;

%nodefault

root: TK_DQN DK NXN TK_WWK TK_PSN | 'N' C C 'S';

UOP: PER AJ | 'L' SZQTA 'O' TK_NIOY ZTU;

DK: ZWXU | 'O' V AY QTJLY ZCWR | QTJLY WBP | QVJCB QVJCB SZQTA WBP 'N';

QMWE: TK_DQDA TK_AZ QTJLY | HJ | TK_KX;

PER: FRRV FRRV WBP ZWXU CISPP | 'T' | CISPP WAUQD;

WAUQD: TK_MD TK_GHEK | QMWE | 'S' TK_PYBT V AY | 'N';

HJ: 'O' TK_MD 'N';

AY: NXN | ZTU WAUQD 'W' TK_AZ TK_NIOY | ZWXU ZTU C | TK_GHEK TK_DQDA CISPP 'W' | 'Y' TK_KX FRRV ZTU;

QVJCB: TK_PYBT TK_PYBT | DK EJK TK_GHEK 'T' NXN;

TMYZW: AJ TK_KX;

WUTCP: DK ZCWR DK WMN | ZWXU TK_MD FRRV TK_MD CISPP | 'N' FRRV 'O';

FRRV: V TK_MD WMN EJK | TK_NIOY V TK_NIOY TK_ZU CISPP | C AY TK_MD TK_UB | TK_AV FRRV V TK_NIOY 'T' | FRRV TK_KX TK_GHEK;

ZCWR: C EJK 'H' ZCWR | TK_WZR SZQTA | DK | 'W' TK_PSN 'S' 'S' DK | TK_PSN 'J' QVJCB WMN AY;

ZWXU: TK_UB TK_WZR | TK_KX TK_DQN SZQTA AJ TK_NIOY | PER ZCWR NXN PER;

SZQTA: C 'O';

C: 'W' 'N' TK_WZR | TK_AV 'T' 'J' TK_PYBT | PER | ;

EJK: WUTCP TK_DQN WAUQD WMN 'Y' | DK QMWE 'N' 'Y';

AJ: TK_UB HJ TK_MD;

WMN: 'S' WUTCP;

WBP: WBP SZQTA ZCWR TK_MD TK_ZU | TK_GHEK TK_NIOY HJ 'O' | FRRV ZWXU 'W' QVJCB | ;

V: UOP ZWXU NXN | DK TK_KX 'H' TK_DQN TK_KM | ZCWR TMYZW EJK 'T';

ZTU: TK_UB TK_WWK 'Y' DK QVJCB;

NXN: TK_DQDA 'J' | ;

QTJLY: WAUQD QVJCB ZCWR | WMN NXN WBP TK_PSN FRRV | AY;

CISPP: C SZQTA UOP | TK_PYBT CISPP | TK_KM EJK | EJK TK_MD TK_PYBT 'H' TK_MD | TK_DQN AJ QTJLY TMYZW TK_DQN;

