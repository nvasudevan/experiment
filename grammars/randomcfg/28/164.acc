%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: TK_XFU HDHX | PK | TK_OIRTB BJ | TK_VDZB 'Y' VG XPSMA FJILV | TK_BVH TK_VDZB A;

LWY: TK_XFU | JWAFP TK_OK;

FV: H DU OYZBD 'Z';

HDHX: TK_LEA | FV LWY TK_CPZIM TK_XFU | TK_CPZIM BJ H TK_FJKYU FJILV | VG FV;

EXL: TK_CPZIM TK_XFU VG | OYZBD | 'S' 'K' NNK TK_OIRTB FJILV;

BJ: PK VG H 'M' | TK_LEA TK_EX NNK TK_CPZIM;

XPSMA: TK_LEA FJILV HDHX C | TK_OIRTB A | LWY TK_EOTEY JWC TK_XFU 'P' | TK_MPC FJILV TK_QHP;

KJKWG: 'Q' E XPSMA | LWY | HDHX | NNK JWAFP | L EXL 'Y';

DU: ZSNI NNK NT TK_ZHJNF | JWAFP 'Z' TK_DLZY FJILV NT;

QLYBP: TK_EX TK_FJKYU BJ | DU 'S' TK_EX 'X' TK_XFU | ;

BPMTL: TK_UC TK_EX VG 'Z';

JWC: L 'X' TK_MPC EXL QLYBP | 'M' TK_OK 'Y' KJKWG | ;

NNK: TK_EOTEY DU A OYZBD 'O' | TK_OK TK_LEA 'P' JWAFP | DU 'K' TK_XFU JWAFP;

NLOT: KJKWG 'S' TK_EX 'X' QLYBP;

OYZBD: FV FJILV | TK_OIRTB LWY TK_DLZY | OYZBD 'Z' BJ TK_UC | NLOT | BJ 'P' QLYBP L;

RG: NT | JWAFP HDHX | ;

CQB: EXL | 'Z' 'X' KJKWG | ZSNI NLOT | HDHX 'O' HDHX ZSNI TK_FJKYU | 'X' NT;

PK: LWY DU TK_OIRTB 'P';

NT: TK_QSOD L;

FJILV: TK_UC TK_APR 'Z' | 'X' TK_XFU CQB JWAFP QLYBP | TK_FJKYU TK_QHP TK_EOTEY 'K' | TK_GIM TK_GIM TK_QSOD TK_UC TK_MPC | TK_DLZY NLOT 'K';

A: TK_DLZY JWC TK_QSOD FV TK_OIRTB | E 'Z' 'S' 'K' | NLOT KJKWG | TK_OK TK_EX JWAFP TK_QSOD | E;

C: TK_FJKYU FJILV E DU | VG 'K' TK_BVH TK_EOTEY | TK_ZHJNF | 'Z' 'X' TK_EOTEY OYZBD BJ;

E: PK E TK_OK | TK_VDZB 'O' 'U' CQB;

ZSNI: NNK | L EXL | 'P' TK_FJKYU TK_LEA E HDHX | TK_OK DU TK_FJKYU NLOT TK_LEA | ;

VG: A ZSNI VG QLYBP | 'X' FJILV TK_ZHJNF FJILV L | FJILV 'K' | TK_VDZB | EXL 'Q';

H: CQB 'P' TK_LEA TK_OIRTB A | TK_OK;

JWAFP: XPSMA TK_EOTEY FJILV | QLYBP HDHX TK_LEA TK_VDZB | C E 'U' H TK_QHP | 'P' TK_ZHJNF BJ TK_MPC OYZBD | HDHX NLOT CQB RG DU;

L: LWY A KJKWG RG TK_FJKYU | 'X' 'M' TK_XFU E BPMTL | OYZBD DU TK_EX BJ;

