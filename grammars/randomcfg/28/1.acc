%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: PK A TK_QHP 'X' TK_EX;

LWY: JWAFP TK_DLZY KJKWG | DU JWC | TK_OK | TK_QHP A TK_CPZIM VG | TK_FJKYU VG RG;

FV: 'O' C FV TK_ZHJNF DU | 'U' TK_QSOD VG | QLYBP HDHX | TK_OIRTB TK_DLZY | TK_QSOD 'M';

HDHX: BPMTL TK_XFU E;

EXL: BPMTL FV;

BJ: 'M' | C TK_OK E;

XPSMA: L | 'K' | FJILV DU | TK_BVH 'Q' JWAFP CQB | ;

KJKWG: XPSMA 'Z' HDHX RG | NNK 'Q' RG | TK_APR | H NLOT;

DU: E TK_BVH FJILV | TK_MPC H TK_LEA | 'O' ZSNI TK_DLZY TK_UC | C TK_FJKYU BJ | 'Y' FJILV 'O';

QLYBP: L C NT | 'Y' DU | L 'M' FV | TK_UC 'S' TK_LEA HDHX TK_FJKYU | FJILV 'Y' BJ;

BPMTL: TK_UC E XPSMA 'U' | 'U' | 'P' JWAFP | 'Z' | DU TK_QSOD TK_OK;

JWC: TK_VDZB E | 'O' | PK | TK_QHP JWC;

NNK: JWC;

NLOT: TK_OK JWC TK_XFU NLOT QLYBP | LWY TK_OK;

OYZBD: TK_CPZIM TK_EX | 'Q' TK_VDZB | NT 'Z' TK_GIM TK_VDZB | 'M' FJILV TK_FJKYU FJILV TK_GIM;

RG: TK_UC KJKWG | TK_MPC | CQB FV TK_ZHJNF EXL TK_XFU;

CQB: XPSMA;

PK: NNK TK_UC A A A;

NT: VG | ;

FJILV: RG H VG TK_QHP TK_DLZY | 'Y' TK_BVH DU JWC | TK_QHP | ;

A: TK_OK TK_FJKYU | NNK | ZSNI NT TK_LEA | 'O' BPMTL TK_GIM;

C: TK_OIRTB PK TK_GIM TK_UC NLOT | BPMTL TK_MPC | KJKWG PK;

E: BPMTL 'Z' CQB CQB PK | TK_QSOD TK_EX | KJKWG 'X' TK_UC TK_UC TK_OIRTB;

ZSNI: TK_VDZB LWY | ;

VG: NT | ZSNI H | A JWC TK_EOTEY;

H: QLYBP TK_UC CQB FV NNK | HDHX HDHX NNK | TK_QHP JWAFP | TK_EX TK_CPZIM 'Q' JWC;

JWAFP: TK_OIRTB NLOT 'P' 'Z' TK_EOTEY | NLOT 'S' LWY TK_OK 'M';

L: TK_DLZY ZSNI L | NT TK_EX 'Z' JWC TK_OK;

