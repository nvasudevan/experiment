%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'Q' LWY 'Q' | JWC | NNK | DU OYZBD | TK_MPC TK_UC TK_UC;

LWY: C TK_BVH TK_BVH NNK NT | NT TK_FJKYU | FJILV TK_VDZB DU TK_VDZB TK_OK | TK_MPC 'Z' ZSNI XPSMA 'Z' | ;

FV: KJKWG JWC | DU 'Q' JWC | TK_MPC JWAFP TK_BVH TK_QSOD | TK_CPZIM DU TK_EX TK_APR | HDHX NNK TK_CPZIM JWC;

HDHX: HDHX TK_LEA XPSMA L | TK_DLZY TK_APR TK_VDZB | NNK TK_OK RG TK_GIM | HDHX 'X' TK_BVH DU TK_QSOD;

EXL: 'O' BJ KJKWG NNK | DU TK_APR TK_VDZB | E TK_EOTEY TK_LEA FV C;

BJ: OYZBD TK_OK TK_QHP TK_EOTEY | A | JWAFP | BPMTL TK_QHP NNK | TK_XFU;

XPSMA: RG L TK_DLZY;

KJKWG: JWC ZSNI;

DU: 'U' | TK_LEA | OYZBD NNK 'P' | ;

QLYBP: KJKWG KJKWG NT OYZBD XPSMA | TK_DLZY HDHX TK_APR TK_LEA NT | TK_FJKYU TK_XFU 'U' H | 'Y' TK_APR TK_XFU DU | TK_APR TK_EOTEY TK_ZHJNF JWAFP TK_BVH;

BPMTL: TK_LEA PK TK_MPC NLOT | 'X' QLYBP JWAFP H | ;

JWC: 'X' E FJILV 'O' | 'O' | 'X' TK_QHP | KJKWG H TK_BVH 'X' TK_OK;

NNK: TK_ZHJNF TK_VDZB 'U' TK_CPZIM | BPMTL | 'Q' JWAFP KJKWG | ;

NLOT: 'K' JWAFP TK_UC | BPMTL 'U' | 'O' L TK_VDZB DU | BPMTL TK_BVH 'Y' NNK FV;

OYZBD: 'S' | 'Q' FV 'Y';

RG: TK_VDZB TK_BVH TK_ZHJNF TK_EOTEY NNK | TK_CPZIM TK_BVH | OYZBD;

CQB: L RG;

PK: NLOT BPMTL | TK_LEA 'O' LWY | VG 'O' TK_QHP 'X';

NT: TK_XFU E | TK_UC 'X' | ZSNI TK_OIRTB TK_LEA CQB;

FJILV: TK_LEA TK_QSOD TK_FJKYU LWY QLYBP | ZSNI TK_OIRTB;

A: TK_FJKYU OYZBD TK_QSOD TK_GIM TK_UC;

C: 'X' TK_LEA 'O' | RG TK_OIRTB 'S' | HDHX | BJ E TK_LEA;

E: E 'Y' C 'Z' | JWC VG TK_CPZIM 'X' | NNK H BJ | PK DU TK_QHP;

ZSNI: NLOT | VG H E | HDHX PK TK_APR;

VG: VG TK_QHP | 'Z' ZSNI | TK_QSOD TK_GIM L 'U' OYZBD | VG TK_QHP TK_QSOD TK_MPC;

H: 'U' TK_DLZY NLOT TK_XFU ZSNI;

JWAFP: C;

L: NNK FV TK_FJKYU TK_CPZIM 'P' | TK_EX OYZBD TK_FJKYU NLOT TK_UC;

