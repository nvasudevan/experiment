%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'K' L TK_OK VG | L JWAFP | NNK TK_XFU NT NLOT H;

LWY: TK_XFU | JWC 'Z' KJKWG NLOT BJ | TK_BVH;

FV: TK_UC NT | 'U' TK_QSOD H TK_XFU TK_OK | NLOT | 'Y' TK_DLZY | 'Q' TK_BVH A;

HDHX: FV TK_DLZY 'S' | XPSMA 'Z' | KJKWG E PK TK_BVH | TK_OIRTB TK_EOTEY C NNK BJ;

EXL: TK_QHP HDHX | 'M' DU TK_ZHJNF KJKWG | H | TK_UC PK;

BJ: RG HDHX NT;

XPSMA: 'Z' 'Q' TK_UC | TK_BVH | TK_ZHJNF TK_MPC H;

KJKWG: TK_GIM TK_APR A 'Z' | 'K' 'Q' 'K' 'X' | NNK | A;

DU: 'X' CQB C | ZSNI | NNK BJ TK_QHP HDHX OYZBD | 'M' JWC H TK_OK NNK | TK_FJKYU 'P' TK_FJKYU FJILV QLYBP;

QLYBP: 'S';

BPMTL: TK_OIRTB TK_ZHJNF TK_XFU | RG TK_CPZIM TK_DLZY;

JWC: 'P' | VG 'M' | TK_OK 'Q' | E RG | TK_CPZIM 'M';

NNK: CQB | C NLOT C L | TK_VDZB | 'S' TK_MPC TK_VDZB NNK | ;

NLOT: 'O' VG | QLYBP JWC TK_VDZB A | 'K' JWC L;

OYZBD: TK_QSOD NT | BPMTL ZSNI CQB | ;

RG: TK_LEA TK_FJKYU | PK VG | CQB TK_FJKYU E OYZBD TK_XFU | OYZBD BPMTL TK_EX;

CQB: A LWY | 'Z' JWAFP OYZBD LWY TK_EOTEY | C 'P' JWC BPMTL;

PK: TK_MPC TK_LEA 'P' EXL NNK | JWAFP PK PK CQB | KJKWG | ;

NT: KJKWG OYZBD 'Y' TK_FJKYU;

FJILV: CQB JWC BPMTL A | TK_VDZB 'P' 'Y' TK_FJKYU 'M' | 'X' VG HDHX | BPMTL TK_QSOD FV | JWC XPSMA TK_GIM TK_GIM;

A: QLYBP TK_GIM FJILV;

C: HDHX BPMTL | RG RG XPSMA E | 'K' TK_EOTEY C | TK_OIRTB TK_OK | ;

E: H TK_QHP | CQB H TK_CPZIM TK_XFU OYZBD | PK NNK | TK_EX TK_EX TK_XFU H | TK_EX TK_XFU DU TK_OIRTB;

ZSNI: QLYBP CQB H 'P' L;

VG: NT 'K' TK_ZHJNF OYZBD 'U' | 'S' TK_UC | EXL 'X';

H: TK_EOTEY TK_OK TK_UC PK | BJ E | QLYBP | 'U';

JWAFP: DU 'Y' TK_APR;

L: TK_GIM KJKWG FV JWAFP NNK | QLYBP KJKWG XPSMA 'X' 'Z' | TK_QSOD | TK_QHP NLOT TK_OK | 'P' TK_XFU;

