%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: TK_OK RG | VG HDHX JWAFP E;

LWY: 'Z' TK_QHP NT | RG | C TK_UC | FJILV 'K' 'X' TK_OIRTB;

FV: TK_EOTEY NT L E NNK | TK_ZHJNF TK_UC;

HDHX: QLYBP A A | TK_CPZIM | TK_ZHJNF JWC 'U' 'M' LWY | TK_EX QLYBP TK_OIRTB | NT TK_OK 'K' A;

EXL: E LWY 'U' KJKWG TK_BVH | C | TK_EOTEY QLYBP 'O' TK_XFU 'M' | FJILV 'Z' JWAFP | 'Z';

BJ: KJKWG TK_APR TK_QSOD | TK_FJKYU H L | L NNK OYZBD | A;

XPSMA: A NT FV BPMTL A | 'M' TK_CPZIM TK_OK 'Y' KJKWG | EXL | ZSNI 'Y' HDHX BPMTL | FJILV TK_UC;

KJKWG: TK_OIRTB | TK_QHP 'Z';

DU: BPMTL 'U' TK_LEA 'K' | TK_CPZIM 'X' 'O' 'M' TK_EOTEY | ;

QLYBP: 'M' TK_OK JWAFP FJILV | A | TK_UC;

BPMTL: TK_ZHJNF | A | TK_MPC | QLYBP BPMTL DU 'M';

JWC: TK_XFU QLYBP 'U' | JWC | RG QLYBP NLOT;

NNK: HDHX TK_EX 'X' 'K' TK_EX | TK_QSOD TK_UC;

NLOT: XPSMA JWAFP TK_VDZB XPSMA | H BJ ZSNI | TK_DLZY 'U' TK_ZHJNF VG TK_ZHJNF | 'P' 'U' | TK_EX;

OYZBD: NNK OYZBD E BPMTL | TK_XFU 'X' TK_QHP | ;

RG: TK_QSOD RG JWC PK | NT 'Q' KJKWG DU | BJ TK_MPC TK_OIRTB 'M' TK_VDZB | NT;

CQB: 'P' | 'P' EXL TK_FJKYU OYZBD 'K' | TK_UC FV 'X' E | TK_OK OYZBD TK_APR;

PK: 'M' 'P' | CQB;

NT: 'K' LWY JWAFP TK_XFU | NNK TK_DLZY RG | 'M' | ;

FJILV: NLOT TK_OK ZSNI TK_DLZY;

A: TK_VDZB NLOT 'S' | C TK_QHP FJILV E 'X' | 'S' TK_LEA;

C: TK_GIM | BPMTL VG 'X' A | TK_VDZB QLYBP FJILV QLYBP 'M';

E: BJ | 'Q' | DU QLYBP TK_UC TK_APR TK_OK | CQB ZSNI HDHX 'S' | ;

ZSNI: TK_MPC RG TK_CPZIM | H LWY EXL 'M' TK_OK | 'P' | JWC TK_OK KJKWG ZSNI | 'Q' TK_FJKYU 'S';

VG: TK_OK NNK JWAFP TK_GIM ZSNI | 'S' QLYBP DU | C | BPMTL 'X' BPMTL RG;

H: OYZBD XPSMA ZSNI FV | JWC TK_APR TK_UC 'S' TK_QHP | BPMTL 'P' TK_ZHJNF;

JWAFP: TK_LEA VG VG;

L: BJ TK_LEA | FJILV TK_EOTEY TK_GIM EXL TK_GIM;

