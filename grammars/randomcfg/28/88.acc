%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: TK_LEA PK | 'S' TK_FJKYU FV;

LWY: NNK 'O' TK_UC TK_GIM TK_DLZY | 'U' OYZBD | FJILV TK_VDZB LWY TK_LEA EXL | TK_DLZY RG FV;

FV: LWY | TK_EX TK_QHP TK_MPC ZSNI | EXL;

HDHX: 'S' | DU TK_GIM 'P' | TK_ZHJNF 'Q' DU | TK_QSOD TK_XFU;

EXL: TK_EOTEY TK_FJKYU | 'S' FV A 'X' | C 'M' ZSNI;

BJ: KJKWG TK_FJKYU | TK_CPZIM BJ BJ TK_XFU;

XPSMA: KJKWG;

KJKWG: 'Y' 'K' LWY NLOT | TK_UC FV | TK_UC TK_CPZIM TK_CPZIM | TK_CPZIM 'Q' QLYBP LWY | VG 'O' TK_XFU;

DU: FJILV VG 'U' BJ TK_MPC | TK_UC | TK_QSOD BJ | ;

QLYBP: TK_APR 'S' VG | TK_BVH L | FV ZSNI OYZBD;

BPMTL: XPSMA RG | TK_VDZB DU 'K' 'Q' | TK_ZHJNF 'Y' NT TK_BVH DU;

JWC: 'Y' JWC TK_MPC | TK_QHP EXL | NT L C TK_DLZY | E;

NNK: TK_QHP KJKWG | C EXL 'O' TK_OIRTB JWC | 'P' TK_BVH | TK_OIRTB | TK_BVH;

NLOT: TK_QHP VG BJ;

OYZBD: 'Y' L | DU TK_BVH TK_EOTEY JWC OYZBD | 'Z' XPSMA 'S' | BPMTL NNK | H TK_FJKYU TK_FJKYU;

RG: A | HDHX 'Q' | ;

CQB: TK_DLZY FV TK_XFU L | TK_EX 'X' TK_APR 'X' XPSMA | FJILV HDHX TK_FJKYU PK BJ;

PK: 'K' 'Y' | ;

NT: LWY C FJILV XPSMA BPMTL | 'Z' QLYBP NLOT 'P' | QLYBP NNK 'Q' 'Z' | XPSMA TK_QHP 'Q' | NLOT FJILV H;

FJILV: 'M' QLYBP TK_EX | JWAFP FJILV L 'O' ZSNI | H TK_UC FV;

A: KJKWG TK_EOTEY 'K' TK_EOTEY;

C: 'P' RG 'Y' | KJKWG TK_GIM QLYBP TK_QHP;

E: NLOT TK_APR BJ | TK_FJKYU;

ZSNI: TK_VDZB 'P' 'Y';

VG: NLOT TK_DLZY CQB C TK_LEA | C | 'S' TK_GIM | QLYBP 'K' TK_EX NT | ZSNI TK_LEA VG TK_QHP TK_LEA;

H: BPMTL | FJILV TK_QHP DU | FV | A;

JWAFP: BPMTL RG TK_MPC L | RG 'U' TK_OIRTB | CQB TK_DLZY XPSMA | ;

L: TK_OK;

