%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: TK_EOTEY TK_ZHJNF H KJKWG | BJ BPMTL TK_UC | TK_QSOD VG 'M' 'P' | 'Y' XPSMA XPSMA 'U' FV;

LWY: HDHX TK_DLZY OYZBD | QLYBP | TK_EOTEY TK_OK BPMTL PK QLYBP | TK_XFU 'K' KJKWG;

FV: 'Y' JWAFP | 'U' TK_ZHJNF C OYZBD | JWAFP CQB TK_EOTEY PK;

HDHX: FV FJILV TK_UC | 'K' CQB JWAFP | 'U' TK_OIRTB XPSMA E | ;

EXL: TK_EX JWC | 'Y' TK_OK | CQB | 'U' TK_MPC 'O' L KJKWG | ;

BJ: XPSMA TK_XFU;

XPSMA: 'P' PK BJ TK_GIM | 'S' | CQB;

KJKWG: H DU;

DU: FV A | 'K' TK_EX OYZBD | JWC TK_DLZY ZSNI OYZBD;

QLYBP: TK_VDZB DU TK_FJKYU;

BPMTL: TK_GIM TK_FJKYU | C FJILV TK_OK CQB | RG 'Z' 'Z' NLOT | 'U' 'O' 'M' JWC | TK_LEA CQB;

JWC: TK_EX FJILV DU | TK_ZHJNF NLOT BPMTL | TK_LEA 'Z' TK_APR;

NNK: ZSNI TK_VDZB | TK_LEA TK_OIRTB;

NLOT: FV H E 'Z' TK_QHP | ;

OYZBD: NLOT | QLYBP JWAFP | E LWY TK_OIRTB QLYBP DU | JWC RG TK_XFU | TK_CPZIM VG PK;

RG: 'M' | OYZBD XPSMA QLYBP 'Y' | H TK_APR;

CQB: BPMTL 'S' DU PK | TK_FJKYU;

PK: DU | TK_XFU TK_BVH | XPSMA NNK TK_EX A | TK_QSOD TK_CPZIM TK_EOTEY TK_BVH TK_EOTEY;

NT: TK_QHP;

FJILV: HDHX ZSNI TK_APR | TK_UC TK_BVH L TK_QSOD NT | VG ZSNI H C JWAFP | FJILV TK_OK | TK_EX TK_GIM 'P' RG;

A: OYZBD | C TK_FJKYU FJILV TK_QHP | RG TK_EOTEY TK_XFU NLOT RG;

C: 'M';

E: BJ 'O' JWC 'M' | TK_OIRTB XPSMA TK_OIRTB TK_FJKYU JWAFP | HDHX KJKWG DU;

ZSNI: TK_GIM 'O' TK_LEA TK_EOTEY | JWAFP 'X' C TK_QSOD;

VG: TK_MPC H TK_XFU 'Z' VG | TK_VDZB 'Q' | TK_APR LWY TK_CPZIM | 'P' TK_VDZB KJKWG;

H: 'S' 'U' HDHX VG | TK_XFU VG 'P' TK_OIRTB TK_APR | DU TK_UC VG | 'Q' TK_ZHJNF BJ TK_EX | ;

JWAFP: H A EXL H | NLOT CQB TK_OK | TK_LEA EXL | QLYBP;

L: FV TK_QSOD NT;

