%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: E TK_EX | NNK JWAFP HDHX XPSMA | 'P' OYZBD | PK TK_QHP 'K';

LWY: TK_BVH 'P' 'Q' TK_EX | FV QLYBP VG JWAFP VG | QLYBP NT TK_VDZB | ;

FV: OYZBD TK_ZHJNF TK_XFU TK_CPZIM | NNK | ;

HDHX: BJ TK_QSOD TK_QSOD E TK_VDZB | 'P' 'U' QLYBP 'U' RG | TK_MPC 'Z' C;

EXL: NLOT VG NT NNK;

BJ: CQB TK_QSOD E | LWY TK_UC TK_UC TK_GIM | DU 'O' 'U' VG JWC | TK_QHP H 'O' TK_MPC JWC | NNK TK_XFU KJKWG RG KJKWG;

XPSMA: TK_ZHJNF NNK | TK_VDZB TK_DLZY TK_OK 'Q' JWC | NNK PK TK_CPZIM | KJKWG TK_CPZIM 'Y';

KJKWG: BPMTL PK | TK_MPC 'O' OYZBD TK_QSOD | TK_APR 'P' | E | ;

DU: TK_EX FV | H TK_MPC | BJ TK_XFU BJ TK_LEA 'O' | TK_LEA 'Y' | ZSNI;

QLYBP: 'S' 'Z' NLOT TK_ZHJNF | TK_VDZB | LWY;

BPMTL: PK TK_QHP ZSNI | 'O' FJILV C | DU | TK_DLZY NNK | NNK;

JWC: TK_XFU 'Z' A;

NNK: E HDHX | TK_OK | TK_QHP | PK | BPMTL LWY 'S' 'K';

NLOT: A 'Z' TK_DLZY | 'M' OYZBD 'P' NNK TK_GIM | 'K' OYZBD BJ VG 'K' | ;

OYZBD: C ZSNI TK_ZHJNF 'O' | 'U' DU A XPSMA | JWAFP TK_LEA | 'X' 'K' TK_XFU | LWY TK_VDZB TK_GIM;

RG: NT | 'S' ZSNI JWC | EXL XPSMA 'Z' | TK_VDZB CQB JWAFP | NT 'K' JWAFP;

CQB: JWAFP | TK_LEA | BPMTL OYZBD A NT;

PK: BPMTL | TK_VDZB KJKWG NT RG TK_XFU | NLOT TK_QHP FJILV | KJKWG 'Y' JWC 'S' OYZBD | 'O' NT JWC L 'Q';

NT: BJ TK_UC DU;

FJILV: TK_UC TK_OIRTB TK_OK BPMTL;

A: TK_FJKYU FV | TK_OK TK_XFU;

C: BPMTL | RG TK_FJKYU L;

E: QLYBP TK_EOTEY | BJ JWAFP JWAFP TK_ZHJNF | 'P' 'K' TK_QSOD 'S' H | H C | EXL 'S' H KJKWG LWY;

ZSNI: TK_VDZB TK_ZHJNF TK_MPC JWAFP NLOT | 'Y' TK_OIRTB | 'K' 'Z' | 'Q' FJILV TK_OK C A | FJILV 'S' XPSMA 'P' TK_ZHJNF;

VG: 'U' | TK_LEA RG TK_MPC FV TK_LEA | TK_FJKYU 'P' A L | 'X' TK_EX TK_UC;

H: TK_XFU RG DU E NT | 'U' 'S' | XPSMA CQB JWAFP 'K' | OYZBD TK_EX ZSNI;

JWAFP: 'M' TK_OK;

L: 'U' TK_XFU TK_QHP TK_APR NLOT | TK_OIRTB DU | TK_GIM TK_OK 'Y' TK_CPZIM TK_OK | LWY NT TK_DLZY 'S' TK_BVH | TK_GIM;

