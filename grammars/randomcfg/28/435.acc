%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: RG TK_DLZY VG TK_LEA | H 'O' C TK_CPZIM | 'O' TK_QSOD | RG PK 'Y' TK_LEA L;

LWY: 'Y' FV TK_MPC TK_UC;

FV: TK_ZHJNF TK_QSOD OYZBD 'X' | XPSMA LWY NLOT JWAFP TK_DLZY | TK_LEA 'U' TK_APR TK_ZHJNF TK_EOTEY | TK_OK 'K' 'M' TK_APR XPSMA | OYZBD FV ZSNI;

HDHX: QLYBP TK_DLZY CQB 'S' | FV 'Z' XPSMA TK_VDZB TK_DLZY | FJILV RG LWY;

EXL: FV NLOT | TK_OIRTB TK_MPC | TK_BVH RG TK_QHP TK_QHP | PK C BPMTL 'Q';

BJ: EXL TK_GIM 'K' DU | CQB TK_GIM TK_LEA | TK_VDZB VG;

XPSMA: 'P' TK_EOTEY TK_EOTEY L | 'K' TK_QSOD NT | CQB 'X' | RG BJ JWAFP 'U' FV | TK_QHP 'Q' FJILV;

KJKWG: OYZBD VG;

DU: L | 'P' BJ BJ | TK_MPC TK_CPZIM XPSMA 'M' TK_GIM | OYZBD E TK_OIRTB NLOT KJKWG | ;

QLYBP: C OYZBD 'Y' | TK_QSOD | BJ RG A 'X' | LWY TK_UC OYZBD TK_QSOD TK_ZHJNF;

BPMTL: TK_UC HDHX | TK_OIRTB | ;

JWC: FJILV TK_DLZY 'K' 'X' | CQB NT | HDHX C 'P' H RG | 'X' TK_FJKYU TK_FJKYU TK_ZHJNF;

NNK: JWAFP TK_QSOD | 'Y' 'M' 'X' VG NLOT;

NLOT: TK_CPZIM LWY TK_EOTEY | 'K' 'S' | PK E 'K' | TK_OIRTB 'Q' FJILV;

OYZBD: NLOT | TK_VDZB | ZSNI NLOT ZSNI;

RG: QLYBP TK_APR TK_OK | CQB TK_OK | ;

CQB: 'U' 'Y' TK_OK TK_OIRTB JWAFP | EXL 'U' 'K' 'K' TK_DLZY | 'Q' BJ EXL TK_OIRTB ZSNI | 'K' PK;

PK: 'S' JWAFP | RG TK_APR H | DU TK_OK KJKWG QLYBP A | A | TK_MPC TK_OK TK_ZHJNF;

NT: 'P' TK_LEA;

FJILV: LWY 'Z' | 'X' KJKWG NNK | TK_APR PK TK_ZHJNF 'Z' | 'K' LWY NLOT 'X' CQB;

A: DU TK_LEA 'S' | TK_DLZY | ;

C: TK_UC | DU NLOT VG BJ | TK_EX EXL TK_EOTEY TK_OK 'S' | TK_UC 'O' 'X' QLYBP QLYBP;

E: 'Q' BPMTL | TK_GIM FV FV NNK;

ZSNI: 'X' QLYBP TK_EOTEY XPSMA | TK_OK 'Y' L TK_LEA;

VG: TK_EOTEY EXL DU E | 'M' | TK_DLZY PK;

H: TK_MPC TK_EOTEY TK_DLZY NT | JWAFP FJILV JWC TK_EX | TK_VDZB NNK LWY | TK_UC;

JWAFP: TK_CPZIM TK_FJKYU 'Y' FJILV | LWY | RG TK_MPC OYZBD BJ TK_OK | NT TK_BVH TK_UC ZSNI H | VG FJILV;

L: TK_EOTEY 'O' A 'Z';

