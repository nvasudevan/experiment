%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: ZSNI NNK NNK | BJ L | 'K' JWC 'P' JWC | FJILV NT VG NLOT | NNK;

LWY: BJ 'Z' XPSMA | CQB | TK_VDZB TK_QSOD CQB TK_VDZB 'U' | NT NNK;

FV: 'O' JWC TK_GIM | RG TK_ZHJNF | TK_LEA 'X' DU BPMTL | JWAFP;

HDHX: TK_LEA 'Z' TK_GIM | NLOT TK_XFU TK_LEA | ;

EXL: 'P' TK_XFU TK_DLZY TK_XFU | TK_GIM TK_DLZY A PK | RG VG VG 'M' NNK;

BJ: 'Z' TK_ZHJNF TK_EOTEY TK_BVH | C JWC TK_ZHJNF TK_EX NLOT;

XPSMA: OYZBD L FV | RG 'U' 'U' TK_APR TK_GIM | CQB;

KJKWG: ZSNI JWC;

DU: TK_QHP;

QLYBP: TK_OIRTB PK RG TK_VDZB | 'P' 'S';

BPMTL: VG FV LWY EXL | 'Q' | NLOT QLYBP | LWY VG TK_EX;

JWC: TK_XFU VG NNK | 'X' KJKWG TK_EOTEY 'Q' | NT XPSMA TK_MPC C E | ;

NNK: TK_UC | NT TK_XFU QLYBP DU | 'M' L JWC JWAFP TK_UC;

NLOT: TK_UC TK_LEA | TK_DLZY ZSNI TK_OK;

OYZBD: JWC | TK_QHP TK_DLZY CQB RG XPSMA;

RG: A BJ C BPMTL CQB | BJ BJ FV CQB C | EXL TK_CPZIM 'O' | TK_FJKYU KJKWG EXL TK_OIRTB VG | XPSMA H 'Y';

CQB: E JWAFP QLYBP CQB TK_FJKYU | TK_OIRTB;

PK: TK_OK 'O' | L XPSMA TK_ZHJNF | TK_XFU OYZBD | TK_BVH TK_UC TK_XFU ZSNI;

NT: 'O' OYZBD TK_ZHJNF FJILV TK_XFU | TK_OK RG A NLOT QLYBP | JWAFP;

FJILV: L NNK TK_DLZY | JWC QLYBP ZSNI TK_XFU 'M' | 'M' TK_FJKYU TK_MPC L;

A: TK_APR NT TK_OIRTB OYZBD | ;

C: 'U' OYZBD C QLYBP 'X' | 'Q' 'P' TK_CPZIM C DU | FJILV BJ XPSMA CQB | FJILV HDHX KJKWG | L TK_MPC TK_OIRTB ZSNI PK;

E: TK_OK | TK_XFU TK_APR 'O' TK_QSOD | TK_VDZB TK_UC XPSMA TK_QSOD;

ZSNI: TK_FJKYU OYZBD L TK_OIRTB | TK_QHP TK_QHP BJ | 'S' 'Z' XPSMA VG LWY;

VG: 'U' H TK_APR TK_UC 'P' | BJ CQB;

H: 'Y' A 'S' | TK_BVH L NNK TK_CPZIM NLOT | TK_GIM TK_QHP | 'K' TK_OK JWAFP TK_BVH;

JWAFP: KJKWG VG LWY TK_EX DU;

L: DU VG KJKWG;

