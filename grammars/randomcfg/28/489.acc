%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: TK_FJKYU | BPMTL;

LWY: DU ZSNI 'Z' E | ;

FV: 'Q' | 'S' TK_ZHJNF | TK_QHP XPSMA;

HDHX: QLYBP A | TK_DLZY 'Z' DU;

EXL: QLYBP;

BJ: XPSMA TK_MPC JWAFP KJKWG | HDHX 'Q' HDHX NNK LWY | TK_DLZY RG 'Z' TK_OK TK_UC | TK_OIRTB JWC C | ;

XPSMA: TK_MPC A | NNK | EXL CQB TK_LEA PK;

KJKWG: NNK TK_MPC 'X' EXL | C 'P' BPMTL 'Z' | QLYBP VG HDHX;

DU: JWC | TK_OIRTB A HDHX NT | QLYBP TK_XFU | CQB HDHX;

QLYBP: LWY TK_QSOD FJILV ZSNI NNK;

BPMTL: HDHX BPMTL | NT VG H TK_GIM | 'K' | ZSNI TK_MPC CQB 'P' | A;

JWC: TK_APR TK_LEA 'Z' 'M' | TK_OK BPMTL | BPMTL | TK_XFU | TK_GIM TK_OIRTB LWY 'Q' TK_QHP;

NNK: TK_UC FV | VG HDHX JWC TK_LEA | TK_CPZIM NT KJKWG TK_QHP 'U' | JWAFP 'M' HDHX FJILV | OYZBD TK_UC A;

NLOT: H KJKWG | TK_FJKYU | 'U' NNK 'X' VG | DU LWY LWY TK_VDZB L;

OYZBD: TK_FJKYU | 'S' | LWY TK_XFU NT | NT TK_EOTEY KJKWG DU | 'K' JWC LWY 'X' TK_GIM;

RG: NNK TK_OK TK_APR 'X' 'O';

CQB: DU A TK_EX;

PK: TK_MPC ZSNI TK_UC | TK_XFU TK_DLZY TK_XFU FV PK | A | KJKWG NLOT | XPSMA TK_QHP DU;

NT: NLOT BPMTL 'S' TK_OK CQB | TK_MPC TK_EOTEY | NLOT 'O' XPSMA BPMTL | NT;

FJILV: JWAFP TK_FJKYU BPMTL | ZSNI KJKWG 'P' H | H FV | ;

A: TK_VDZB TK_DLZY C RG H | JWC TK_GIM QLYBP TK_QHP | JWC NLOT | TK_XFU TK_LEA C TK_QHP JWC | 'Q';

C: TK_XFU L OYZBD OYZBD EXL | TK_BVH | TK_DLZY 'K' DU JWC | TK_APR TK_BVH 'S' 'U' | H;

E: NT | LWY | TK_EOTEY A TK_EX H;

ZSNI: TK_QSOD L TK_EOTEY TK_LEA | CQB | QLYBP 'K' TK_OK TK_OIRTB;

VG: JWC TK_DLZY | 'Y' TK_LEA | C EXL TK_APR KJKWG | RG NT | TK_FJKYU JWC;

H: PK NT CQB NNK | FJILV TK_EOTEY | L TK_EOTEY RG 'X' 'K' | FJILV EXL TK_VDZB 'Q' | TK_EX;

JWAFP: TK_EX TK_ZHJNF JWAFP | 'X' | ;

L: TK_ZHJNF | QLYBP | ZSNI 'O' TK_OK TK_QHP TK_GIM;

