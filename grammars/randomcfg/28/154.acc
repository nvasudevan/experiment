%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: TK_BVH TK_APR TK_MPC 'X' 'K' | 'P';

LWY: LWY NLOT | TK_APR TK_UC TK_QSOD 'Z' VG | TK_VDZB TK_VDZB TK_QSOD FJILV OYZBD | ;

FV: TK_QSOD | TK_VDZB QLYBP LWY | TK_GIM TK_APR JWC 'O' | TK_APR ZSNI TK_EX | HDHX ZSNI;

HDHX: 'Q' TK_UC TK_FJKYU ZSNI | TK_OIRTB BPMTL TK_OIRTB TK_DLZY 'Y';

EXL: TK_OIRTB H CQB | PK 'P' TK_LEA A TK_FJKYU | ;

BJ: JWAFP | 'Q' TK_DLZY 'S' EXL | FV TK_FJKYU TK_QHP 'S' | OYZBD C TK_EX TK_QHP | TK_FJKYU 'S' TK_LEA TK_OIRTB;

XPSMA: JWAFP HDHX TK_EOTEY BPMTL | DU A | TK_GIM FV TK_CPZIM TK_UC RG;

KJKWG: 'X' TK_GIM QLYBP TK_APR TK_APR | E TK_DLZY CQB;

DU: RG LWY NT TK_QSOD;

QLYBP: VG TK_LEA TK_VDZB | BPMTL TK_OK | BJ TK_CPZIM PK E ZSNI | TK_BVH 'U' NNK;

BPMTL: BJ BJ LWY JWAFP TK_GIM | DU H | BJ HDHX DU A TK_MPC | JWC FV;

JWC: TK_ZHJNF | NLOT TK_APR RG 'Y' | ;

NNK: NT | TK_XFU JWAFP L PK 'S' | H 'U' | TK_XFU 'Q' BPMTL;

NLOT: TK_DLZY KJKWG L QLYBP | 'K' DU | BPMTL 'P' C TK_FJKYU | KJKWG | KJKWG TK_EX FJILV;

OYZBD: NLOT TK_APR XPSMA | H FV TK_UC NNK | PK NLOT A 'X';

RG: EXL 'S' TK_MPC;

CQB: TK_DLZY OYZBD 'M' 'X' TK_CPZIM | TK_XFU JWC NT;

PK: RG BPMTL TK_LEA 'O' NNK | JWAFP TK_APR BPMTL 'K' | 'K' BJ CQB HDHX | TK_FJKYU 'X' TK_EOTEY | TK_XFU 'S' 'S' 'O' TK_EOTEY;

NT: PK TK_QHP H BPMTL | FV NT TK_UC TK_MPC TK_MPC;

FJILV: VG FJILV BPMTL | TK_QHP NNK LWY L OYZBD | JWC | TK_QHP TK_VDZB;

A: CQB TK_OK BPMTL | L | TK_FJKYU | C BJ L EXL 'Y';

C: HDHX 'S' NT TK_QHP | OYZBD 'Q';

E: TK_XFU A LWY L | 'Y' | 'K' NNK A TK_GIM FV | BJ;

ZSNI: TK_OK ZSNI JWC JWC TK_EOTEY | NT 'O' TK_OIRTB | LWY VG KJKWG HDHX JWAFP | ;

VG: A | BPMTL QLYBP | TK_LEA NT TK_BVH 'O' | C 'U' BJ;

H: HDHX FV DU | 'S' | TK_FJKYU 'Q' | 'O' 'Y' TK_QHP | 'K' BPMTL;

JWAFP: C | TK_OIRTB | JWAFP ZSNI | QLYBP;

L: KJKWG 'K' BPMTL;

