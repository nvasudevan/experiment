%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'M' TK_BVH NT | KJKWG | 'M' TK_QSOD 'M' TK_CPZIM 'Y' | 'P' TK_EX 'K' TK_EOTEY | JWAFP;

LWY: C TK_OK DU 'M' 'X' | 'M' TK_FJKYU TK_OK TK_BVH NT | 'Q' JWAFP LWY NNK | 'Z' TK_CPZIM | BJ TK_BVH;

FV: TK_QHP ZSNI | TK_XFU TK_DLZY 'P' NLOT E | 'U' BPMTL NNK | XPSMA A A TK_LEA BPMTL | 'U' TK_BVH 'S' NNK;

HDHX: 'K' ZSNI TK_UC 'Z' TK_OK | C BPMTL 'M' 'U' | OYZBD XPSMA 'U';

EXL: 'O' C TK_UC TK_DLZY | TK_XFU | NNK NT TK_QHP | TK_EOTEY 'K' 'U' TK_QHP | TK_CPZIM FV;

BJ: RG TK_LEA TK_MPC | A TK_EOTEY TK_LEA | TK_XFU TK_FJKYU PK | TK_LEA 'K' TK_DLZY TK_VDZB 'U';

XPSMA: TK_QSOD TK_OK XPSMA | 'S' PK TK_VDZB NT | H FJILV CQB EXL | TK_XFU NT TK_CPZIM TK_EX | JWC TK_VDZB TK_XFU XPSMA FJILV;

KJKWG: TK_EX DU 'X' | NLOT TK_QHP TK_EX OYZBD 'P' | 'O' H | TK_QHP 'S' QLYBP H TK_QSOD | ;

DU: TK_VDZB KJKWG H BPMTL | QLYBP QLYBP TK_CPZIM 'O' | TK_CPZIM 'U' CQB TK_CPZIM | ;

QLYBP: H | TK_EOTEY ZSNI TK_VDZB FJILV | TK_GIM OYZBD 'X' | FV ZSNI TK_EX TK_VDZB BJ | TK_QHP 'Q' KJKWG E XPSMA;

BPMTL: OYZBD JWC VG | ;

JWC: 'X' CQB;

NNK: TK_EOTEY VG | OYZBD JWC H TK_EX;

NLOT: NT 'Z' | LWY TK_EOTEY OYZBD 'M' | TK_CPZIM PK TK_MPC BJ EXL | PK BPMTL RG XPSMA;

OYZBD: HDHX KJKWG JWC BJ C | 'U' BPMTL | 'K' 'S' TK_CPZIM | 'K' C RG NLOT BJ;

RG: BJ TK_EX | VG TK_XFU FJILV;

CQB: JWAFP TK_QHP 'P' TK_QHP;

PK: FV | C BPMTL EXL | RG | TK_OIRTB;

NT: TK_UC BPMTL TK_ZHJNF NNK KJKWG | TK_EOTEY | ;

FJILV: A | H 'O';

A: TK_OIRTB PK C;

C: LWY DU C | TK_UC | LWY TK_MPC QLYBP 'P';

E: FV TK_XFU 'S' TK_OIRTB TK_QHP | 'K' KJKWG | 'U' | TK_LEA | 'O' TK_MPC 'O' XPSMA TK_OK;

ZSNI: PK EXL | XPSMA TK_BVH 'P' 'Y' | HDHX TK_GIM TK_VDZB TK_OIRTB TK_GIM | TK_EX DU 'Y' TK_BVH RG | TK_ZHJNF BJ NLOT LWY NNK;

VG: 'Q' TK_XFU | 'S' 'X' | C E LWY TK_MPC HDHX;

H: TK_OIRTB | CQB TK_UC DU TK_MPC | KJKWG LWY | C CQB C | XPSMA TK_DLZY RG NT 'Q';

JWAFP: PK TK_UC;

L: TK_ZHJNF | TK_FJKYU EXL 'Y';

