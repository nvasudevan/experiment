%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'Y' | 'U' TK_VDZB NT 'Z';

LWY: OYZBD 'X' | TK_VDZB FJILV 'S' | ;

FV: 'K' TK_MPC | TK_QSOD TK_FJKYU FV 'S' 'Q' | TK_OK RG;

HDHX: NT TK_BVH TK_XFU DU TK_GIM | VG 'P' 'P' TK_EX | JWC 'K';

EXL: EXL FJILV ZSNI TK_BVH PK | 'X' | FV TK_MPC | TK_UC RG CQB TK_OIRTB | TK_EOTEY TK_ZHJNF TK_UC KJKWG TK_FJKYU;

BJ: TK_CPZIM TK_GIM TK_QHP | 'O' BJ C TK_GIM DU | TK_BVH 'Q' | 'U' TK_APR | NT CQB TK_DLZY;

XPSMA: 'S' 'S' | L KJKWG TK_QSOD | XPSMA | TK_APR TK_OK | 'K' TK_OIRTB BJ;

KJKWG: TK_FJKYU LWY TK_XFU | TK_OIRTB TK_QHP H EXL 'O' | TK_QSOD CQB 'M' TK_GIM TK_EX | C 'Y' PK | TK_GIM 'O';

DU: L 'K' HDHX | TK_UC 'Z' | TK_APR 'X' TK_CPZIM | TK_QHP TK_EOTEY CQB NT | ;

QLYBP: TK_OIRTB 'P' | TK_XFU E TK_ZHJNF 'U' | CQB NNK | TK_OIRTB | TK_GIM TK_QHP JWAFP HDHX XPSMA;

BPMTL: ZSNI 'Z' EXL | RG H NNK;

JWC: KJKWG TK_APR;

NNK: KJKWG OYZBD FV NLOT | NLOT KJKWG | BJ TK_MPC OYZBD TK_QSOD | XPSMA;

NLOT: NLOT | TK_APR | ;

OYZBD: TK_CPZIM | C TK_OK QLYBP | 'S' C RG E;

RG: TK_XFU TK_OK | CQB 'X' | TK_ZHJNF 'P' 'S' ZSNI VG | 'S' 'X' QLYBP E 'U' | TK_UC TK_QSOD JWC;

CQB: TK_APR TK_ZHJNF TK_CPZIM ZSNI TK_ZHJNF | TK_BVH HDHX L | TK_XFU TK_GIM | DU A EXL VG TK_MPC | TK_APR;

PK: TK_EOTEY HDHX | PK TK_OK JWAFP BPMTL | 'X' FJILV | TK_CPZIM KJKWG TK_QHP 'K' 'K';

NT: EXL | TK_OK FJILV BPMTL | TK_OIRTB 'O' | 'Q' EXL;

FJILV: TK_APR | 'S' LWY | C PK TK_VDZB TK_MPC TK_FJKYU | 'K' TK_LEA 'K' TK_APR | ;

A: ZSNI TK_VDZB 'Y' | 'K' H JWC TK_FJKYU | TK_LEA TK_UC | 'Z' TK_BVH TK_EX 'O' TK_EX | TK_QSOD 'Y' 'U';

C: TK_QHP 'U' TK_DLZY | LWY TK_EOTEY QLYBP CQB | OYZBD TK_UC FJILV PK | KJKWG TK_APR TK_EOTEY | 'Y' VG TK_OK PK ZSNI;

E: FV C QLYBP TK_EOTEY | 'Q' | TK_XFU RG BJ | HDHX | VG BPMTL XPSMA;

ZSNI: VG;

VG: TK_BVH 'Q' TK_QHP;

H: TK_ZHJNF JWAFP 'P' QLYBP;

JWAFP: 'P';

L: TK_OIRTB BJ TK_CPZIM | TK_APR LWY TK_ZHJNF | 'Z' TK_VDZB | TK_LEA;

