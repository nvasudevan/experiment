%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: JWC OYZBD TK_OIRTB | TK_LEA TK_ZHJNF VG TK_ZHJNF JWC;

LWY: 'U' | PK TK_GIM TK_LEA | TK_BVH EXL XPSMA OYZBD | TK_APR CQB 'M' JWC | TK_OK;

FV: OYZBD | BJ ZSNI TK_BVH | TK_XFU TK_DLZY QLYBP KJKWG | TK_FJKYU KJKWG TK_LEA 'K' | 'O' DU;

HDHX: H 'X' KJKWG EXL TK_FJKYU | 'Y' TK_VDZB L BJ | TK_BVH | C | FV DU;

EXL: TK_FJKYU NT XPSMA | L BJ XPSMA QLYBP TK_EOTEY | TK_OIRTB | E XPSMA KJKWG FJILV;

BJ: 'S' TK_CPZIM A | TK_LEA | EXL TK_OK;

XPSMA: C FV | 'Y' BPMTL ZSNI TK_APR | ;

KJKWG: JWC 'M' | TK_VDZB NLOT TK_CPZIM | L;

DU: L L RG XPSMA | TK_APR | ;

QLYBP: OYZBD TK_XFU | TK_LEA QLYBP TK_XFU | 'Z' | NLOT | ;

BPMTL: FV | HDHX TK_QHP H TK_QHP | H PK 'X' | BPMTL TK_OIRTB TK_APR 'O' | ZSNI TK_VDZB DU;

JWC: TK_LEA FV CQB | FJILV OYZBD BPMTL TK_BVH | TK_QHP VG TK_VDZB 'S' | FJILV FV TK_OK 'P';

NNK: TK_OIRTB TK_LEA TK_FJKYU E TK_UC | TK_QSOD 'Z' XPSMA | TK_APR TK_GIM TK_QHP TK_OK | NLOT TK_LEA TK_CPZIM;

NLOT: FJILV EXL TK_EOTEY | TK_VDZB L;

OYZBD: TK_EOTEY QLYBP NT | HDHX 'P' TK_XFU JWC RG | EXL BJ;

RG: 'S' 'M' | 'Y' TK_QSOD TK_XFU TK_APR HDHX | HDHX 'O' NNK TK_DLZY NT | LWY 'X' 'M' TK_APR 'Z';

CQB: FV | TK_GIM TK_XFU TK_CPZIM BJ XPSMA | TK_OK | XPSMA | TK_BVH 'Z' TK_EX TK_ZHJNF;

PK: 'Z' FV NT ZSNI;

NT: TK_EX KJKWG | TK_EX TK_QHP H 'O' | C TK_MPC NNK KJKWG TK_EOTEY | CQB TK_MPC QLYBP 'S';

FJILV: TK_DLZY TK_GIM TK_OIRTB FJILV | KJKWG NLOT QLYBP TK_VDZB | 'P' JWAFP TK_QHP TK_BVH E | ;

A: JWAFP | DU 'M';

C: TK_OK BJ HDHX;

E: RG QLYBP QLYBP TK_DLZY | DU;

ZSNI: CQB | HDHX ZSNI RG DU TK_APR;

VG: CQB TK_VDZB TK_QSOD FV TK_OIRTB | OYZBD ZSNI NLOT NT | 'S' 'S' 'O';

H: H TK_LEA | TK_QSOD JWC | 'Q' VG | TK_FJKYU TK_ZHJNF TK_ZHJNF;

JWAFP: 'U' TK_GIM TK_CPZIM | JWAFP 'Z' TK_ZHJNF LWY A | BJ TK_EX | 'X' FV 'M' 'Y' QLYBP;

L: ZSNI | XPSMA JWC ZSNI TK_MPC RG | TK_QHP | TK_OK CQB | A;

