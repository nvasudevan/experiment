%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: VG 'K';

LWY: TK_OIRTB | BPMTL HDHX E ZSNI;

FV: NT NNK 'U' FV TK_EOTEY | 'S' | 'Q' 'X' TK_QHP 'Z' 'Q';

HDHX: 'P' KJKWG KJKWG TK_DLZY VG | FJILV | 'K' TK_CPZIM HDHX | 'X';

EXL: TK_CPZIM | VG EXL TK_OIRTB NT 'Z' | TK_CPZIM LWY CQB RG NT | 'P' 'X' 'X';

BJ: 'X' JWC OYZBD TK_ZHJNF NT | TK_EOTEY LWY NT TK_VDZB H | TK_GIM TK_VDZB | TK_XFU NT LWY TK_ZHJNF TK_UC | TK_OIRTB C;

XPSMA: TK_EX | TK_OIRTB TK_CPZIM 'S' TK_BVH TK_XFU;

KJKWG: L | H NNK 'Z' | L TK_XFU A TK_FJKYU L | LWY JWAFP | TK_FJKYU DU TK_GIM JWAFP BPMTL;

DU: 'Z' XPSMA E TK_BVH PK | C TK_FJKYU CQB | L HDHX 'Y' 'K' | 'Z' CQB 'M' ZSNI | TK_APR 'X' A;

QLYBP: A | DU TK_ZHJNF EXL | JWAFP | ;

BPMTL: DU TK_OIRTB;

JWC: OYZBD | QLYBP TK_LEA | ZSNI 'S' | ;

NNK: 'Y' TK_XFU TK_QHP | 'S' | TK_FJKYU NNK RG VG;

NLOT: 'X' | CQB HDHX 'P' | ;

OYZBD: TK_OK | DU BPMTL TK_EOTEY TK_MPC | E A | 'O' TK_ZHJNF;

RG: TK_EOTEY HDHX JWC | ;

CQB: TK_GIM TK_QHP TK_MPC KJKWG | TK_GIM DU TK_UC FV | EXL JWAFP TK_BVH 'O' | RG;

PK: H TK_BVH LWY DU TK_VDZB | NNK TK_QSOD 'Y' | 'Y' 'O' 'S' C 'Y' | 'M' 'U' XPSMA BPMTL | TK_OK;

NT: QLYBP BPMTL | KJKWG CQB TK_XFU L JWC | OYZBD DU 'U' XPSMA;

FJILV: DU TK_DLZY BPMTL TK_XFU 'P' | DU TK_OK TK_GIM 'M';

A: TK_MPC XPSMA FV E 'P' | KJKWG NNK FV | TK_UC 'U' | ZSNI TK_UC KJKWG TK_MPC | TK_BVH;

C: TK_BVH KJKWG ZSNI TK_EOTEY | TK_EX 'S' | XPSMA TK_OK VG | E TK_QSOD EXL | EXL 'Y' TK_OIRTB C;

E: 'Q' VG XPSMA TK_LEA FJILV | JWAFP L PK TK_MPC;

ZSNI: 'Y' H 'P' 'X' HDHX;

VG: VG TK_CPZIM RG NNK | TK_EX | TK_XFU CQB H A;

H: TK_EX 'Y';

JWAFP: A | H 'U' XPSMA | TK_FJKYU TK_ZHJNF VG KJKWG 'Z' | NT TK_OIRTB XPSMA JWAFP E | BPMTL;

L: BJ 'P' VG | TK_BVH TK_VDZB | 'M' TK_EOTEY | TK_QSOD TK_CPZIM HDHX TK_OK TK_CPZIM;

