%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: JWAFP TK_QSOD | NT KJKWG 'P' | NLOT L TK_OIRTB TK_FJKYU 'U';

LWY: TK_LEA | E 'P' PK 'S' H;

FV: HDHX JWAFP H TK_CPZIM | L 'Z' A TK_APR A;

HDHX: TK_XFU TK_LEA | TK_ZHJNF NNK EXL TK_DLZY TK_OIRTB | ;

EXL: XPSMA NT TK_ZHJNF 'K' | TK_QSOD H | KJKWG | ;

BJ: TK_QHP 'U';

XPSMA: 'P' XPSMA KJKWG TK_MPC | TK_QHP 'O' 'O' 'Q' | TK_EOTEY 'K' XPSMA 'U' | JWC CQB TK_QHP;

KJKWG: TK_CPZIM 'Z' JWC VG 'Y' | TK_GIM 'P' TK_XFU TK_EOTEY | KJKWG XPSMA BPMTL OYZBD C | 'Z' | 'O' NNK C 'M';

DU: TK_OIRTB 'Q' | JWC | TK_LEA 'S' LWY PK OYZBD | FV JWC TK_BVH 'Y' | 'Y' TK_MPC TK_APR RG;

QLYBP: TK_UC TK_QSOD RG | NNK ZSNI 'X' C PK | C FV 'Q';

BPMTL: TK_DLZY | XPSMA TK_FJKYU VG BPMTL | LWY 'O' 'Y' TK_CPZIM;

JWC: TK_ZHJNF | XPSMA FJILV H | TK_EX JWAFP TK_QHP | NNK TK_EX | TK_EOTEY VG NLOT;

NNK: NLOT DU | TK_QHP DU A A;

NLOT: L E OYZBD A L;

OYZBD: TK_LEA 'X' | XPSMA 'Y' CQB A 'X' | ;

RG: PK TK_OK TK_VDZB FV | E TK_ZHJNF DU BJ CQB | NNK JWC TK_CPZIM TK_EOTEY 'M' | TK_QSOD;

CQB: QLYBP HDHX KJKWG | QLYBP TK_LEA 'Z' TK_DLZY;

PK: NLOT NNK 'U';

NT: 'Y' CQB C | E JWAFP ZSNI 'Q' | PK TK_LEA;

FJILV: CQB ZSNI OYZBD | 'P' DU TK_QSOD 'Q';

A: FV CQB 'S' 'U' | TK_GIM TK_MPC TK_EOTEY | TK_EX QLYBP 'O' 'S' | 'Q' 'M' TK_LEA | 'M' VG TK_OK;

C: TK_ZHJNF 'O' RG | 'Y' | FV RG TK_CPZIM FJILV | A JWAFP NT VG LWY;

E: HDHX 'Z' HDHX | A ZSNI | TK_CPZIM | VG;

ZSNI: TK_DLZY 'M' 'P';

VG: NLOT VG NLOT TK_FJKYU JWAFP | 'Y' FJILV OYZBD EXL | C 'X' 'S';

H: JWAFP NNK | TK_BVH LWY TK_CPZIM LWY HDHX | JWAFP NT;

JWAFP: NNK | VG TK_UC TK_BVH KJKWG A;

L: DU XPSMA 'Q' | JWC 'O' KJKWG;

