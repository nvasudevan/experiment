%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: E CQB | NNK | 'O' CQB | 'Z' JWAFP TK_XFU 'O' NNK | DU TK_BVH;

LWY: FV KJKWG TK_UC 'O';

FV: TK_QSOD L L TK_UC | E TK_QSOD | 'Z' TK_BVH XPSMA TK_BVH C | PK TK_QSOD TK_UC;

HDHX: NNK | BJ JWC TK_MPC | TK_BVH LWY ZSNI EXL TK_GIM | 'K' TK_EX NT TK_OIRTB | TK_MPC NNK;

EXL: TK_ZHJNF TK_OIRTB | E TK_BVH L EXL;

BJ: TK_BVH | VG 'Y' VG;

XPSMA: NLOT RG TK_UC H;

KJKWG: RG TK_EX | TK_ZHJNF | JWC FJILV NNK TK_GIM JWAFP | TK_VDZB | ;

DU: TK_UC OYZBD 'K' TK_OIRTB;

QLYBP: LWY | HDHX NNK H JWC C | TK_EOTEY 'S' | QLYBP | TK_CPZIM HDHX A TK_ZHJNF OYZBD;

BPMTL: TK_DLZY H TK_QHP XPSMA LWY | 'P' HDHX;

JWC: A JWAFP | E TK_DLZY TK_CPZIM | EXL XPSMA;

NNK: 'M' BPMTL HDHX TK_UC TK_OIRTB | TK_DLZY H TK_DLZY | TK_EX QLYBP FV 'M' TK_LEA | NNK E OYZBD TK_EX JWAFP;

NLOT: LWY HDHX TK_QHP BJ;

OYZBD: RG | JWAFP 'U' A 'Q' VG | JWAFP TK_OIRTB QLYBP DU | TK_ZHJNF;

RG: RG TK_QHP | TK_FJKYU TK_GIM TK_VDZB | TK_CPZIM L | TK_LEA TK_MPC CQB BJ 'S';

CQB: OYZBD | TK_BVH QLYBP TK_FJKYU | NLOT L TK_ZHJNF 'O' | 'M' TK_EOTEY;

PK: TK_VDZB | TK_OK L BJ RG TK_QHP | EXL BJ 'M' 'M' | TK_MPC 'P' | 'S' FV 'K' 'X' TK_QHP;

NT: PK E 'O' JWC NNK | TK_APR 'K' | QLYBP;

FJILV: TK_OK TK_MPC | 'K';

A: CQB NT OYZBD | TK_MPC VG | TK_UC | 'O' PK TK_MPC TK_EX;

C: 'Y' 'M' TK_UC TK_GIM H | DU 'U' TK_EOTEY NT QLYBP | DU JWC LWY | BPMTL 'Y' 'P' TK_EX;

E: OYZBD TK_LEA TK_XFU C JWAFP;

ZSNI: RG QLYBP TK_FJKYU | ;

VG: TK_ZHJNF PK TK_MPC TK_XFU TK_VDZB;

H: 'Z' 'M' C L | FV QLYBP QLYBP TK_GIM BJ | BJ TK_OIRTB 'U' | ;

JWAFP: TK_QHP NLOT LWY 'Z';

L: TK_FJKYU 'X' NLOT PK 'Z' | L;

