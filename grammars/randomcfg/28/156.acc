%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: XPSMA TK_FJKYU KJKWG 'K' | TK_MPC TK_EX E | E 'X' TK_CPZIM TK_MPC | NT TK_XFU;

LWY: KJKWG PK NT;

FV: 'S' 'Z' H | ;

HDHX: TK_ZHJNF C TK_VDZB;

EXL: 'S' 'O' | EXL LWY TK_GIM VG JWC | 'Q' JWC 'U' | KJKWG HDHX 'X' TK_VDZB 'O';

BJ: FV TK_LEA PK 'S' TK_UC;

XPSMA: EXL 'P' NNK L | TK_OK 'U' OYZBD TK_ZHJNF | 'K' 'P' | QLYBP DU JWAFP E TK_ZHJNF | FV;

KJKWG: BPMTL | H FJILV 'Q' 'Q' | ;

DU: TK_LEA L TK_APR BPMTL;

QLYBP: H NT;

BPMTL: E TK_ZHJNF FJILV HDHX TK_UC | 'O' QLYBP RG | CQB;

JWC: 'Y' | FV RG 'Z' H;

NNK: 'S' BJ 'K' | TK_QSOD LWY DU FJILV | QLYBP HDHX NLOT OYZBD | DU JWAFP TK_OIRTB TK_LEA NLOT | TK_OK JWC C JWAFP L;

NLOT: RG 'Z' FJILV TK_EX | TK_LEA 'X' FJILV TK_VDZB 'Z' | NLOT PK TK_ZHJNF KJKWG 'P' | TK_XFU H KJKWG | 'S' KJKWG TK_EOTEY RG 'M';

OYZBD: TK_FJKYU TK_QHP 'X' H | A NNK LWY | TK_EX NNK 'Y' | TK_OIRTB 'Q' NNK TK_CPZIM A;

RG: TK_XFU TK_DLZY XPSMA 'P' | TK_ZHJNF ZSNI FV | TK_BVH JWC | ;

CQB: CQB TK_CPZIM KJKWG 'S' | RG BJ TK_OIRTB H BPMTL | TK_FJKYU JWC TK_QHP 'S' A | VG TK_OIRTB NNK | TK_UC 'P' FV;

PK: C | TK_VDZB KJKWG TK_FJKYU KJKWG | A FJILV 'Q' | TK_QSOD 'K' OYZBD 'U';

NT: BPMTL | TK_UC HDHX NT | TK_DLZY OYZBD TK_UC ZSNI TK_APR | NLOT;

FJILV: JWC;

A: 'Q' TK_ZHJNF 'M' | 'Z' TK_APR TK_EOTEY A BJ | L BJ TK_OK TK_FJKYU DU | 'Y' BJ 'Q';

C: TK_EOTEY VG | BJ L FV OYZBD VG;

E: H VG | LWY QLYBP TK_OK TK_UC | TK_APR TK_OK TK_QSOD | TK_FJKYU JWC E 'K';

ZSNI: VG TK_BVH 'O' TK_VDZB | TK_APR BJ TK_EX QLYBP | BPMTL | EXL C JWAFP | 'M';

VG: QLYBP;

H: A TK_QSOD L TK_OIRTB TK_LEA;

JWAFP: TK_ZHJNF 'K' TK_ZHJNF CQB;

L: TK_VDZB | JWC;

