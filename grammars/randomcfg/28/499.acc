%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: TK_GIM | QLYBP BJ 'Q' LWY | BJ | NLOT | QLYBP;

LWY: TK_EX L 'Q' | NNK LWY | H 'K' TK_BVH TK_EOTEY TK_MPC | TK_OIRTB TK_OIRTB | FJILV 'S';

FV: TK_UC QLYBP A LWY | E XPSMA | TK_EOTEY VG;

HDHX: QLYBP 'M' TK_XFU TK_QHP LWY | KJKWG TK_OK | DU | QLYBP TK_EX | 'O' 'Q' NLOT CQB TK_CPZIM;

EXL: TK_VDZB TK_FJKYU TK_EX KJKWG | C | TK_APR NT TK_UC A A;

BJ: 'X' TK_EOTEY | 'U' KJKWG NT TK_DLZY CQB | CQB L NT | ;

XPSMA: OYZBD OYZBD NT 'Y' | 'O' KJKWG JWC ZSNI | NT TK_EX TK_QHP | TK_VDZB TK_GIM 'Q' 'Z';

KJKWG: TK_VDZB TK_FJKYU | TK_OK L;

DU: VG HDHX OYZBD JWC E;

QLYBP: TK_ZHJNF PK | ;

BPMTL: VG | 'Q' | ZSNI H | CQB H 'U' TK_LEA;

JWC: TK_BVH BJ VG L JWAFP | TK_LEA NNK VG TK_QSOD | HDHX 'Y' 'Z' TK_UC | TK_UC 'S' H;

NNK: ZSNI 'X' OYZBD | ;

NLOT: TK_FJKYU 'Y' VG | 'K' HDHX JWC | TK_XFU FJILV TK_FJKYU TK_ZHJNF HDHX | NNK ZSNI;

OYZBD: TK_UC DU TK_EX 'O' | TK_XFU 'X' | ;

RG: OYZBD TK_BVH KJKWG OYZBD | C | TK_APR HDHX 'Q' TK_BVH 'S' | JWC TK_EOTEY TK_MPC TK_EOTEY 'K';

CQB: TK_FJKYU TK_EOTEY;

PK: 'Q' TK_QSOD NLOT | BPMTL EXL KJKWG JWAFP TK_GIM | TK_QSOD OYZBD RG | QLYBP | TK_EOTEY BPMTL 'O';

NT: PK CQB;

FJILV: TK_FJKYU TK_CPZIM 'S' | A BJ VG VG | PK | TK_CPZIM TK_GIM NNK;

A: TK_ZHJNF TK_ZHJNF TK_OIRTB | LWY XPSMA JWAFP | TK_MPC 'Q' 'Y' 'Z';

C: NNK TK_QHP TK_LEA;

E: 'M' | TK_EOTEY TK_ZHJNF TK_FJKYU | JWC L TK_OK TK_OIRTB | QLYBP 'P' 'P' 'X';

ZSNI: TK_DLZY TK_EOTEY;

VG: JWAFP TK_OK | TK_FJKYU EXL DU JWAFP FV | QLYBP TK_DLZY OYZBD HDHX | 'S' | TK_UC TK_OK;

H: TK_QHP RG E 'K' 'K' | 'S' TK_CPZIM XPSMA 'Q' HDHX | 'K' TK_MPC TK_ZHJNF TK_GIM PK | 'M' RG QLYBP QLYBP JWAFP | TK_APR 'U' E;

JWAFP: TK_EOTEY L EXL KJKWG A | 'S' | 'M' TK_OIRTB LWY 'M' BPMTL | TK_QSOD A OYZBD E TK_MPC | H;

L: OYZBD NNK 'O' H | KJKWG TK_UC L 'O';

