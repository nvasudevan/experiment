%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: L 'M';

LWY: XPSMA FV ZSNI 'Y' | 'M' TK_XFU BJ | A 'S' 'Y' XPSMA 'Q';

FV: EXL XPSMA | 'Z' 'Y' CQB | TK_MPC KJKWG 'Z' | TK_EOTEY KJKWG | OYZBD ZSNI 'K';

HDHX: TK_VDZB JWC | RG 'P' | TK_FJKYU | TK_QSOD;

EXL: TK_LEA LWY NLOT A | BPMTL TK_EOTEY A TK_LEA 'Q' | 'Z' TK_GIM OYZBD 'P' VG | 'S' HDHX EXL TK_ZHJNF;

BJ: TK_VDZB CQB KJKWG | TK_UC QLYBP NNK TK_QHP | TK_LEA FJILV TK_MPC QLYBP BJ;

XPSMA: TK_OK LWY JWC FV 'P' | ;

KJKWG: TK_UC | 'Q';

DU: EXL ZSNI HDHX | TK_FJKYU KJKWG H JWC | NT;

QLYBP: RG FV | 'O' ZSNI TK_UC;

BPMTL: H 'O' L 'Q' 'O';

JWC: OYZBD | TK_APR 'Y' TK_MPC JWC;

NNK: 'U' TK_CPZIM FV TK_EOTEY | QLYBP EXL TK_EOTEY | TK_QSOD 'Y' PK BPMTL | 'P' NLOT DU TK_VDZB | E 'M' TK_VDZB;

NLOT: C 'O' | JWC TK_ZHJNF 'Q' BPMTL | LWY | TK_CPZIM JWAFP;

OYZBD: TK_OIRTB TK_EOTEY | ;

RG: LWY TK_FJKYU HDHX TK_APR ZSNI | LWY TK_EX JWC FJILV | JWC RG;

CQB: RG KJKWG 'Q' DU NNK | TK_APR OYZBD EXL TK_APR TK_BVH | EXL XPSMA;

PK: TK_QHP TK_EX A | CQB NLOT TK_EX BJ | NLOT RG TK_CPZIM | 'S' 'Q' 'Y' 'M' | L;

NT: BJ TK_OIRTB BJ TK_BVH 'K' | NLOT TK_MPC 'O' 'P' 'Q' | 'Y' TK_UC CQB;

FJILV: OYZBD TK_CPZIM TK_ZHJNF | RG FV | TK_EX JWAFP TK_GIM CQB;

A: TK_XFU TK_CPZIM;

C: 'U' HDHX 'U' TK_VDZB E;

E: A KJKWG QLYBP TK_EOTEY L | 'M' TK_EX | JWAFP EXL 'Y' 'U';

ZSNI: TK_APR 'S' L | ;

VG: VG TK_ZHJNF TK_EX BPMTL NNK | L DU;

H: 'M' | TK_QHP TK_BVH L | NLOT NLOT CQB 'O' QLYBP;

JWAFP: L | 'P' BJ BJ;

L: JWAFP NNK BJ QLYBP C;

