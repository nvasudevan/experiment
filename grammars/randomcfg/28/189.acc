%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: L 'K' TK_UC TK_VDZB;

LWY: TK_MPC TK_QHP | L BPMTL | E;

FV: TK_OIRTB CQB JWAFP NNK BJ | OYZBD 'P' BJ XPSMA 'Z' | TK_MPC TK_CPZIM FV BPMTL 'O' | TK_UC;

HDHX: BPMTL H | 'S' 'K' 'K' TK_XFU H | NLOT | CQB | ;

EXL: EXL | TK_BVH JWAFP KJKWG | TK_APR | 'P' TK_ZHJNF OYZBD H NNK;

BJ: TK_APR KJKWG | TK_OK RG 'Z' | FJILV LWY TK_QHP | TK_EOTEY XPSMA FV FJILV | TK_OK;

XPSMA: BJ | TK_CPZIM TK_EX HDHX NLOT PK | EXL | HDHX TK_OIRTB TK_FJKYU TK_FJKYU;

KJKWG: TK_LEA TK_QHP JWAFP | ;

DU: 'K' 'P' RG | VG QLYBP DU | TK_EX LWY 'K' | PK 'P' | TK_OIRTB PK TK_DLZY PK TK_EOTEY;

QLYBP: NLOT TK_UC TK_XFU | 'P' H | L FJILV VG 'K' TK_OK | FV EXL | ;

BPMTL: TK_VDZB A 'Q' | 'X' | H JWAFP OYZBD JWAFP TK_DLZY | TK_DLZY NNK JWAFP | CQB ZSNI JWC 'K' FV;

JWC: H TK_APR 'Z' TK_BVH;

NNK: 'Y' TK_EOTEY NT | HDHX;

NLOT: XPSMA TK_OIRTB TK_UC L 'Y' | 'Q' L 'K' | CQB | 'U' E | 'Z' QLYBP;

OYZBD: TK_FJKYU;

RG: OYZBD 'Y' NT JWC TK_ZHJNF | ;

CQB: DU EXL | TK_DLZY TK_OK NNK TK_OIRTB TK_XFU | L E | JWAFP 'P' C TK_VDZB TK_ZHJNF | 'U' BPMTL A CQB TK_BVH;

PK: BJ | NNK 'Z' PK TK_GIM TK_GIM | TK_APR DU TK_MPC 'U';

NT: A | BJ | HDHX 'U' 'X' KJKWG TK_EX;

FJILV: VG LWY 'M' | QLYBP;

A: TK_BVH | C 'O' TK_EX TK_VDZB VG;

C: DU;

E: A DU H NLOT | QLYBP TK_OK TK_FJKYU ZSNI;

ZSNI: TK_XFU | TK_BVH TK_VDZB TK_OIRTB EXL | E TK_MPC QLYBP PK NLOT | BPMTL TK_UC TK_UC | TK_EX;

VG: 'Z' TK_QSOD | XPSMA EXL | 'O' L NLOT FJILV TK_DLZY | VG 'U' 'Z' 'P' QLYBP | QLYBP BPMTL BPMTL BJ;

H: ZSNI TK_CPZIM PK 'K' | TK_XFU JWC TK_EOTEY | TK_CPZIM QLYBP | TK_OIRTB E 'O' 'S' BPMTL;

JWAFP: 'Z' L;

L: FV 'M' DU ZSNI JWC | TK_LEA 'K' L 'K' TK_GIM | BJ | XPSMA TK_DLZY QLYBP H;

