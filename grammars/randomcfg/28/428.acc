%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: XPSMA 'M' 'K' | TK_UC 'O' TK_OK TK_BVH BPMTL | TK_EX | 'O' ZSNI | TK_DLZY 'M' 'O' E;

LWY: VG TK_OK HDHX A;

FV: TK_XFU TK_XFU | L 'Z' 'Y' NLOT | 'S' ZSNI TK_UC DU VG;

HDHX: LWY | OYZBD TK_QHP 'X' | TK_OK TK_BVH QLYBP HDHX | TK_OK NLOT 'M' OYZBD HDHX;

EXL: 'K' KJKWG RG HDHX | PK H | TK_BVH 'Z' TK_ZHJNF 'K' 'P';

BJ: KJKWG 'Z' 'S' CQB | DU KJKWG JWAFP | TK_UC ZSNI FV L | TK_GIM;

XPSMA: CQB | 'X' TK_UC TK_BVH TK_OIRTB | A TK_EX FV | 'Z';

KJKWG: L A TK_ZHJNF TK_OK | TK_QHP L TK_GIM TK_UC | TK_FJKYU 'Q' TK_QHP TK_QSOD TK_EOTEY;

DU: PK KJKWG FV 'Y' | TK_APR | 'Y' 'Q' BPMTL TK_OK | TK_QHP 'K';

QLYBP: 'Q' TK_QSOD TK_FJKYU TK_EX PK | FJILV TK_EOTEY TK_EOTEY CQB | XPSMA;

BPMTL: NT DU TK_OIRTB;

JWC: TK_MPC;

NNK: LWY | 'Q' | TK_VDZB VG TK_EOTEY 'S' | 'Q' 'P' HDHX | 'O' HDHX;

NLOT: TK_OIRTB TK_QHP NT JWC TK_DLZY | 'Z' CQB OYZBD | 'Y' TK_OIRTB NNK TK_APR TK_CPZIM;

OYZBD: TK_ZHJNF TK_EOTEY NNK 'M';

RG: TK_ZHJNF TK_BVH TK_MPC FJILV TK_EX | FJILV 'Z' TK_OK 'S' TK_DLZY | RG H TK_MPC;

CQB: RG VG TK_VDZB | TK_LEA CQB JWAFP TK_EOTEY TK_ZHJNF | 'K' DU QLYBP;

PK: TK_GIM QLYBP 'U' 'O';

NT: TK_BVH;

FJILV: KJKWG KJKWG HDHX JWC;

A: 'K' NLOT FJILV 'K' | TK_OK;

C: XPSMA | 'Q' TK_DLZY TK_QSOD A OYZBD | 'P' TK_UC TK_DLZY NT 'M' | TK_BVH TK_CPZIM | ;

E: JWC JWAFP | PK TK_OIRTB | TK_ZHJNF LWY | TK_EOTEY;

ZSNI: EXL BJ 'X';

VG: ZSNI 'Y' TK_LEA 'K' | XPSMA E 'M' ZSNI | TK_MPC BJ 'K';

H: OYZBD | C 'S' TK_CPZIM JWC 'K' | JWAFP BPMTL NLOT | ;

JWAFP: TK_OK TK_FJKYU | OYZBD HDHX | FV C NLOT;

L: NNK TK_MPC JWC | TK_DLZY FJILV JWC | ;

