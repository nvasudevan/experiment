%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'M' PK | TK_XFU 'X' 'X' E | ZSNI NT OYZBD VG;

LWY: TK_XFU CQB 'Y' C | NNK QLYBP 'Q' XPSMA | CQB L PK LWY 'P';

FV: JWAFP 'K' | TK_EOTEY JWAFP | TK_QSOD 'K' 'M' 'X' NT | 'Y' TK_LEA | NNK 'P';

HDHX: TK_EOTEY ZSNI NNK | TK_ZHJNF 'M' TK_MPC | ;

EXL: FJILV H | DU | TK_OIRTB NT TK_UC | 'Z' XPSMA L HDHX | RG TK_ZHJNF XPSMA;

BJ: DU TK_MPC H | TK_BVH 'Y' | TK_CPZIM 'O' 'Y' TK_APR VG;

XPSMA: FJILV TK_OIRTB TK_QHP QLYBP | JWC 'Q' | FV DU 'Y' BJ;

KJKWG: TK_OK;

DU: 'P' TK_APR TK_EOTEY;

QLYBP: FJILV PK NNK NT | ;

BPMTL: TK_GIM BPMTL 'O' ZSNI TK_QSOD | QLYBP TK_QHP FV TK_QSOD | NLOT NLOT 'X' TK_ZHJNF | CQB TK_OIRTB 'Y' 'Y' TK_DLZY | ;

JWC: TK_QHP TK_QHP TK_GIM C | ;

NNK: ZSNI TK_FJKYU TK_ZHJNF NT JWAFP | TK_OIRTB LWY NLOT XPSMA XPSMA;

NLOT: TK_MPC 'M' OYZBD | FJILV DU | HDHX JWAFP | TK_ZHJNF TK_OK | TK_APR XPSMA;

OYZBD: TK_ZHJNF TK_MPC VG OYZBD A | C | L;

RG: TK_EOTEY ZSNI DU KJKWG | CQB 'U' TK_OK TK_EOTEY | 'S' 'M' 'M';

CQB: C FV TK_OIRTB | RG C | TK_QSOD E | PK TK_ZHJNF H | XPSMA DU 'P';

PK: 'Y' TK_QHP | VG 'P' 'O' | JWAFP JWAFP TK_QSOD TK_BVH | PK C | TK_QSOD;

NT: 'M' CQB XPSMA TK_VDZB | TK_OK PK KJKWG FJILV | NNK LWY TK_OIRTB TK_DLZY XPSMA | TK_OK FV | 'Z' 'X' NNK;

FJILV: TK_VDZB TK_APR | TK_OK BJ L;

A: FV TK_APR | TK_LEA | 'X' PK OYZBD;

C: TK_QSOD NT | NLOT 'X' KJKWG | TK_EX TK_LEA FJILV JWC TK_OK | RG 'P' | 'S' TK_EOTEY;

E: 'Y' | NNK CQB NNK HDHX TK_GIM | JWC | TK_QSOD 'O' | CQB;

ZSNI: 'K' TK_LEA TK_MPC TK_LEA 'X' | PK A HDHX E LWY | VG TK_GIM | TK_QHP 'O';

VG: QLYBP RG | XPSMA TK_XFU TK_OIRTB DU | TK_OK TK_DLZY | NLOT | ZSNI TK_EX C;

H: CQB BPMTL | L TK_XFU TK_EX TK_FJKYU;

JWAFP: TK_DLZY BPMTL;

L: TK_LEA PK EXL OYZBD;

