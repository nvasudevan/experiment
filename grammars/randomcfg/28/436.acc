%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: KJKWG DU TK_QSOD 'S' LWY | TK_ZHJNF TK_DLZY 'S' CQB TK_VDZB;

LWY: TK_VDZB 'M' NT | TK_APR QLYBP H KJKWG TK_EOTEY;

FV: C TK_MPC EXL HDHX TK_CPZIM | TK_QSOD TK_OK 'Y' C TK_XFU | C 'P' TK_LEA | 'U' EXL;

HDHX: 'Y' TK_GIM VG | TK_OK ZSNI CQB KJKWG TK_CPZIM | A;

EXL: TK_ZHJNF 'U' 'P' A 'P' | FJILV VG H JWC | RG QLYBP TK_APR TK_LEA ZSNI;

BJ: 'Y' TK_OIRTB E E 'Q';

XPSMA: TK_XFU PK KJKWG TK_OK | TK_EX;

KJKWG: 'O' BPMTL TK_QHP NNK TK_DLZY | DU BPMTL ZSNI | 'P' TK_ZHJNF | FV 'U' DU TK_CPZIM | ;

DU: 'P';

QLYBP: ZSNI | JWAFP TK_OIRTB OYZBD BJ 'X' | NT TK_BVH KJKWG LWY;

BPMTL: TK_OIRTB TK_ZHJNF H TK_FJKYU NNK | JWAFP | A BJ TK_FJKYU TK_VDZB | H TK_GIM TK_FJKYU TK_EOTEY;

JWC: E TK_CPZIM NT TK_EX 'K' | TK_XFU H | 'Y' HDHX XPSMA NT | 'S' NNK QLYBP VG | 'O' 'K' TK_LEA;

NNK: TK_GIM TK_DLZY | 'M' C DU PK ZSNI | NT TK_QSOD 'K' A | TK_QSOD TK_FJKYU VG EXL;

NLOT: TK_EOTEY | TK_OK TK_QHP TK_UC 'Q' | JWAFP PK 'O' JWAFP;

OYZBD: TK_UC;

RG: EXL TK_UC DU H | TK_GIM VG H | TK_ZHJNF A NNK PK TK_DLZY;

CQB: 'O' | JWC TK_MPC C | TK_LEA | L TK_XFU | ;

PK: 'M' FJILV XPSMA FJILV TK_OIRTB | TK_OK 'M' 'P' | TK_MPC | KJKWG NLOT TK_FJKYU;

NT: C OYZBD LWY TK_QHP | 'Z' 'P' L ZSNI | JWAFP L OYZBD | ZSNI | ;

FJILV: 'O' TK_CPZIM TK_EX TK_UC 'P' | RG DU ZSNI NNK TK_BVH | 'U' TK_CPZIM | TK_FJKYU CQB TK_ZHJNF TK_BVH | RG TK_CPZIM HDHX TK_GIM;

A: TK_VDZB TK_XFU ZSNI 'P' TK_MPC | 'Y' NNK TK_BVH RG 'M' | 'P' TK_FJKYU TK_OIRTB | JWC TK_OK;

C: ZSNI 'Q' 'O' TK_EOTEY | TK_VDZB TK_QSOD 'O' 'X' 'X';

E: EXL TK_GIM BPMTL 'S' CQB | TK_OIRTB | NT TK_QSOD CQB;

ZSNI: 'Q' VG;

VG: ZSNI NNK | NLOT NNK TK_BVH TK_BVH | BJ TK_ZHJNF HDHX | ;

H: TK_APR FJILV RG 'P' H | ZSNI TK_UC 'O' TK_UC 'O' | TK_CPZIM | BJ TK_UC 'Q' TK_ZHJNF QLYBP;

JWAFP: BPMTL BJ E | L TK_EX TK_VDZB TK_LEA | TK_OK 'P';

L: H TK_EX 'K' | TK_LEA TK_VDZB ZSNI | TK_GIM E | KJKWG JWC LWY BPMTL | QLYBP 'Z' NT 'M' NLOT;

