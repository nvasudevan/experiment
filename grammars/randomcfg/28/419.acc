%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'U' BJ H NT 'K' | KJKWG 'K' TK_ZHJNF E C | JWAFP TK_UC | H;

LWY: TK_APR TK_APR TK_OIRTB TK_BVH TK_DLZY;

FV: FJILV E NT A TK_LEA | 'U' LWY CQB XPSMA | 'U' QLYBP E;

HDHX: BJ NLOT EXL 'Q' | 'Y' HDHX TK_EOTEY | BPMTL XPSMA TK_EOTEY FJILV 'O' | ;

EXL: 'S' FJILV TK_FJKYU HDHX TK_QSOD | JWAFP 'Q' H A | A HDHX TK_OK 'K' TK_EX | TK_BVH A;

BJ: 'X' | TK_CPZIM | ZSNI 'Q' 'S' | TK_APR 'Q';

XPSMA: RG 'P' TK_EX LWY TK_CPZIM | OYZBD;

KJKWG: XPSMA A TK_ZHJNF | PK 'X' OYZBD TK_FJKYU | TK_QHP TK_QHP | 'Q';

DU: FJILV TK_EOTEY TK_UC TK_CPZIM TK_QSOD | XPSMA | TK_LEA TK_OK XPSMA BJ | L;

QLYBP: TK_LEA | TK_QHP 'Z' DU TK_QHP | JWC 'X' TK_OIRTB | 'M' 'U' TK_DLZY JWC KJKWG | ;

BPMTL: PK KJKWG JWAFP TK_OK | TK_APR FV | TK_QSOD VG H 'P' KJKWG;

JWC: 'M' TK_OK | EXL TK_OIRTB TK_APR FJILV TK_EOTEY | L;

NNK: C BPMTL E TK_QHP L | 'Q' L RG 'M' | FJILV;

NLOT: 'X' | 'M' | BPMTL L | QLYBP TK_MPC TK_BVH TK_APR 'U' | EXL BPMTL TK_VDZB 'P' TK_APR;

OYZBD: FV TK_VDZB 'Z' TK_QSOD VG | TK_CPZIM 'Z' | TK_APR | TK_BVH TK_FJKYU;

RG: 'S' A 'S' PK | RG;

CQB: VG JWC KJKWG | 'Q' XPSMA A TK_APR | TK_OIRTB L | ;

PK: TK_LEA TK_GIM | 'S' TK_XFU KJKWG 'X' TK_APR | RG PK VG TK_DLZY;

NT: TK_CPZIM A JWAFP TK_FJKYU | ;

FJILV: C 'Q' L;

A: TK_OK TK_OK TK_ZHJNF 'Z';

C: TK_OK DU 'Z' | TK_FJKYU TK_CPZIM TK_EX TK_ZHJNF | TK_OIRTB TK_EX TK_EOTEY | TK_QHP | TK_QHP FJILV TK_FJKYU BPMTL TK_FJKYU;

E: FJILV | L | 'Q' TK_FJKYU L TK_QSOD;

ZSNI: TK_OK H | FV TK_CPZIM BJ A 'Y' | A PK OYZBD NT LWY | 'Y' EXL;

VG: 'K' ZSNI CQB TK_EX A | QLYBP 'Q' NT L HDHX;

H: QLYBP 'Z' TK_DLZY TK_GIM L | BJ 'M' | VG TK_QSOD FV L JWAFP | NNK TK_CPZIM TK_OIRTB;

JWAFP: 'Y' | 'P' HDHX TK_FJKYU CQB HDHX | TK_LEA TK_XFU 'Y' | EXL TK_LEA XPSMA TK_CPZIM | C NT TK_CPZIM 'U' TK_OIRTB;

L: PK TK_LEA NNK A | TK_UC 'K';

