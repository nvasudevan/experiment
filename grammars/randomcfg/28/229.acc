%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'Q' | TK_OIRTB TK_OK TK_XFU HDHX 'Z';

LWY: TK_FJKYU TK_OK OYZBD NLOT | TK_APR CQB PK | 'K' FJILV | ;

FV: ZSNI L 'Q' | TK_LEA BPMTL RG FV L | XPSMA FV 'Q';

HDHX: TK_FJKYU EXL 'Y' | RG TK_CPZIM FJILV TK_FJKYU | TK_VDZB TK_EOTEY RG NNK TK_UC;

EXL: TK_OK JWC TK_QSOD | HDHX RG BPMTL 'M' | QLYBP DU LWY TK_GIM | 'M' TK_DLZY | VG JWAFP NLOT 'M';

BJ: TK_DLZY 'U' | PK LWY | NT TK_CPZIM OYZBD;

XPSMA: QLYBP TK_VDZB TK_LEA QLYBP | TK_FJKYU | TK_DLZY | OYZBD E BJ TK_EX E | ZSNI TK_ZHJNF;

KJKWG: TK_XFU H PK FV | BPMTL FV 'K' XPSMA | OYZBD TK_QSOD TK_ZHJNF TK_MPC | TK_OIRTB 'Z' | 'Y' FJILV;

DU: JWAFP ZSNI 'K' 'O' | TK_MPC DU 'S' TK_ZHJNF TK_ZHJNF | TK_CPZIM JWC TK_EX TK_EX | BJ OYZBD 'Q' PK;

QLYBP: TK_UC 'X' TK_QSOD TK_OK;

BPMTL: TK_XFU 'M' 'S' TK_UC TK_UC | OYZBD TK_XFU E | LWY 'U' 'Q' | 'K' CQB 'S' 'K' | NLOT 'Y';

JWC: JWAFP QLYBP 'K' 'M' TK_FJKYU | L C 'Q' | TK_LEA HDHX TK_EOTEY | TK_APR;

NNK: TK_CPZIM BPMTL | TK_EOTEY PK FV TK_APR E | TK_QHP DU TK_UC TK_QHP | DU | 'S' C TK_EOTEY 'X';

NLOT: QLYBP C VG NLOT | 'X' BJ | TK_OIRTB 'S' JWC | BPMTL TK_GIM XPSMA 'U';

OYZBD: VG | ;

RG: TK_DLZY | TK_ZHJNF RG | ZSNI NT | PK TK_VDZB TK_OK EXL L;

CQB: 'P' 'O' TK_BVH;

PK: 'Q' | OYZBD | EXL TK_EOTEY KJKWG | TK_EOTEY | CQB NNK 'Q' QLYBP TK_EX;

NT: NLOT | FV TK_FJKYU | C 'K' A TK_BVH QLYBP | BPMTL E | TK_APR BPMTL TK_DLZY TK_ZHJNF FV;

FJILV: TK_XFU TK_EOTEY TK_APR;

A: LWY TK_QHP | FJILV EXL;

C: H NLOT RG FV | TK_XFU | ;

E: TK_OK KJKWG C 'U' | TK_QSOD | TK_QSOD HDHX ZSNI 'Z' TK_APR;

ZSNI: PK 'Q' | TK_CPZIM TK_DLZY TK_DLZY TK_BVH | TK_QHP OYZBD TK_GIM NNK TK_LEA | 'S';

VG: 'O' BJ NT L | CQB 'Q';

H: TK_VDZB C C BJ BPMTL;

JWAFP: 'P' BJ VG | BPMTL TK_OK TK_EOTEY TK_QSOD FV | NNK FV A QLYBP HDHX | ;

L: 'Q' | E;

