%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: JWAFP OYZBD TK_APR | JWC TK_EOTEY TK_XFU BPMTL TK_APR;

LWY: H 'O' 'U' TK_BVH;

FV: 'Y' LWY;

HDHX: 'S' TK_EOTEY | BJ TK_OIRTB TK_EX DU BPMTL;

EXL: BJ TK_QSOD | TK_GIM TK_OIRTB TK_EOTEY HDHX NLOT | 'P' VG;

BJ: HDHX TK_DLZY QLYBP;

XPSMA: RG A | TK_EX TK_OIRTB A 'M' VG | TK_BVH 'U' LWY BPMTL TK_QHP | TK_UC TK_FJKYU TK_FJKYU TK_CPZIM H;

KJKWG: TK_VDZB TK_GIM NT NNK TK_CPZIM | TK_BVH TK_ZHJNF C | HDHX;

DU: BJ TK_UC TK_FJKYU;

QLYBP: NT KJKWG C L 'K' | NLOT FV 'X' ZSNI XPSMA | FV TK_XFU | TK_UC 'Z' | VG TK_BVH TK_QSOD OYZBD;

BPMTL: 'U' E CQB OYZBD;

JWC: TK_XFU | KJKWG TK_EOTEY JWAFP NLOT 'S' | JWC 'S' NLOT;

NNK: TK_APR 'X' LWY TK_QHP | TK_UC | ;

NLOT: XPSMA;

OYZBD: TK_APR TK_VDZB TK_QHP | TK_ZHJNF | NLOT 'O' FJILV TK_UC | BPMTL E NT TK_EOTEY A | 'U' TK_DLZY A FJILV;

RG: FV | C TK_GIM TK_EOTEY;

CQB: OYZBD L TK_ZHJNF | NNK | TK_GIM TK_ZHJNF HDHX FJILV | TK_GIM TK_QSOD H TK_OK TK_QSOD;

PK: TK_APR FJILV;

NT: L 'U' BJ | BPMTL RG | KJKWG VG TK_OK JWC | ;

FJILV: XPSMA LWY JWC CQB A | FJILV TK_CPZIM NLOT TK_OIRTB JWC | 'S' TK_ZHJNF L | TK_MPC TK_CPZIM TK_EOTEY TK_FJKYU;

A: TK_XFU | TK_APR 'M' OYZBD | QLYBP RG | TK_QHP TK_EOTEY;

C: TK_EX | 'O';

E: TK_QHP 'K' | TK_BVH E TK_BVH KJKWG TK_UC | TK_FJKYU NT;

ZSNI: JWAFP TK_EX KJKWG | OYZBD HDHX JWC TK_OIRTB | NNK CQB TK_OIRTB TK_FJKYU NT;

VG: TK_QSOD E LWY TK_EOTEY LWY | RG 'Z';

H: C;

JWAFP: FJILV BPMTL ZSNI | HDHX KJKWG DU 'K' | ZSNI TK_DLZY LWY TK_EX | ;

L: TK_OK H NT | 'P' RG JWAFP | E | H TK_FJKYU TK_EX C;

