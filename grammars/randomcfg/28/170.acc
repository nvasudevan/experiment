%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: TK_DLZY NLOT | 'S' TK_ZHJNF H;

LWY: ZSNI 'Q' | VG TK_ZHJNF QLYBP 'Y' TK_OIRTB | CQB 'Z' A FV 'Z';

FV: TK_CPZIM 'P' TK_ZHJNF BPMTL | 'X' TK_XFU A TK_FJKYU | CQB 'K' 'S' 'X' FV | QLYBP TK_OK H TK_UC 'Y' | TK_OIRTB LWY 'P' HDHX;

HDHX: LWY 'Y' TK_OK;

EXL: ZSNI XPSMA 'Z' EXL | VG QLYBP 'K' TK_XFU OYZBD | 'S' VG TK_UC TK_QHP;

BJ: TK_DLZY FJILV;

XPSMA: FV NT 'O' | LWY;

KJKWG: ZSNI 'P' ZSNI | DU | 'S' XPSMA TK_EOTEY TK_DLZY | C TK_QSOD OYZBD TK_GIM;

DU: NNK NNK CQB FJILV | TK_QSOD | HDHX H 'Z' TK_BVH | 'Q' FJILV TK_QHP 'Q';

QLYBP: E C JWAFP E | ;

BPMTL: 'S' TK_APR PK TK_QSOD LWY | 'P' RG | JWC EXL | 'S' KJKWG TK_OIRTB TK_BVH VG;

JWC: 'K' TK_FJKYU HDHX RG TK_EX | TK_CPZIM 'U' TK_FJKYU TK_VDZB;

NNK: 'X' | TK_XFU TK_EOTEY RG TK_QSOD TK_DLZY;

NLOT: H TK_BVH H KJKWG KJKWG | QLYBP | TK_OIRTB 'Q' BPMTL | EXL | ;

OYZBD: TK_XFU 'U' TK_MPC LWY | L | 'O' | DU TK_UC | FJILV 'U' 'O' HDHX FV;

RG: BJ L XPSMA TK_APR | TK_DLZY;

CQB: 'X' CQB TK_DLZY TK_ZHJNF | BPMTL C | 'K' | C TK_BVH FJILV TK_ZHJNF | TK_BVH TK_OIRTB;

PK: L DU TK_ZHJNF | TK_LEA TK_FJKYU JWC C | TK_LEA OYZBD TK_APR | TK_UC;

NT: L | EXL | NLOT TK_XFU 'O' VG NNK;

FJILV: NT NLOT 'Z';

A: L TK_VDZB OYZBD 'Z' | L TK_VDZB TK_OK TK_BVH TK_UC | 'O' TK_ZHJNF FJILV | RG JWAFP 'U' | ;

C: 'P' NNK QLYBP 'M' TK_UC | TK_FJKYU XPSMA | ;

E: TK_UC FV E | NLOT;

ZSNI: PK FJILV | 'Y' | A 'Z' | TK_QHP A TK_UC TK_DLZY TK_UC;

VG: TK_OK | TK_DLZY TK_OK OYZBD TK_FJKYU TK_XFU | KJKWG 'Y' TK_DLZY | A HDHX | TK_CPZIM;

H: BJ E C TK_LEA | TK_CPZIM | L 'O' E EXL TK_MPC | TK_VDZB 'X' TK_XFU | 'K';

JWAFP: TK_ZHJNF BJ TK_APR | TK_EX | L TK_GIM;

L: QLYBP TK_EOTEY TK_QSOD | 'Q' TK_BVH | 'Q' TK_ZHJNF TK_OK TK_UC NLOT | TK_UC NNK BPMTL | KJKWG KJKWG JWAFP 'Y';

