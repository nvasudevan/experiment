%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'M' NLOT 'M' | TK_OK TK_QSOD QLYBP | FJILV 'Q' TK_UC ZSNI | TK_UC KJKWG | E;

LWY: BPMTL TK_DLZY | KJKWG;

FV: JWAFP PK XPSMA EXL DU | 'Q' BJ | C TK_ZHJNF L;

HDHX: OYZBD EXL FV BPMTL;

EXL: 'X' QLYBP A DU | XPSMA TK_BVH | C;

BJ: 'Y';

XPSMA: 'O' | NLOT | TK_BVH | JWAFP 'Q' 'K' 'Q' | NNK 'K' TK_EOTEY C;

KJKWG: XPSMA TK_OIRTB TK_EX | 'K' HDHX PK H | 'K' TK_QHP 'Y' C 'Z' | CQB TK_UC TK_FJKYU;

DU: 'Y' 'U' HDHX TK_CPZIM DU | PK KJKWG CQB TK_GIM HDHX | NNK TK_ZHJNF JWAFP TK_OIRTB | ;

QLYBP: E TK_DLZY | JWAFP QLYBP | TK_GIM | VG | ;

BPMTL: TK_EOTEY BJ H TK_FJKYU TK_CPZIM | 'Y' BPMTL TK_XFU | 'X' 'K' TK_UC | ZSNI 'P' | FJILV A TK_DLZY;

JWC: TK_OIRTB TK_DLZY | KJKWG TK_OIRTB JWC TK_EOTEY EXL;

NNK: TK_UC 'U' PK | LWY | 'P' RG A TK_ZHJNF;

NLOT: XPSMA TK_EX TK_APR TK_BVH | E TK_EOTEY | TK_UC | TK_XFU EXL NNK TK_OK;

OYZBD: 'M' 'X';

RG: 'O' TK_QSOD TK_ZHJNF JWC | JWAFP NT OYZBD TK_GIM TK_FJKYU | TK_APR KJKWG 'Y' TK_QHP A;

CQB: TK_ZHJNF;

PK: 'Z' TK_LEA OYZBD 'Q' OYZBD;

NT: TK_OIRTB | ;

FJILV: TK_VDZB | ZSNI TK_BVH H;

A: NLOT TK_OK DU | A XPSMA XPSMA | TK_XFU | H C E;

C: TK_EX TK_APR L | NNK;

E: RG | FV TK_DLZY TK_BVH TK_GIM KJKWG | TK_QSOD;

ZSNI: KJKWG | FJILV 'Q' FJILV TK_APR 'Q' | 'M' 'Z' 'Z' 'S' NT | TK_BVH TK_GIM TK_GIM TK_GIM | XPSMA;

VG: RG 'O' TK_QSOD TK_DLZY | XPSMA E TK_OIRTB | 'Z' 'U' TK_XFU A LWY | TK_DLZY 'M' TK_LEA 'U' | 'U' QLYBP;

H: OYZBD FV 'Y' 'K' EXL | TK_XFU TK_GIM 'X';

JWAFP: FV 'Q' | TK_XFU TK_MPC XPSMA 'S' | 'X' TK_ZHJNF BPMTL;

L: TK_FJKYU;

