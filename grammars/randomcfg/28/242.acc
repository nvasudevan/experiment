%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: TK_QSOD TK_OIRTB NLOT TK_OK 'U' | OYZBD NLOT | TK_QHP TK_QHP TK_LEA | JWAFP 'P';

LWY: NNK TK_EOTEY | KJKWG TK_CPZIM TK_EX | 'M' TK_GIM | TK_XFU;

FV: XPSMA | BJ TK_CPZIM 'Z' VG TK_APR | TK_FJKYU TK_ZHJNF KJKWG 'Q';

HDHX: A ZSNI | TK_UC 'K' | JWC OYZBD | ;

EXL: 'Y' HDHX HDHX 'Z';

BJ: FV | OYZBD TK_CPZIM | TK_UC CQB C TK_QSOD 'M' | TK_GIM;

XPSMA: L 'O' PK NNK | 'O' BPMTL 'X' | 'Z' TK_APR | TK_MPC | BJ DU KJKWG QLYBP TK_QHP;

KJKWG: 'Y' TK_BVH PK LWY NT | TK_LEA LWY TK_OK | BJ 'S' FJILV TK_QSOD 'U';

DU: RG CQB 'Q' | VG 'P' TK_QHP 'X' | ZSNI KJKWG BJ 'M' | EXL TK_FJKYU VG;

QLYBP: TK_QHP | TK_BVH 'O' TK_QHP 'O' EXL | TK_EOTEY TK_QSOD LWY;

BPMTL: KJKWG TK_OK 'O' | H TK_XFU | XPSMA 'Q' TK_QHP PK;

JWC: DU;

NNK: BJ C JWC VG | DU TK_LEA JWC;

NLOT: FJILV L TK_ZHJNF NLOT | QLYBP TK_EOTEY 'S' ZSNI;

OYZBD: TK_GIM TK_VDZB LWY XPSMA TK_EOTEY | TK_GIM 'S' JWAFP FV | NLOT ZSNI | ;

RG: 'U' KJKWG TK_EX NNK | EXL TK_CPZIM TK_CPZIM;

CQB: A FJILV TK_OIRTB TK_APR JWC | KJKWG | FV NT | 'O' TK_QHP TK_APR | LWY JWC KJKWG KJKWG KJKWG;

PK: A 'X' 'M' | E 'P' 'U' BPMTL 'Y' | ZSNI BJ;

NT: FJILV TK_OK TK_XFU BJ 'Q' | ;

FJILV: TK_OIRTB ZSNI HDHX L HDHX | 'Z' TK_OIRTB | KJKWG 'M' | KJKWG BPMTL OYZBD HDHX 'O' | 'U' CQB C TK_MPC 'M';

A: C OYZBD | BJ;

C: HDHX TK_BVH TK_QSOD XPSMA | NNK | C FJILV NLOT JWC | 'Y' TK_DLZY TK_APR TK_EOTEY;

E: 'Z' 'K' TK_ZHJNF TK_ZHJNF TK_VDZB | FJILV 'O' TK_QSOD QLYBP | E XPSMA LWY DU | NLOT C TK_GIM JWC BJ | FJILV BPMTL NNK A;

ZSNI: TK_QSOD KJKWG NLOT TK_QSOD XPSMA | LWY QLYBP FJILV | ZSNI TK_APR TK_CPZIM FV | 'S' KJKWG TK_UC LWY | C BJ C BJ 'P';

VG: NNK | ;

H: TK_QSOD 'U' | EXL KJKWG | TK_FJKYU | TK_VDZB NNK;

JWAFP: LWY 'Z' | OYZBD BJ FJILV QLYBP L | RG NT TK_VDZB A | JWAFP 'K' TK_CPZIM;

L: TK_DLZY 'Q' TK_OK 'Y';

