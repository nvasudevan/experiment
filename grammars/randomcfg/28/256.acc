%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'M' JWAFP VG TK_QSOD XPSMA;

LWY: TK_LEA BPMTL L 'M' | NLOT FV 'Z' 'K' | JWAFP NT 'S' TK_QHP | 'K' QLYBP TK_BVH 'M' KJKWG;

FV: FJILV JWC | TK_ZHJNF OYZBD TK_ZHJNF TK_EOTEY | 'Q' E | 'U' EXL;

HDHX: 'X' TK_EOTEY CQB CQB TK_FJKYU | OYZBD | VG 'Y' HDHX QLYBP TK_EX | DU JWC HDHX NNK A;

EXL: TK_EX RG JWAFP TK_DLZY | TK_DLZY TK_GIM JWAFP NNK | JWC KJKWG HDHX | 'Y' EXL | ;

BJ: 'S' TK_EOTEY TK_ZHJNF | TK_OK FJILV NNK 'Y' 'M';

XPSMA: HDHX | TK_MPC L NNK PK | TK_OK TK_EOTEY OYZBD JWC | ;

KJKWG: BJ QLYBP 'U' | TK_QSOD | BPMTL RG TK_OK;

DU: 'O' 'K' HDHX TK_EOTEY TK_QHP | LWY 'X' TK_QSOD TK_OK 'P' | ;

QLYBP: 'M' | NNK BPMTL 'S';

BPMTL: TK_LEA | TK_XFU KJKWG | KJKWG 'Q' NLOT VG;

JWC: TK_LEA KJKWG | TK_MPC KJKWG HDHX | QLYBP | 'Y' TK_UC;

NNK: TK_CPZIM OYZBD L RG | 'U' C RG | TK_MPC;

NLOT: TK_CPZIM TK_OIRTB TK_EX 'P' H | ;

OYZBD: BJ TK_OIRTB NNK NLOT FJILV | KJKWG FJILV OYZBD A | 'Q' CQB TK_UC 'Y' | FV TK_CPZIM TK_OIRTB;

RG: FV BJ | TK_QSOD 'Z' TK_OK NNK FJILV | NLOT TK_MPC FJILV | JWAFP TK_EOTEY | 'M';

CQB: KJKWG OYZBD 'P';

PK: ZSNI TK_FJKYU | TK_ZHJNF 'Y' TK_QHP TK_DLZY | JWAFP HDHX FJILV TK_DLZY;

NT: CQB TK_OIRTB TK_XFU A | CQB C PK | TK_FJKYU TK_GIM;

FJILV: TK_ZHJNF | TK_UC TK_EOTEY 'M';

A: TK_DLZY | TK_ZHJNF TK_APR BPMTL OYZBD | XPSMA E BJ 'S' | TK_OIRTB FV TK_VDZB 'M';

C: FV BJ TK_GIM TK_LEA | 'M' | TK_DLZY TK_DLZY TK_OK TK_CPZIM | TK_MPC TK_MPC TK_FJKYU PK | 'Y';

E: RG | TK_GIM TK_CPZIM TK_APR 'P' BJ | NNK TK_OK 'P' PK EXL | 'Y' 'Z' NNK VG;

ZSNI: TK_DLZY 'Y' L | KJKWG BJ TK_FJKYU 'Z' | XPSMA | TK_GIM TK_OK TK_EOTEY;

VG: TK_DLZY | CQB JWC 'S' VG TK_EX | 'K' JWC TK_DLZY TK_DLZY L | TK_OIRTB | TK_VDZB L LWY;

H: FV FV PK 'M' | BJ TK_CPZIM TK_CPZIM | 'K' TK_VDZB TK_CPZIM TK_APR QLYBP | TK_UC 'X' 'K' TK_BVH | TK_EX TK_BVH TK_VDZB CQB;

JWAFP: KJKWG TK_ZHJNF 'Y' CQB;

L: 'Y' | 'O' | 'Q';

