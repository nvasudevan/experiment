%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'M' | TK_BVH EXL;

LWY: C | FJILV JWC 'X' 'O' | ;

FV: TK_LEA TK_UC | TK_FJKYU TK_EX TK_EX 'Q' BJ | TK_UC | 'Q' 'Q';

HDHX: BPMTL | E PK | HDHX VG TK_MPC | 'Y' 'U';

EXL: PK NNK H RG | NLOT NT 'S' 'Z' | NNK TK_EX RG 'S' A | ;

BJ: ZSNI 'M' RG | 'O' TK_QSOD | XPSMA 'M' 'Q';

XPSMA: FV | 'P' FV PK TK_EOTEY | TK_OIRTB 'K' 'U' L PK | BJ | KJKWG 'X' RG HDHX DU;

KJKWG: TK_GIM TK_ZHJNF VG TK_QSOD 'Z' | 'Q' TK_APR 'K' QLYBP | ;

DU: 'O' TK_UC 'S' LWY | 'Z' DU | TK_VDZB KJKWG | 'S' A;

QLYBP: TK_VDZB TK_FJKYU H | NNK BJ TK_ZHJNF TK_APR JWC;

BPMTL: TK_CPZIM FV TK_CPZIM C C | TK_QSOD 'K' 'S' TK_GIM XPSMA | CQB 'Y';

JWC: TK_FJKYU BPMTL;

NNK: TK_LEA | TK_GIM TK_LEA ZSNI DU;

NLOT: 'U' 'O' | TK_UC E ZSNI PK FV;

OYZBD: 'X' XPSMA;

RG: XPSMA TK_MPC DU OYZBD | TK_MPC TK_ZHJNF FJILV | 'O' 'Z' TK_FJKYU | TK_VDZB;

CQB: FJILV NLOT TK_EX QLYBP JWC | JWC | JWAFP BJ 'Z' 'S' | TK_FJKYU TK_EOTEY | 'O';

PK: C JWC TK_QHP XPSMA | 'U' KJKWG ZSNI JWAFP TK_UC | FV TK_APR LWY | FJILV JWC 'M' | E FV QLYBP;

NT: TK_BVH | OYZBD LWY E H | E JWC BPMTL BPMTL;

FJILV: H TK_EX E TK_QSOD | 'M' E 'K' | TK_VDZB;

A: VG LWY | VG TK_XFU 'Y' BJ | TK_APR TK_LEA TK_EX OYZBD;

C: L TK_EX HDHX | TK_EX 'S' 'X' FV | 'X' JWC TK_LEA BJ | ZSNI TK_OIRTB | TK_QSOD PK;

E: TK_EX FJILV 'P' | NT | RG TK_ZHJNF CQB DU;

ZSNI: FJILV;

VG: PK QLYBP PK;

H: NLOT KJKWG RG 'P';

JWAFP: HDHX | BPMTL FJILV JWAFP TK_XFU EXL | 'Z' | TK_GIM NLOT JWC 'P' 'P' | OYZBD XPSMA 'P' TK_XFU;

L: FJILV | TK_EOTEY 'O' TK_MPC TK_VDZB 'P' | JWC TK_DLZY FJILV 'U' OYZBD | TK_ZHJNF TK_DLZY | ;

