%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: LWY 'M' 'X' LWY | 'Z' TK_FJKYU TK_XFU | ZSNI 'O' RG TK_QSOD;

LWY: JWAFP 'P' | NNK JWAFP 'K' | A TK_MPC FV A | 'Y' NT | C;

FV: QLYBP TK_LEA TK_CPZIM | ;

HDHX: BPMTL NLOT HDHX | FJILV 'S' 'Q' QLYBP;

EXL: 'Z' 'S' | E NT | A TK_QHP BJ NNK TK_CPZIM | TK_OK FJILV CQB TK_EX 'Z';

BJ: TK_OK | 'K' TK_UC;

XPSMA: PK TK_UC TK_FJKYU L EXL | H TK_QHP | RG TK_GIM DU 'Q' HDHX | 'X' QLYBP BPMTL OYZBD | TK_BVH 'S' A TK_FJKYU;

KJKWG: TK_FJKYU PK | 'M' 'Y' JWAFP TK_BVH TK_MPC | 'S' FJILV JWAFP DU NNK | TK_VDZB TK_FJKYU CQB TK_UC;

DU: TK_UC ZSNI NLOT | TK_BVH | KJKWG NLOT 'Q' NT | LWY | ;

QLYBP: L | OYZBD RG TK_ZHJNF | TK_OK FJILV NNK 'M' | TK_XFU TK_APR 'K' TK_OK TK_BVH | NNK;

BPMTL: L TK_APR JWAFP JWAFP HDHX;

JWC: EXL TK_OIRTB;

NNK: 'O' | 'X' | TK_FJKYU XPSMA | TK_APR | HDHX TK_BVH 'X' DU;

NLOT: TK_MPC | TK_BVH 'S' OYZBD 'K' | TK_VDZB TK_DLZY | 'O' TK_DLZY LWY JWC | CQB 'O' H NLOT;

OYZBD: BPMTL TK_OK;

RG: TK_CPZIM TK_CPZIM OYZBD TK_QSOD 'Z' | A;

CQB: H A TK_DLZY;

PK: A 'K' | KJKWG NNK | TK_ZHJNF 'P' HDHX | NNK QLYBP DU ZSNI JWC;

NT: 'M' BJ | TK_QSOD JWAFP TK_DLZY 'X' FJILV | KJKWG ZSNI TK_OIRTB | TK_QHP 'Q' TK_OK | FV;

FJILV: JWC BJ OYZBD | VG JWC TK_EOTEY | TK_MPC VG NT TK_ZHJNF E | NLOT C XPSMA RG TK_APR | ;

A: C LWY VG TK_FJKYU NNK | 'K' | TK_CPZIM TK_APR BPMTL | TK_DLZY BPMTL 'P' TK_BVH | NT;

C: 'K' KJKWG JWAFP TK_QHP TK_APR | VG | KJKWG 'K' | A 'Y' | ;

E: TK_BVH LWY | OYZBD JWC;

ZSNI: 'Y' TK_EX VG;

VG: TK_MPC TK_GIM TK_EX TK_OIRTB TK_UC;

H: DU | OYZBD TK_EOTEY;

JWAFP: 'X';

L: 'P' | JWAFP A | TK_UC TK_BVH 'M' | LWY TK_CPZIM;

