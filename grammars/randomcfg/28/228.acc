%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: JWAFP TK_UC;

LWY: BPMTL LWY | TK_OK QLYBP TK_BVH;

FV: TK_UC FV TK_VDZB NNK E | C | TK_LEA NNK 'O' XPSMA;

HDHX: NT | TK_EOTEY A OYZBD E HDHX | PK C PK DU 'K' | ;

EXL: TK_MPC H HDHX TK_ZHJNF | A TK_GIM EXL QLYBP L | 'X' TK_VDZB | LWY TK_MPC TK_VDZB;

BJ: TK_CPZIM TK_CPZIM | TK_LEA BJ FJILV RG | FV XPSMA TK_QSOD | BPMTL;

XPSMA: TK_LEA RG 'S' 'S' TK_LEA | DU 'X' 'P' 'M' | TK_UC | C 'O';

KJKWG: TK_GIM | ;

DU: BJ | TK_EX KJKWG | JWAFP 'Q' TK_GIM 'Q';

QLYBP: TK_DLZY 'U' TK_QSOD 'M';

BPMTL: 'P' NNK | NLOT TK_XFU TK_EOTEY 'P' | 'O' NLOT 'O' 'M' BJ | CQB TK_DLZY TK_MPC;

JWC: H TK_BVH C 'S' EXL | HDHX 'Q' TK_LEA TK_EOTEY TK_DLZY | TK_OIRTB | TK_DLZY ZSNI;

NNK: NLOT 'S' KJKWG TK_XFU;

NLOT: BPMTL C TK_OIRTB | TK_VDZB | L TK_FJKYU 'U' 'O' | 'M' FV TK_EX;

OYZBD: TK_VDZB QLYBP 'S' | FV;

RG: TK_QSOD VG KJKWG 'Z' C | TK_MPC | TK_ZHJNF TK_VDZB BJ | TK_DLZY TK_BVH TK_FJKYU VG TK_QSOD;

CQB: NLOT OYZBD ZSNI RG | TK_VDZB KJKWG LWY DU TK_EOTEY | ;

PK: 'P' E TK_OK TK_LEA A | NNK 'S' | FV | TK_GIM FJILV TK_VDZB | 'S' TK_DLZY;

NT: TK_BVH TK_EOTEY JWAFP TK_MPC | HDHX | TK_DLZY 'P' TK_OIRTB 'Q' | OYZBD TK_UC TK_FJKYU | TK_OK;

FJILV: TK_DLZY VG C TK_OIRTB 'K' | L NLOT 'X' 'Z';

A: 'S' TK_APR VG | A TK_EOTEY TK_VDZB TK_ZHJNF | EXL | 'O' HDHX TK_EX 'Q' PK;

C: TK_EOTEY BJ | XPSMA 'S';

E: TK_APR XPSMA QLYBP | TK_GIM TK_UC TK_OIRTB TK_XFU TK_XFU | TK_OIRTB VG | 'Q' TK_XFU TK_GIM BPMTL | TK_QHP TK_EOTEY E;

ZSNI: 'K' 'K' | TK_QSOD 'Y' TK_APR TK_GIM | TK_EX TK_CPZIM | 'Q' QLYBP JWAFP 'Q' TK_GIM | ;

VG: TK_OIRTB TK_LEA | BPMTL 'Q' FJILV 'P' JWAFP | LWY TK_OK;

H: L TK_DLZY | 'P' E TK_MPC | A 'K' PK;

JWAFP: TK_EX TK_BVH LWY E 'P' | 'X' TK_GIM DU TK_FJKYU TK_XFU;

L: EXL 'Q' | TK_ZHJNF L TK_QSOD;

