%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: BPMTL | 'Z' KJKWG BPMTL 'U' | VG ZSNI RG TK_LEA;

LWY: 'M';

FV: 'U' | TK_OK TK_APR TK_FJKYU CQB NT | E L TK_EOTEY TK_OIRTB;

HDHX: TK_XFU PK LWY EXL;

EXL: XPSMA;

BJ: BJ TK_XFU NLOT | VG EXL TK_QSOD PK KJKWG | DU XPSMA | LWY 'K' | ;

XPSMA: FV LWY | TK_EX;

KJKWG: TK_ZHJNF JWAFP CQB 'Z' TK_ZHJNF;

DU: TK_MPC | BJ ZSNI TK_BVH 'K' | 'Z' | TK_OK | NT TK_VDZB TK_EX;

QLYBP: LWY | VG;

BPMTL: RG | E OYZBD NLOT CQB L | XPSMA E 'U' CQB | L A | LWY;

JWC: TK_EOTEY EXL | NNK NLOT | CQB | JWC TK_BVH C 'M' | BJ E TK_QHP TK_APR;

NNK: TK_BVH TK_GIM TK_MPC 'X' | 'Z' | TK_EX L | A | TK_QSOD 'M' TK_OIRTB NLOT;

NLOT: FJILV TK_MPC 'Z' TK_XFU | 'P' CQB OYZBD | C NNK NNK TK_DLZY TK_BVH;

OYZBD: C 'Y' TK_OK TK_QSOD;

RG: TK_ZHJNF TK_APR VG PK TK_VDZB | TK_MPC TK_OK;

CQB: TK_UC | TK_XFU;

PK: CQB 'M' C TK_EX 'P';

NT: 'K' NT | TK_EX EXL | 'Y';

FJILV: 'X' | TK_UC;

A: FV ZSNI TK_ZHJNF | PK L FV TK_EX;

C: TK_FJKYU TK_OK | FV TK_BVH TK_LEA 'O' TK_XFU | ZSNI;

E: 'X' TK_OIRTB LWY TK_EOTEY L | LWY 'P' TK_VDZB 'K' | 'Y' 'K' XPSMA ZSNI OYZBD | BPMTL FJILV 'P' 'Z';

ZSNI: BPMTL;

VG: TK_APR 'Z' RG TK_MPC | ;

H: OYZBD TK_MPC E | NT TK_GIM TK_GIM | E TK_APR TK_FJKYU | 'U' 'Q' KJKWG;

JWAFP: DU | A | 'X' OYZBD | 'Z' L OYZBD 'K' TK_QHP | L QLYBP;

L: TK_OK 'U' RG | ZSNI 'K' 'P' C | BPMTL TK_GIM HDHX TK_DLZY | ;

