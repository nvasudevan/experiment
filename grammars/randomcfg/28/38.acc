%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'S' | TK_MPC TK_APR KJKWG | TK_UC TK_OK TK_BVH NT H | TK_ZHJNF XPSMA PK NT;

LWY: JWAFP QLYBP TK_CPZIM;

FV: 'U' TK_APR 'K';

HDHX: BJ ZSNI E | TK_FJKYU TK_GIM | ;

EXL: CQB 'Z' TK_XFU ZSNI H | H TK_EOTEY FJILV 'Y' FJILV | NNK 'S' | TK_EOTEY 'O' TK_BVH 'Q' TK_APR | KJKWG;

BJ: 'Z' 'K' 'Q' E EXL | 'O' TK_APR 'U' | 'Z' XPSMA 'P' TK_EX BJ;

XPSMA: NT NT E | 'M' TK_EOTEY TK_QSOD | TK_DLZY EXL | OYZBD NNK VG TK_OIRTB | L TK_BVH;

KJKWG: LWY NNK NLOT C | TK_OK 'M' 'K' | JWC FJILV TK_EOTEY L RG | FV | TK_CPZIM TK_OK TK_OIRTB;

DU: 'U' NLOT FV | TK_ZHJNF 'X' TK_ZHJNF TK_MPC | ZSNI LWY TK_XFU NLOT NNK;

QLYBP: TK_XFU PK TK_BVH HDHX NLOT | 'P' TK_BVH TK_LEA JWAFP TK_ZHJNF | FJILV | ;

BPMTL: TK_OIRTB TK_BVH OYZBD ZSNI | HDHX TK_OIRTB TK_EOTEY | CQB;

JWC: QLYBP NT 'U' | TK_APR TK_ZHJNF TK_UC | TK_OIRTB 'K' CQB TK_VDZB | OYZBD;

NNK: 'O' QLYBP TK_MPC E | TK_APR TK_MPC TK_QSOD TK_EOTEY 'Y' | JWAFP DU | FV 'Y' 'Z' TK_EX 'K' | NLOT HDHX EXL;

NLOT: 'M' BPMTL | KJKWG TK_OK E | 'X' 'O' OYZBD H VG | 'S' TK_QSOD | TK_UC TK_BVH 'K' QLYBP 'O';

OYZBD: 'M' E TK_QSOD | TK_EX 'Z' | FJILV | TK_QHP 'Q' | TK_BVH 'U';

RG: PK JWAFP TK_BVH ZSNI | BJ | JWAFP | H TK_FJKYU E | OYZBD TK_ZHJNF 'Z' TK_MPC TK_FJKYU;

CQB: NLOT | XPSMA LWY | H DU RG TK_EOTEY;

PK: TK_QHP 'S' TK_GIM TK_CPZIM FJILV | TK_EX DU TK_UC XPSMA FV;

NT: A PK ZSNI | NT | FV NT | KJKWG BJ | 'Z' TK_UC TK_ZHJNF;

FJILV: 'P' BPMTL | ;

A: 'M' EXL TK_UC | 'Z' FV TK_BVH;

C: TK_OK RG | TK_APR TK_MPC | ZSNI LWY;

E: JWC;

ZSNI: TK_OK 'U' | A C A 'Q' TK_APR | 'S' HDHX TK_QHP JWC | ZSNI | TK_XFU;

VG: 'M' TK_LEA L NT TK_EX | TK_OIRTB TK_LEA | 'Z' 'Q' TK_XFU | ;

H: 'P' TK_APR QLYBP EXL TK_FJKYU | 'M' TK_XFU TK_EX 'O' TK_FJKYU | TK_OK TK_OIRTB | JWC NT 'O' H;

JWAFP: NLOT TK_EX 'Q' BPMTL | TK_MPC;

L: XPSMA ZSNI TK_QHP BJ | TK_EX;

