%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'U' NLOT JWAFP EXL | TK_QHP FJILV | JWAFP;

LWY: NNK JWAFP | ;

FV: TK_APR TK_QSOD TK_GIM;

HDHX: 'M' | TK_ZHJNF TK_OK;

EXL: 'X' BPMTL LWY | L TK_VDZB 'U' | ;

BJ: TK_QSOD 'S' ZSNI BPMTL TK_MPC | FJILV FJILV L XPSMA DU | CQB TK_APR 'O' A LWY;

XPSMA: HDHX 'Z' TK_EX TK_QHP;

KJKWG: CQB | TK_QSOD TK_FJKYU FV 'O' XPSMA | C 'Y' TK_MPC KJKWG | FV OYZBD PK 'U' KJKWG;

DU: BJ NNK RG | OYZBD TK_EX;

QLYBP: FJILV TK_OIRTB TK_MPC 'M' | HDHX | KJKWG 'Z' DU E | TK_OK L JWC LWY DU;

BPMTL: DU | QLYBP TK_LEA | TK_EOTEY TK_XFU EXL QLYBP | ;

JWC: FV JWC L TK_APR 'Y' | NNK HDHX | KJKWG BPMTL ZSNI BPMTL OYZBD;

NNK: TK_UC 'Z' TK_APR TK_ZHJNF TK_EX | JWAFP KJKWG TK_EX 'Q' A | JWC | 'U';

NLOT: QLYBP TK_EOTEY | 'X' BJ ZSNI OYZBD 'Z';

OYZBD: DU TK_QHP NLOT PK OYZBD | 'Y' TK_VDZB A 'U' TK_QSOD | TK_OIRTB TK_APR 'O' | H JWC | 'U' 'K';

RG: PK TK_FJKYU L TK_APR TK_CPZIM;

CQB: 'Q' RG ZSNI | TK_UC 'M' | XPSMA KJKWG KJKWG | PK ZSNI EXL H | TK_EOTEY;

PK: HDHX TK_OIRTB 'X' RG 'X' | NT 'K' JWC L | KJKWG 'O' TK_OK DU TK_BVH;

NT: HDHX HDHX FV RG TK_XFU | KJKWG E NNK | C TK_MPC 'K' TK_BVH TK_VDZB;

FJILV: XPSMA TK_XFU TK_XFU TK_VDZB;

A: TK_EOTEY BJ 'U' 'K' TK_XFU | 'Z' 'Q' TK_FJKYU | TK_OK TK_LEA 'U' | TK_OK 'Y' | TK_OK TK_LEA;

C: 'X' NNK DU | OYZBD | RG NLOT TK_FJKYU 'X' TK_MPC;

E: TK_OIRTB | KJKWG 'S' DU NT | A TK_UC TK_LEA | H C;

ZSNI: TK_LEA TK_APR PK | LWY 'Y' 'K' FV | BPMTL TK_QSOD | KJKWG BPMTL 'Z' EXL 'Y' | XPSMA 'O' A TK_QHP;

VG: 'U' TK_ZHJNF | PK TK_APR EXL | BPMTL;

H: TK_DLZY H | E | L | ;

JWAFP: TK_MPC | OYZBD 'O' TK_OIRTB JWAFP;

L: FJILV TK_BVH | TK_BVH NNK;

