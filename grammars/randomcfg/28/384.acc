%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: ZSNI LWY | TK_XFU 'S' 'K' RG | L 'P' TK_QSOD 'Z' | NNK XPSMA 'Y' 'K' | OYZBD;

LWY: TK_QHP TK_OIRTB TK_XFU;

FV: E | TK_APR TK_EOTEY 'P' 'Q' | BPMTL H DU NLOT NLOT | TK_OIRTB RG TK_OK TK_OIRTB;

HDHX: FV TK_UC 'P' TK_ZHJNF TK_OK;

EXL: TK_XFU | VG 'P' EXL | 'M' 'O' TK_UC TK_APR | TK_MPC TK_APR | TK_VDZB;

BJ: TK_XFU | TK_QSOD HDHX 'Y';

XPSMA: A TK_ZHJNF | TK_VDZB JWAFP H;

KJKWG: HDHX | TK_ZHJNF PK TK_FJKYU TK_ZHJNF TK_APR;

DU: JWAFP QLYBP;

QLYBP: TK_LEA TK_QSOD | FV TK_EX HDHX TK_UC 'Q';

BPMTL: RG C 'K' | 'M' TK_UC TK_EOTEY TK_DLZY TK_CPZIM | 'M';

JWC: TK_CPZIM | TK_FJKYU H EXL | NT PK | TK_BVH L VG 'M' PK | NT NNK TK_EOTEY 'S' 'K';

NNK: KJKWG TK_EOTEY BPMTL | HDHX BJ TK_FJKYU PK HDHX | EXL NT TK_GIM QLYBP TK_BVH;

NLOT: TK_UC TK_FJKYU TK_QHP;

OYZBD: ZSNI TK_CPZIM HDHX | JWC TK_QSOD | FJILV HDHX 'M' EXL | C TK_OK CQB | TK_XFU LWY RG JWAFP;

RG: LWY C CQB CQB | 'O' | JWC TK_EX TK_EX | ;

CQB: L JWAFP | 'M' | FV XPSMA;

PK: 'P';

NT: NNK TK_EX TK_ZHJNF TK_OK | JWC TK_FJKYU ZSNI 'M' TK_OIRTB | TK_MPC | 'Y' TK_LEA | C HDHX;

FJILV: BPMTL QLYBP 'U' FJILV | TK_OIRTB ZSNI A EXL;

A: TK_VDZB;

C: BPMTL TK_FJKYU PK TK_XFU BJ | 'Y' TK_UC 'Q' PK | NNK TK_QHP;

E: TK_GIM TK_CPZIM 'Q' TK_BVH C;

ZSNI: DU TK_OIRTB C | TK_FJKYU TK_UC | 'M';

VG: L HDHX 'K' C | ;

H: TK_OK FV RG TK_OIRTB TK_MPC | 'X' HDHX | JWAFP TK_MPC TK_VDZB PK | RG TK_CPZIM | DU;

JWAFP: XPSMA | KJKWG 'O' 'O' JWC | TK_CPZIM 'Q' | 'K' TK_EX H RG;

L: TK_CPZIM 'Y' JWAFP 'Q' | ;

