%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: NLOT TK_MPC L 'X' LWY | 'U' JWAFP | TK_QHP 'Z' E 'K' RG;

LWY: TK_FJKYU JWC 'S' DU TK_QSOD | 'Q' OYZBD CQB | TK_DLZY NNK TK_APR 'S';

FV: OYZBD C | VG 'X' KJKWG 'Y' | TK_FJKYU | 'M' TK_EOTEY 'U' XPSMA ZSNI;

HDHX: TK_MPC TK_FJKYU JWC 'S' KJKWG | 'Z';

EXL: H TK_EX HDHX TK_OK TK_EOTEY;

BJ: RG TK_UC TK_VDZB H TK_OIRTB | VG TK_BVH XPSMA E | BPMTL TK_GIM TK_OIRTB ZSNI | 'P' C TK_DLZY FV | JWC 'M' TK_BVH;

XPSMA: TK_CPZIM FV JWAFP 'P' QLYBP | TK_EOTEY LWY TK_BVH DU TK_OIRTB | TK_GIM C | EXL JWAFP TK_BVH TK_XFU VG;

KJKWG: TK_BVH TK_QHP CQB | 'U';

DU: NNK BPMTL;

QLYBP: TK_APR | TK_QHP 'U' 'U' FJILV | TK_UC TK_QSOD FJILV 'Y' 'S' | ;

BPMTL: TK_EOTEY TK_OK OYZBD | L | VG FJILV;

JWC: CQB ZSNI | A PK A JWAFP | TK_LEA TK_MPC DU TK_MPC TK_VDZB;

NNK: OYZBD | TK_OK H FJILV CQB TK_OK | EXL BPMTL;

NLOT: TK_QSOD 'M' ZSNI TK_UC | L NT TK_MPC TK_CPZIM | TK_UC VG TK_APR XPSMA | ;

OYZBD: RG 'S' KJKWG | ;

RG: TK_QSOD TK_BVH | TK_QHP JWAFP BPMTL H | TK_BVH | L 'M' 'U' FJILV 'Q';

CQB: BJ | RG | 'P' KJKWG 'M' FJILV 'U' | TK_CPZIM HDHX C | TK_LEA NT QLYBP;

PK: TK_FJKYU 'K' | FV TK_XFU TK_EOTEY NLOT 'S' | 'U' TK_EX TK_EX 'P' VG | ZSNI TK_EX BPMTL TK_OIRTB;

NT: TK_QHP | TK_APR | TK_EOTEY | RG HDHX E;

FJILV: NLOT XPSMA PK;

A: TK_GIM TK_OIRTB TK_BVH TK_CPZIM HDHX | HDHX TK_CPZIM OYZBD C 'M';

C: TK_ZHJNF | TK_ZHJNF E FJILV RG TK_VDZB;

E: TK_FJKYU 'Z' 'Y' TK_VDZB 'K' | TK_GIM | L VG KJKWG RG L | 'S' | ;

ZSNI: OYZBD | E FV TK_APR TK_EX TK_OIRTB | TK_QHP TK_GIM TK_VDZB TK_QSOD TK_ZHJNF | TK_OIRTB | 'K' HDHX TK_VDZB L;

VG: TK_ZHJNF | TK_GIM TK_EOTEY TK_LEA JWAFP 'U' | 'X' | QLYBP NT TK_OK KJKWG;

H: 'O' TK_UC JWC NLOT TK_XFU | TK_EX TK_APR XPSMA | 'K' 'S' NLOT TK_DLZY FV | 'S' NT XPSMA;

JWAFP: NT 'X' TK_VDZB VG | NT TK_BVH LWY | OYZBD | JWAFP TK_QSOD TK_OIRTB 'Z' 'X' | FJILV TK_ZHJNF TK_MPC KJKWG TK_BVH;

L: TK_UC TK_FJKYU | 'P' 'K' QLYBP ZSNI 'Z' | ZSNI KJKWG NLOT;

