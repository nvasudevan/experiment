%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: JWC H KJKWG;

LWY: XPSMA TK_OK OYZBD 'X' | RG TK_GIM | BJ TK_LEA | KJKWG LWY LWY TK_EOTEY | DU;

FV: 'P' NNK | TK_OK | JWAFP E | FJILV NLOT | TK_QHP NT TK_EOTEY NT TK_OK;

HDHX: FV TK_LEA TK_CPZIM | VG BPMTL | 'M' CQB | TK_UC | ;

EXL: CQB E TK_BVH TK_EX NT | RG TK_OK KJKWG | 'X' | ;

BJ: 'Y' TK_OK TK_APR TK_QHP DU | TK_BVH TK_MPC L | JWC BJ TK_FJKYU NT TK_APR | DU TK_QSOD | 'X' PK 'M' TK_XFU 'O';

XPSMA: TK_QHP 'O' EXL 'P' | 'M' TK_OK TK_OK FJILV LWY | TK_QSOD JWAFP 'Z' TK_QSOD | TK_APR | 'K' FV LWY TK_EX DU;

KJKWG: TK_UC 'X' BJ HDHX DU | C 'M' JWAFP FJILV;

DU: 'O' CQB | TK_GIM TK_BVH | DU EXL FV TK_OK TK_MPC | 'O' TK_VDZB | ;

QLYBP: TK_QSOD BJ | TK_EOTEY C | TK_QSOD 'Y';

BPMTL: TK_APR ZSNI 'P' | HDHX E RG NT 'P' | TK_APR 'Y' JWAFP JWC | VG TK_APR TK_BVH TK_OK TK_QSOD | 'X' DU DU 'P' 'K';

JWC: TK_LEA TK_QSOD TK_APR TK_VDZB | 'Y' BPMTL NNK NLOT NLOT;

NNK: RG XPSMA | 'K' DU TK_CPZIM;

NLOT: TK_EX | TK_QHP TK_ZHJNF LWY | A KJKWG | TK_UC KJKWG 'Q' C;

OYZBD: HDHX TK_GIM | 'X' 'X';

RG: FJILV HDHX TK_GIM TK_XFU XPSMA | TK_ZHJNF TK_GIM TK_CPZIM | TK_ZHJNF JWC TK_APR TK_XFU VG | TK_XFU 'P' 'X' JWC;

CQB: TK_QHP TK_QHP | 'X' TK_OIRTB BJ C BPMTL | TK_OIRTB | OYZBD 'M' TK_EX | DU A C TK_MPC;

PK: H TK_VDZB;

NT: TK_CPZIM DU | XPSMA TK_ZHJNF OYZBD HDHX TK_FJKYU | TK_VDZB 'P' 'S' 'M' NLOT | FV VG TK_LEA | 'S' TK_APR LWY TK_DLZY;

FJILV: 'O' TK_EX 'U' EXL | EXL 'P' H;

A: BJ JWAFP 'Z' 'P' | TK_OK TK_BVH VG TK_ZHJNF 'M' | RG TK_FJKYU BJ QLYBP FV | TK_VDZB TK_EX | QLYBP TK_QSOD LWY TK_EOTEY;

C: 'O' TK_FJKYU TK_XFU DU | TK_BVH C TK_GIM NLOT JWC | ;

E: OYZBD | TK_ZHJNF TK_OK | 'Y' 'Q' NNK | VG FJILV TK_MPC | TK_OK 'Y' RG;

ZSNI: 'P' OYZBD TK_UC C QLYBP | FV;

VG: 'Q' 'S' HDHX | C 'Z' RG 'U' | QLYBP TK_EX ZSNI ZSNI | C 'S' TK_CPZIM ZSNI TK_ZHJNF;

H: RG;

JWAFP: TK_VDZB TK_EOTEY 'Y' JWAFP JWC | DU H H DU PK | KJKWG TK_VDZB NNK;

L: HDHX JWAFP NLOT | CQB | BPMTL NLOT NLOT FJILV JWAFP | TK_QHP 'K' H TK_OIRTB | RG 'K';

