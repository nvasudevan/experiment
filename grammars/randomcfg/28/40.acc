%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: 'K' TK_EOTEY VG NNK | TK_APR TK_GIM TK_FJKYU | 'P' NT NT KJKWG ZSNI;

LWY: 'Y' A BJ | 'O' TK_BVH TK_ZHJNF FV | ;

FV: NNK;

HDHX: NNK | TK_EOTEY TK_VDZB TK_MPC L | ;

EXL: OYZBD | EXL TK_VDZB TK_APR | FJILV;

BJ: XPSMA;

XPSMA: TK_UC | TK_EX TK_ZHJNF TK_BVH TK_ZHJNF;

KJKWG: EXL | 'O' XPSMA | EXL VG | A;

DU: BPMTL 'U' A OYZBD 'X' | TK_EX 'M' TK_CPZIM 'X' | NLOT | 'P' TK_GIM JWAFP TK_XFU;

QLYBP: TK_QSOD TK_FJKYU | NLOT 'Y' OYZBD TK_VDZB;

BPMTL: FJILV | TK_ZHJNF QLYBP TK_FJKYU 'K';

JWC: JWC FV 'S' | NNK TK_EX TK_CPZIM BJ TK_BVH | TK_DLZY NT TK_XFU | NLOT | ;

NNK: CQB TK_QSOD TK_QSOD TK_XFU TK_BVH | 'Y' RG PK | 'M' C TK_OIRTB TK_GIM L | 'S' LWY;

NLOT: TK_EX TK_QHP | NT NNK E 'S' | BJ TK_EOTEY | FV 'Z' | 'Y' 'P' TK_QHP 'X' BPMTL;

OYZBD: TK_MPC | TK_XFU | E | TK_CPZIM FJILV VG JWAFP PK;

RG: JWC PK 'P';

CQB: RG TK_QHP | HDHX 'U' CQB BPMTL 'M' | H | NT TK_BVH 'M' 'Y' TK_FJKYU | 'Z' 'Y' NNK XPSMA;

PK: TK_QHP NT TK_UC NNK TK_QSOD | ZSNI | TK_QSOD JWAFP | QLYBP 'U' BPMTL RG;

NT: TK_APR TK_GIM TK_QSOD | TK_DLZY C | TK_OK XPSMA TK_GIM | CQB TK_EX TK_ZHJNF TK_MPC QLYBP;

FJILV: TK_LEA C CQB TK_EOTEY | FV | RG TK_VDZB 'P' 'X' | JWC TK_CPZIM 'O';

A: TK_UC TK_UC TK_UC H;

C: LWY TK_MPC TK_CPZIM | ;

E: FV 'M' C NT TK_EX | 'U' | VG TK_FJKYU NLOT TK_VDZB BJ | TK_EX TK_QSOD 'X';

ZSNI: TK_QHP A | TK_EOTEY 'S' E DU 'O' | TK_FJKYU FV | TK_CPZIM TK_EOTEY QLYBP TK_CPZIM;

VG: ZSNI | HDHX QLYBP | TK_QSOD TK_MPC E TK_VDZB TK_GIM | A TK_EX L;

H: EXL BPMTL L TK_GIM | TK_CPZIM FV;

JWAFP: ZSNI | JWAFP LWY TK_OIRTB;

L: QLYBP ZSNI H RG | LWY QLYBP A 'K' NLOT;

