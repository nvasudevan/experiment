%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: TK_GIM C TK_LEA E OYZBD | TK_QSOD | TK_VDZB CQB 'X' C DU;

LWY: RG L 'S' | QLYBP BPMTL | 'Z' TK_ZHJNF TK_QSOD 'K' TK_EX;

FV: 'M' C | QLYBP | 'O' 'U' | NT NNK;

HDHX: TK_BVH LWY 'K' VG L;

EXL: 'X' TK_MPC XPSMA | DU 'X';

BJ: 'K' TK_DLZY | 'X' HDHX | TK_QSOD;

XPSMA: 'U' | L;

KJKWG: TK_XFU 'P' | A | NNK 'Q' | HDHX TK_XFU | H DU;

DU: PK FV TK_XFU XPSMA | CQB HDHX OYZBD E | VG L QLYBP OYZBD | 'Y';

QLYBP: TK_OIRTB | DU TK_ZHJNF 'U' C | VG | ;

BPMTL: JWC TK_OK TK_OK NNK | TK_BVH TK_QSOD QLYBP 'Q' | TK_CPZIM TK_APR FJILV | ;

JWC: TK_EOTEY;

NNK: NNK TK_DLZY RG BJ C | OYZBD TK_BVH TK_CPZIM TK_UC NT | 'U' OYZBD 'S' | E | ;

NLOT: HDHX 'Z' E 'K' VG;

OYZBD: NT EXL TK_APR TK_MPC;

RG: ZSNI TK_ZHJNF OYZBD | JWAFP E KJKWG TK_ZHJNF | NT | NT QLYBP TK_GIM 'K' | TK_GIM;

CQB: 'Z' | TK_ZHJNF 'K' H DU | 'P' QLYBP 'O' | C BPMTL TK_ZHJNF TK_QHP 'X';

PK: H DU TK_GIM KJKWG PK | 'U' JWC | TK_CPZIM NLOT 'K' | TK_VDZB C 'X' A;

NT: 'X' | ;

FJILV: TK_OIRTB | EXL TK_OK TK_QSOD TK_UC | 'O' 'O' TK_XFU | 'K' TK_EOTEY TK_EX | OYZBD JWAFP;

A: NT NLOT TK_VDZB C VG | 'Y' OYZBD TK_BVH FV | BJ TK_CPZIM TK_CPZIM TK_OIRTB | VG A TK_CPZIM | TK_EX C XPSMA XPSMA;

C: 'M' TK_CPZIM H | TK_CPZIM XPSMA TK_CPZIM TK_APR TK_XFU | 'P' TK_EOTEY 'Y';

E: H VG 'P' | E TK_DLZY EXL NT 'Q' | TK_QSOD BPMTL C TK_OIRTB | EXL TK_CPZIM TK_BVH FV TK_ZHJNF | TK_VDZB C;

ZSNI: C BPMTL;

VG: BJ A | TK_EX DU TK_FJKYU L | JWAFP | FV JWC NLOT ZSNI QLYBP;

H: NNK TK_QSOD A VG | TK_XFU ZSNI TK_UC 'X' | FJILV JWAFP | TK_ZHJNF NLOT 'X' HDHX TK_UC;

JWAFP: NLOT KJKWG | BJ 'M' 'U' CQB | 'Z' FJILV PK JWAFP | XPSMA TK_FJKYU TK_VDZB L JWC;

L: QLYBP KJKWG A | H | DU TK_FJKYU KJKWG TK_VDZB | FV TK_VDZB HDHX TK_CPZIM TK_UC | TK_FJKYU NNK TK_DLZY TK_CPZIM;

