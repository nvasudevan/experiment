%token TK_APR, TK_UC, TK_QHP, TK_ZHJNF, TK_EOTEY, TK_QSOD, TK_OK, TK_LEA, TK_GIM, TK_MPC, TK_FJKYU, TK_BVH, TK_CPZIM, TK_OIRTB, TK_XFU, TK_EX, TK_DLZY, TK_VDZB;

%nodefault

root: NNK JWAFP L | 'S' TK_GIM;

LWY: NT FV | JWAFP TK_GIM 'O' NLOT A | NT HDHX 'O' 'O' 'Z' | JWAFP;

FV: HDHX HDHX DU CQB DU | CQB NLOT JWAFP TK_MPC | TK_APR;

HDHX: KJKWG TK_EX CQB L | 'P' 'Z' 'P' XPSMA | E H | TK_QHP;

EXL: TK_XFU | ;

BJ: LWY TK_ZHJNF TK_ZHJNF | HDHX L NT | XPSMA TK_QHP | EXL L NLOT 'U' A;

XPSMA: TK_UC BPMTL OYZBD TK_APR | TK_APR FJILV OYZBD TK_EX;

KJKWG: TK_QHP NLOT HDHX JWC;

DU: NLOT FJILV RG EXL | A TK_OK TK_QSOD EXL OYZBD;

QLYBP: CQB H;

BPMTL: TK_OK TK_CPZIM TK_GIM TK_OIRTB | 'M' | TK_FJKYU JWAFP VG | TK_CPZIM | ;

JWC: TK_FJKYU TK_APR | 'O' NNK H TK_LEA | L L DU VG | JWC TK_QHP FV;

NNK: NLOT;

NLOT: RG TK_QSOD KJKWG TK_MPC | 'X' TK_UC | NNK FJILV | DU BJ | TK_OK NLOT KJKWG 'Q' NNK;

OYZBD: FJILV | C TK_VDZB | TK_GIM QLYBP TK_MPC;

RG: NLOT VG FV TK_ZHJNF | TK_QSOD JWC 'U' | TK_EOTEY HDHX BPMTL TK_MPC FV | JWAFP TK_EOTEY | 'O';

CQB: TK_FJKYU TK_CPZIM FJILV | A NNK KJKWG KJKWG H | TK_QSOD TK_QHP JWC | H 'Q' 'Q' TK_MPC;

PK: 'S';

NT: A 'P' FJILV LWY;

FJILV: E BPMTL ZSNI TK_OK ZSNI | JWAFP FV TK_VDZB 'Z' TK_OK;

A: TK_BVH E | TK_DLZY LWY;

C: TK_GIM LWY 'P' KJKWG;

E: 'Q' 'O' | TK_XFU QLYBP | EXL TK_FJKYU | FV HDHX JWC TK_MPC | 'X' TK_APR TK_VDZB LWY TK_OK;

ZSNI: TK_VDZB 'Y' E RG 'M' | TK_MPC TK_DLZY TK_MPC RG;

VG: 'Y' 'Q' E 'Q' NLOT | NLOT L TK_FJKYU | 'K' TK_QSOD 'Q' | 'S' L TK_CPZIM;

H: TK_CPZIM TK_VDZB | TK_FJKYU C 'X' 'S' TK_MPC | TK_UC TK_QHP TK_APR NT;

JWAFP: CQB TK_OK FJILV | 'S' JWAFP | EXL QLYBP;

L: JWAFP TK_QHP TK_OK TK_QHP | TK_OIRTB TK_QSOD LWY | NLOT | ;

