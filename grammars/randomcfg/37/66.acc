%token TK_HATIG, TK_YWXDQ, TK_LCG, TK_NEZVJ, TK_UCDHS, TK_ORWXW, TK_UTL, TK_RNIQC, TK_NFZYG, TK_TQU, TK_IA, TK_KY, TK_XRW, TK_EWKZ, TK_JXCU, TK_XZFWO, TK_TBRW, TK_EP, TK_RTRH, TK_RWO, TK_UP, TK_FZ, TK_OOP, TK_KLVJ, TK_TRIA, TK_EMJY, TK_QB, TK_QF, TK_KLP;

%nodefault

root: KC PREEU QLVBN BOS;

JSWIH: 'Q' TK_XRW DW PU TK_UP | DW 'Z' TK_UTL | ZMOOE EIHXM TK_HATIG HMAUN;

AAB: PU | ZMOOE TK_QF JSWIH DW | WBG 'N';

CAR: TK_EWKZ 'W' TZFQ | BULK TK_XRW BOS;

EIHXM: TK_ORWXW TAUUL TK_OOP INII | 'Q' | 'Q' ZMOOE | TK_KLP KYE;

BOS: 'R' TK_ORWXW | FKYS TK_XRW 'N' CAR;

BI: 'L' TK_IA V | 'Q' 'R' | PREEU MWF TK_TQU KC;

TAUUL: AALG | TK_EP;

WBG: 'Q' DW | TK_UTL TK_EMJY TK_KLP BULK TK_RWO;

PREEU: TK_XZFWO TK_LCG 'Z';

MWF: JU QFT GUZUS | TK_TBRW XQEPV ZMOOE PREEU KC | TK_UTL;

MMUVW: QFT WBG E TK_NFZYG TK_QB | TK_EWKZ TK_RWO TK_KY TK_UCDHS;

DW: TK_TQU TK_TBRW 'S' INII JSWIH | TK_YWXDQ | EIHXM | ;

ZMOOE: BULK TK_OOP TK_EWKZ WBG | ZMOOE TK_RWO TK_UTL J | EIHXM JU | TK_XRW TK_TRIA;

FKYS: TK_JXCU TK_QF | SKX DW OYSOJ | OYSOJ EIHXM;

F: BULK PU TK_RWO BI | 'R' | TK_LCG V TK_RNIQC TK_EP | TK_EWKZ TK_RTRH | INII BI TK_XZFWO;

PU: TK_JXCU PU PREEU TK_UCDHS OYSOJ | XW EIHXM J | CAR HMAUN | INII MWF INII | ;

OYSOJ: TK_KY TK_EWKZ TK_RWO;

QZS: TK_TBRW TK_TRIA TK_LCG BOS | DW DW | TK_QF SKX QZS | TK_EP;

KYE: KC TK_TBRW AAB | MMUVW TK_NFZYG TK_XRW | TK_IA JU TAUUL | SKX BI TK_NEZVJ AALG DW;

INII: TK_TBRW | TK_LCG TK_UP TK_NFZYG 'S' BOS | BI J TK_YWXDQ | BULK 'T' | MWF QFT XQEPV TK_NEZVJ TK_YWXDQ;

AALG: GUZUS TK_TRIA | GUZUS TK_UTL TK_UTL | TK_KLP TK_EMJY TK_EMJY 'S' | TK_HATIG CAR;

JU: TK_EWKZ QFT | TK_RWO TK_TQU | 'Z' 'N' TK_KLVJ ZMOOE F | TK_TQU | AALG TZFQ 'N';

XQEPV: TK_NFZYG TK_KLP DW TZFQ 'N' | E MMUVW E JSWIH TK_RWO;

QLVBN: XQEPV ZMOOE | V TK_QB TK_EMJY | 'W' Y J TK_TQU MMUVW | TK_UTL 'T' TK_EWKZ HMAUN TK_RTRH;

E: 'W' TK_TBRW 'N' XW OYSOJ | WBG | 'T' QFT TK_EWKZ INII MWF | SKX MMUVW TK_QF TK_EWKZ;

HMAUN: E MWF MMUVW XW MWF | TK_TBRW BOS 'W' OYSOJ | TK_RTRH TK_EWKZ BI;

GUZUS: TK_XZFWO TK_KLP | TK_TRIA XQEPV XW 'Q' TK_JXCU | 'R' INII EIHXM QLVBN | BULK QZS TK_FZ V | 'Q' J;

QFT: TK_OOP TK_JXCU XW TK_RWO | QLVBN QLVBN TK_NEZVJ;

TZFQ: TK_HATIG 'T' TK_XRW | V TK_UTL | JU TK_TQU 'W' TK_EWKZ 'W' | TK_UP GUZUS | PREEU 'N' 'Q' 'R' 'T';

J: TAUUL TK_UCDHS TK_FZ | CAR TK_NEZVJ TK_RTRH | TK_QF AAB CAR | TK_XZFWO XW;

SKX: TK_EWKZ E TK_EP 'S' | BULK BOS GUZUS EIHXM | ;

V: TAUUL TK_RTRH 'Z' | ;

Y: TK_EWKZ;

XW: TK_XRW V;

KC: HMAUN TK_OOP TK_NFZYG TK_RTRH | 'N' ZMOOE | TK_TQU 'L' KYE | TK_QB EIHXM;

BULK: MMUVW OYSOJ TK_OOP TZFQ E | ;

