%token TK_HATIG, TK_YWXDQ, TK_LCG, TK_NEZVJ, TK_UCDHS, TK_ORWXW, TK_UTL, TK_RNIQC, TK_NFZYG, TK_TQU, TK_IA, TK_KY, TK_XRW, TK_EWKZ, TK_JXCU, TK_XZFWO, TK_TBRW, TK_EP, TK_RTRH, TK_RWO, TK_UP, TK_FZ, TK_OOP, TK_KLVJ, TK_TRIA, TK_EMJY, TK_QB, TK_QF, TK_KLP;

%nodefault

root: TK_EMJY KC TK_KY TK_NEZVJ TK_UTL | ZMOOE V | TK_TBRW QLVBN TK_LCG;

JSWIH: E MMUVW TK_KY TK_TRIA TK_EWKZ | PU TK_UP TZFQ TK_EMJY | 'Z' | MMUVW 'Z' TK_FZ TK_OOP | TK_KLP FKYS 'N' TK_XRW TK_JXCU;

AAB: TK_XRW JU TK_IA XQEPV | TK_XRW CAR | TK_XRW | JSWIH XQEPV JSWIH;

CAR: Y | BULK MWF TK_TRIA WBG;

EIHXM: XW TK_UTL TAUUL JU 'W' | KC F AALG TK_YWXDQ | BOS 'L' TAUUL | TK_EWKZ ZMOOE TK_RNIQC TK_OOP J;

BOS: TK_XRW | PU CAR MWF;

BI: TK_OOP DW TK_EP | TK_IA SKX WBG MMUVW BOS | JSWIH AALG TK_HATIG JSWIH | WBG;

TAUUL: TK_RTRH JSWIH;

WBG: 'N' | TK_UTL | BI | SKX;

PREEU: QFT 'R' F TK_FZ | QZS TK_TRIA TK_RWO XQEPV TK_EMJY | TK_KY TK_RWO TK_FZ BULK TK_QB;

MWF: MWF TK_KLVJ AALG | TK_XZFWO TK_UCDHS INII TK_RNIQC KYE | TK_FZ TK_XRW GUZUS;

MMUVW: GUZUS TK_OOP TK_TRIA Y QZS | BULK Y TK_NEZVJ TK_TQU INII | TK_QB JU TK_XRW TK_OOP AALG;

DW: TK_EWKZ 'Z' QFT TK_TBRW | TK_XZFWO TK_YWXDQ TK_RNIQC | KC SKX TK_OOP TK_TQU | TK_JXCU | ;

ZMOOE: PU WBG AAB TK_QB TK_NEZVJ | AALG V TK_QB PU TK_UTL | V TK_TRIA 'Z' TK_RWO TK_KY;

FKYS: TK_UTL TK_IA KC TK_RWO | CAR GUZUS WBG | F PU TK_HATIG AAB DW | WBG TK_XZFWO TK_UTL | TK_ORWXW TK_EMJY 'S';

F: BOS | 'L' J 'Q' JSWIH TK_UCDHS | DW QFT 'Z' PREEU TK_HATIG;

PU: TK_FZ | Y MMUVW;

OYSOJ: 'S' TK_EMJY | 'S' 'L' TK_KLVJ TK_RTRH HMAUN | TK_UCDHS HMAUN TZFQ HMAUN TK_UCDHS;

QZS: TK_LCG | WBG FKYS | KC JSWIH TK_KLP TK_EP | XQEPV PU TK_YWXDQ | HMAUN HMAUN TK_KLVJ;

KYE: TK_UP TAUUL QZS ZMOOE | EIHXM TK_KY EIHXM TZFQ;

INII: TK_EP HMAUN CAR;

AALG: XW TK_EMJY TK_UCDHS | TK_EP INII QLVBN TK_ORWXW OYSOJ | PU F TK_EWKZ 'Z' HMAUN | ;

JU: TK_HATIG MWF XW | TK_QF;

XQEPV: TK_XZFWO AALG GUZUS TK_TBRW | V PU 'Q' | XQEPV TK_RWO;

QLVBN: TK_YWXDQ JU CAR | 'W' TK_RWO TK_XZFWO | TK_RNIQC 'Q' TK_QB TK_YWXDQ EIHXM | GUZUS TK_HATIG;

E: AAB TK_XRW TK_UP;

HMAUN: SKX | 'N' | TAUUL Y TK_UP TK_HATIG | GUZUS TK_JXCU HMAUN;

GUZUS: TK_RWO SKX TK_KLVJ | JU QFT 'T' AAB BI | 'Q' INII;

QFT: TK_HATIG | TAUUL JSWIH V QLVBN TK_RNIQC | TK_QB TK_XRW | Y TK_EWKZ TK_TRIA BOS TK_UP;

TZFQ: TK_UCDHS MWF TK_EP E AALG | KYE TK_QB TK_UCDHS TK_EMJY | TK_ORWXW | 'N' TK_XZFWO;

J: 'Z' MWF TK_EP TK_TBRW TK_YWXDQ | V TZFQ TK_FZ TK_EMJY | JSWIH | TK_NFZYG TK_RTRH F Y 'N';

SKX: PREEU | F 'T' | TK_KLVJ INII TK_HATIG DW | TK_KY V TK_NFZYG | TK_UP TK_NFZYG TK_UP;

V: MMUVW | OYSOJ WBG | AAB TK_NEZVJ TK_UP 'R' TK_UCDHS | V;

Y: 'R' TK_XZFWO TK_UCDHS | QZS DW | ;

XW: 'N' TK_ORWXW JSWIH CAR TK_LCG | TK_XRW TK_HATIG TK_RWO JSWIH | ;

KC: TAUUL TK_UP | ;

BULK: ZMOOE EIHXM;

