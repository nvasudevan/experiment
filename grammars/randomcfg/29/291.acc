%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: TK_MX | UGBRD DA FMR 'M' JFP | TKXV | TK_HMMK;

HGYO: TK_NWGA TK_JCZ NQ DE TK_XIU;

GNX: TK_CI | GNX HLIMI 'Z' | A YFQ TK_XIU | 'H';

DE: 'N' TK_CI B | DE HGYO 'J' TK_NWGA TK_PPEG | TK_TJJ | TK_YRFMC JFP DA;

HT: WUNI TK_RNCR TK_VP 'M' HLIMI | DA TK_TGORN DE 'D';

VGPV: EWAAI TKXV 'Z';

ZMIW: X HT;

HC: ZMIW ND EWAAI FMR | TK_OXX G TK_TGORN TK_TGORN UGBRD | TK_NWGA ND TK_XX | LQPB TK_HMMK;

XBF: A GFG EWAAI ND | ZDA | FMR TK_LGOZR 'H' NQ DA | ND | GNX ZMIW;

ZDA: TK_AKTAS TK_TJJ | TK_URP EH ZDA | 'Z' | TK_YRFMC G HT HLIMI;

AB: TK_XIU GFG VGPV TK_MX VGPV | TK_GK | TK_YRFMC X | B DE TK_VP | TK_PPEG A TK_WXVA TK_LGOZR;

EH: ZMIW LQPB TK_TJJ TK_CI TK_MX | TK_AKTAS TK_GK 'M' | ;

JFP: HGYO 'D' TK_RNCR TK_PHA | TK_GK TK_YRFMC TK_JCZ TK_XIU YFQ;

TKXV: HLIMI | NQ HLIMI 'D' | WUNI FMR HT HC | B FMR TK_TJJ HLIMI;

LQPB: 'N' TK_PPEG JFP TK_XIU;

ND: 'Z' 'F' 'N' TK_XX;

YFQ: 'N' 'N' NQ GFG EH | TK_CI TK_XIU TK_PPEG TK_HMMK | GNX | TK_MX TK_MX YFQ G TK_PHA | 'D' ZDA ZMIW;

WUNI: NQ | TK_HMMK TK_XIU TK_MX LQPB X | GNX | ;

NQ: WUNI HLIMI ND XBF;

HLIMI: TK_TJJ A ND TK_LGOZR | GNX AB TK_XZWO TK_VP TK_JCZ | NQ WUNI TK_WXVA TK_XIU | HGYO JFP A TK_VP TK_OXX | 'M';

A: TK_GK | TK_WXVA | TK_CI TK_PPEG | TK_NWGA HLIMI 'F' 'Z' | ;

EWAAI: YFQ ND | TK_VP JFP YFQ TKXV;

B: LQPB TK_NWGA HLIMI GNX TK_RNCR;

UGBRD: TK_DHP;

G: TK_JCZ YFQ EWAAI | VGPV EH | A;

FMR: AB | ZDA;

X: EWAAI 'F' | ZMIW 'J' TK_MX G UGBRD | TK_RNCR TK_WXVA;

DA: TK_RNCR TK_CI B;

GFG: TK_CI;

