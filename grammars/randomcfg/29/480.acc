%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: 'Z' X TK_MX TK_JCZ;

HGYO: 'D' HT GNX YFQ X | HT XBF TK_JCZ | TK_PHA;

GNX: TK_WXVA TK_AKTAS X 'D' DE | FMR TK_PPEG | FMR YFQ LQPB | TK_XX | EH 'M' A TK_URP HC;

DE: TK_PPEG HC TK_XZWO | TK_MX 'N' | TK_CI 'J';

HT: ZMIW | TK_LGOZR HC A ZMIW | ZMIW TK_DHP | WUNI | ;

VGPV: TK_GK | VGPV HGYO | DA HC HGYO;

ZMIW: HLIMI;

HC: TK_YRFMC NQ ZMIW HT HLIMI | TK_WXVA LQPB NQ TK_XX ZMIW;

XBF: VGPV TK_PPEG GFG X | TK_PPEG | TK_CI TK_JCZ 'Z' TK_LGOZR YFQ | TK_TGORN TK_RNCR;

ZDA: HLIMI DA NQ | B;

AB: 'D' | A TK_XIU | ND A JFP YFQ TK_XX;

EH: HLIMI X TK_HMMK A TK_NWGA | A | ZDA XBF 'Z' | TK_NWGA TK_TJJ TK_TGORN TK_TJJ;

JFP: GNX TK_GK TK_HMMK | A XBF TK_PHA;

TKXV: TK_DHP HLIMI 'D' TK_URP TK_HMMK | TK_PPEG ZMIW | HGYO DA ZDA | ;

LQPB: TK_DHP TK_XX | TK_TGORN HT HT TK_URP | TK_MX TK_URP | ;

ND: 'F' TK_XIU 'F' | EWAAI TKXV 'J' DE TK_DHP | TK_VP HC GNX TK_DHP FMR | GNX TK_VP | XBF LQPB TK_TJJ 'N' 'Z';

YFQ: 'M' TK_RNCR G TK_JCZ | TK_XX A YFQ | XBF TKXV TK_YRFMC | TK_XX HGYO UGBRD | TK_MX TKXV TK_XIU TK_JCZ 'Z';

WUNI: UGBRD;

NQ: TK_LGOZR | TK_NWGA 'F' WUNI | HC 'Z' XBF TK_URP | JFP;

HLIMI: 'D' 'Z' TK_TGORN TK_RNCR TK_XZWO | TK_TJJ TK_XIU | TK_CI TK_TJJ | TK_OXX TK_DHP | AB;

A: TK_XZWO 'D' TK_DHP | 'J' X | LQPB TK_PHA 'N' TK_DHP | TK_XIU TK_URP VGPV VGPV | NQ WUNI 'D' TK_XZWO VGPV;

EWAAI: B;

B: XBF | GNX LQPB | TK_XX HT TK_PHA | ;

UGBRD: 'Z' HC A FMR | TK_MX DA TK_XZWO VGPV | TK_GK | TK_NWGA TKXV WUNI | LQPB DA;

G: TKXV DA | LQPB 'H';

FMR: 'J' VGPV TK_TJJ TK_PHA 'M' | ND | GFG GFG LQPB TK_TJJ | TK_TGORN JFP | TK_MX;

X: DE | EWAAI ND TK_AKTAS 'M' X | GFG TK_NWGA TK_XX DA TK_JCZ | TK_HMMK TK_HMMK YFQ;

DA: 'M' 'M' TK_OXX | TK_LGOZR DA | GFG VGPV;

GFG: WUNI TK_TJJ | DE TK_VP;

