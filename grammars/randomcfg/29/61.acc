%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: LQPB TK_XX TK_RNCR | JFP DE | 'N' A G 'H' | AB GFG | LQPB 'D' TK_MX JFP;

HGYO: TK_AKTAS | HGYO FMR 'Z' ZMIW HLIMI | TK_PHA TK_YRFMC LQPB;

GNX: TK_MX TK_PHA XBF TKXV HLIMI | TK_PHA TK_CI AB FMR TK_RNCR | X WUNI TK_LGOZR G VGPV | ;

DE: EWAAI LQPB UGBRD DE | TK_LGOZR TK_XZWO TK_XX EWAAI | TK_CI TK_XX YFQ EWAAI;

HT: VGPV TK_JCZ EH B | TK_LGOZR TK_WXVA EWAAI | GNX 'D' 'N' EH;

VGPV: TK_HMMK 'D' NQ GNX HLIMI | ND 'N' | TKXV UGBRD WUNI TK_MX;

ZMIW: TK_CI EWAAI NQ | HLIMI WUNI HLIMI | TKXV VGPV 'N' HLIMI | ;

HC: NQ TK_HMMK | EWAAI TK_JCZ TK_JCZ WUNI | JFP;

XBF: ZMIW HT G | X ND TK_OXX | UGBRD UGBRD TK_TJJ | JFP TK_LGOZR X | TK_XIU TK_OXX A TK_XX ZMIW;

ZDA: DA | TK_PPEG TK_VP A | TK_HMMK TK_TGORN HLIMI | G;

AB: TK_WXVA;

EH: 'H' TKXV DE ZDA | 'J' LQPB | ;

JFP: TK_XIU TK_XZWO | TK_XIU | 'Z' TKXV ND | HLIMI ZMIW | GNX ZMIW;

TKXV: LQPB | TK_AKTAS TK_XIU | XBF | 'J' ND TK_RNCR | TK_WXVA TK_RNCR HLIMI WUNI TK_JCZ;

LQPB: 'Z' 'N' 'D' | TK_PHA TK_RNCR 'Z' ZDA HLIMI | GNX TK_TJJ | TK_PHA TK_GK TK_TJJ | 'D' TK_PPEG;

ND: TK_HMMK GFG TK_WXVA 'Z' TK_WXVA;

YFQ: HLIMI 'F' TK_WXVA | X 'D' | TK_PHA FMR XBF 'F' XBF;

WUNI: TK_GK TK_HMMK WUNI G TK_URP | 'J' YFQ DA TK_GK | HT YFQ 'H' 'J';

NQ: 'J' EWAAI TK_NWGA TK_MX | JFP TK_PPEG ND LQPB XBF | G | GNX 'F' TK_JCZ TK_RNCR EWAAI | TK_XZWO;

HLIMI: TK_MX TK_XIU TK_TJJ TK_XIU;

A: GFG UGBRD VGPV TK_WXVA 'D' | EH EWAAI 'F' EWAAI;

EWAAI: 'M' TK_HMMK TK_VP ZMIW VGPV | HLIMI AB ND TK_WXVA | LQPB VGPV | TKXV | GFG GFG TK_LGOZR;

B: TK_PHA TK_HMMK | DA TK_XIU TKXV EH;

UGBRD: TK_OXX JFP TK_URP EH 'M';

G: TK_LGOZR | TK_WXVA TK_XZWO GFG GFG | TK_OXX TK_VP TK_HMMK | 'M' AB B TK_MX | ;

FMR: TK_DHP B 'H' TK_AKTAS | HLIMI TK_HMMK DE DA | TK_MX FMR | G | TK_XIU TK_XZWO 'Z' 'Z';

X: ZMIW VGPV | TK_TJJ TK_WXVA JFP TK_MX | B B 'Z' TK_URP;

DA: AB;

GFG: TKXV EH TK_DHP TK_MX TK_OXX | TK_CI | TK_WXVA NQ;

