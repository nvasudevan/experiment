%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: HLIMI NQ ND TK_URP;

HGYO: GNX | 'H' VGPV ND GNX | 'M' G TK_HMMK WUNI FMR;

GNX: TK_RNCR TK_OXX TKXV TK_RNCR | TK_WXVA B TK_WXVA TK_GK TK_WXVA | LQPB VGPV B | B TK_URP JFP DE ZDA | AB 'H' ZMIW VGPV YFQ;

DE: XBF TK_CI HC ND | HT WUNI TK_URP TK_TGORN;

HT: GNX TK_XZWO 'N' TK_RNCR;

VGPV: NQ TK_URP ZDA ND | TK_URP EH | FMR TK_HMMK TK_PPEG ZDA TK_NWGA;

ZMIW: TK_AKTAS A FMR DE | A TK_MX TK_XX | TK_RNCR ND | TK_HMMK XBF ZDA TK_PPEG | TK_CI ZDA TKXV LQPB 'F';

HC: TK_TGORN LQPB | XBF X X X | TK_CI;

XBF: TK_HMMK TK_PPEG HGYO EWAAI TK_WXVA;

ZDA: TKXV TKXV HC | TK_RNCR XBF EH ND TK_MX | 'J' NQ VGPV TK_PHA | TK_URP YFQ TK_WXVA HC;

AB: TK_LGOZR TK_PPEG HC TKXV;

EH: TK_GK TK_OXX | 'J' DA | TK_YRFMC;

JFP: TK_MX TK_TGORN TK_RNCR 'N' TK_CI | TK_XX JFP JFP TK_XZWO | YFQ | TK_YRFMC HT TK_AKTAS;

TKXV: GFG TK_HMMK TK_RNCR TK_PHA TK_NWGA;

LQPB: DE DA 'F' TK_HMMK TK_XZWO | 'M' DE | TK_AKTAS DE 'J' YFQ TK_DHP;

ND: VGPV TK_DHP 'M' TK_GK;

YFQ: TK_OXX FMR | UGBRD HT EWAAI | WUNI | HLIMI TK_URP TK_TGORN HC TK_OXX;

WUNI: 'J' TK_RNCR TK_URP 'N' TK_CI | 'M' TK_VP WUNI JFP TK_XIU | 'D' HT TK_LGOZR | ;

NQ: TKXV TK_URP TK_PPEG LQPB TK_VP | A TK_RNCR TK_YRFMC YFQ TK_YRFMC | 'Z' | HLIMI | TK_MX TK_JCZ GFG;

HLIMI: EWAAI TK_TGORN UGBRD TK_JCZ TK_XIU | TK_DHP HC TK_XIU | TK_XX ND | A VGPV ZDA TK_MX ND | TK_RNCR JFP UGBRD 'Z' GFG;

A: HLIMI GNX | TK_PHA;

EWAAI: TK_MX ZDA TK_PHA | TK_CI YFQ GFG TK_URP G | XBF;

B: TK_PHA 'D' | TK_XZWO | GNX | 'H' TK_AKTAS 'D' TK_LGOZR | ;

UGBRD: A | HC ZMIW;

G: TK_TJJ | DA TK_MX WUNI JFP 'F' | NQ 'D' 'H' | TK_NWGA | DA HC AB GNX;

FMR: GFG | TK_NWGA | G 'Z' | LQPB VGPV TK_VP XBF TK_OXX;

X: TK_XIU TK_OXX HLIMI | TK_PPEG | ;

DA: TK_XIU A GNX | ND XBF G TK_WXVA TK_URP | 'Z' G TK_XX | ;

GFG: TK_MX AB | TK_OXX EWAAI 'F';

