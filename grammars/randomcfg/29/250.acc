%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: TK_XIU | 'N' AB ZMIW DA | EH HGYO;

HGYO: 'H' FMR TK_XX 'J' | TK_GK TK_YRFMC TK_MX TK_OXX | TK_VP TK_WXVA TK_PHA 'M';

GNX: YFQ;

DE: WUNI NQ G | TK_URP TK_WXVA JFP WUNI | ;

HT: 'F' LQPB | TK_RNCR X TK_OXX 'D' | HC HLIMI TK_XIU XBF | ND TK_RNCR JFP TK_LGOZR | TK_AKTAS HC X ND TK_TGORN;

VGPV: TK_XIU TKXV EH X | 'H' XBF VGPV | X JFP | ;

ZMIW: TK_VP HLIMI ZDA FMR | G HC | TK_NWGA TK_LGOZR EH | 'M' TK_JCZ TK_JCZ;

HC: TK_JCZ X XBF FMR | VGPV | LQPB ZDA TKXV TK_JCZ FMR;

XBF: A | TK_AKTAS GNX ZDA;

ZDA: AB 'F' | TKXV TK_LGOZR | TK_NWGA | TKXV LQPB 'Z' | ;

AB: DA TK_CI TK_VP LQPB 'Z' | NQ TK_OXX | TK_XIU TK_AKTAS TK_YRFMC TK_URP | TK_CI;

EH: TK_HMMK TK_URP B;

JFP: TK_VP JFP TK_RNCR 'H' EWAAI | A TK_URP ZMIW | TK_TGORN GNX AB 'N' | 'M' TK_PPEG LQPB TK_RNCR 'M' | 'D' TK_WXVA FMR HGYO;

TKXV: TK_GK 'N' TK_CI | ZMIW HGYO EH B TK_GK | TK_PHA NQ | TKXV AB 'M' TK_YRFMC;

LQPB: GNX TK_XIU TK_AKTAS FMR TK_GK | ZMIW TK_DHP TK_YRFMC TK_CI TK_DHP | TK_PHA HC TK_CI | WUNI 'H';

ND: YFQ TK_VP TK_CI | ND DA VGPV | TK_OXX | YFQ TK_MX 'J' DE | ;

YFQ: 'H' TK_PHA TK_NWGA TK_YRFMC 'D' | TK_LGOZR | TK_OXX UGBRD | HC TK_CI VGPV;

WUNI: GNX TK_YRFMC TK_RNCR UGBRD G | HGYO HT B TK_XX | HT TK_HMMK | ND NQ;

NQ: TK_VP | TK_XZWO TK_XZWO JFP YFQ 'D' | LQPB B | TK_OXX TKXV | HLIMI TK_VP EH;

HLIMI: TK_YRFMC TK_MX FMR TK_XIU | FMR DA DA | LQPB TK_CI TK_DHP EH TK_NWGA | FMR TK_URP TK_TGORN TK_RNCR | G TK_OXX 'H';

A: TK_CI | TK_TJJ TK_GK 'D' TK_PPEG | AB NQ EWAAI | 'M' WUNI;

EWAAI: X TK_AKTAS GFG TKXV TK_PHA;

B: TK_XIU;

UGBRD: X | DA JFP TK_URP ZDA | 'F' | JFP 'F' B 'F' | 'M' 'N';

G: UGBRD TK_TGORN LQPB;

FMR: UGBRD 'H' TK_MX TK_CI | TK_HMMK TK_XIU 'J' HGYO TK_RNCR | HC JFP ZMIW WUNI TK_MX | FMR DE TK_URP TK_OXX TK_PHA | TK_TJJ DE;

X: TK_XX TK_TJJ TK_NWGA TK_NWGA | TK_MX TK_PHA TK_PPEG TKXV 'D';

DA: TK_HMMK TK_TJJ EH X | XBF HC;

GFG: TK_DHP JFP | JFP HT;

