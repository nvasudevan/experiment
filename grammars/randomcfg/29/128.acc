%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: TK_URP TK_WXVA TK_OXX TK_XX FMR | TK_JCZ HLIMI FMR | X ZMIW 'N';

HGYO: A WUNI HC TKXV | TK_XZWO FMR | TK_RNCR TK_GK | ;

GNX: GNX YFQ TK_PHA | LQPB TK_MX | WUNI HLIMI | WUNI 'N' TK_NWGA TK_RNCR | GFG 'Z' VGPV GNX;

DE: TK_URP HGYO TK_PHA FMR | TK_WXVA NQ 'N' DA | TK_URP TK_XIU TK_DHP | ;

HT: TK_WXVA TK_PPEG TK_RNCR TK_HMMK | TK_TGORN TK_URP YFQ TK_LGOZR | HLIMI TK_NWGA XBF TK_OXX;

VGPV: TK_AKTAS | TK_LGOZR HT WUNI | VGPV FMR FMR DA 'D' | JFP JFP HT | EWAAI DE;

ZMIW: G TK_NWGA TK_PPEG | TK_PHA;

HC: DA WUNI HGYO | A TK_RNCR | DA 'N' DE A TK_HMMK | ZDA ND HLIMI A TK_RNCR;

XBF: HT FMR 'D' TK_XIU;

ZDA: NQ A NQ HC TK_PPEG;

AB: TK_XZWO TK_XX TK_GK XBF | JFP 'D' TK_XZWO HGYO | TK_CI 'N' | VGPV TK_TJJ TK_XIU | 'M' TK_GK TK_RNCR;

EH: AB A TK_XX;

JFP: TK_XZWO | TK_DHP NQ;

TKXV: TK_TJJ TK_PHA | AB TK_HMMK 'H' 'F' | TK_GK;

LQPB: TK_XZWO | 'J' A 'J' GNX NQ | TK_AKTAS 'J' TK_AKTAS | HT 'N' 'J' TK_TJJ GFG | ;

ND: JFP 'J' | ZDA | VGPV ND | 'N' ZDA TK_CI | XBF TK_XX NQ TK_AKTAS;

YFQ: TK_VP ND XBF ZDA | FMR DE;

WUNI: HT | HC TK_GK TK_URP 'J' 'H' | TK_VP TK_RNCR TK_GK HT 'F' | XBF HC X UGBRD | TK_VP TK_TJJ;

NQ: TK_YRFMC DE JFP;

HLIMI: TK_WXVA | 'D' TK_WXVA;

A: 'H' 'F';

EWAAI: X DA | TK_MX JFP 'Z' GFG A;

B: TK_VP 'N' | TK_HMMK TK_RNCR | TK_VP TK_LGOZR FMR TKXV | TK_URP 'M' TKXV EWAAI;

UGBRD: WUNI TK_HMMK 'F' TK_XIU GFG | ZDA YFQ TK_AKTAS | TK_LGOZR HT FMR GFG | TK_URP HLIMI LQPB | ;

G: TK_TJJ VGPV XBF TK_HMMK | HT TK_PHA TK_CI 'F' 'J' | G TK_AKTAS TK_DHP TK_PPEG | WUNI LQPB 'D' GNX | TK_GK ND TK_HMMK UGBRD;

FMR: TK_GK VGPV VGPV TK_XIU LQPB | ND TK_JCZ B;

X: TK_OXX 'M' X | DA 'Z' HLIMI LQPB 'H' | ZMIW HLIMI DA | XBF HT 'N' | JFP;

DA: X | TK_YRFMC HT TKXV TK_RNCR | TKXV WUNI | EWAAI 'N' TK_RNCR 'F';

GFG: 'M';

