%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: TK_PHA TK_RNCR TK_GK ZMIW TK_PPEG | TK_XZWO TK_RNCR | TK_PPEG | TK_WXVA X | UGBRD AB ND ND;

HGYO: TK_TGORN | JFP TK_HMMK TK_VP 'H' TK_YRFMC | ;

GNX: TK_HMMK UGBRD | 'F' YFQ HGYO | TK_TJJ FMR JFP TK_XZWO 'J';

DE: GFG XBF | TK_TGORN TK_PPEG | VGPV AB X;

HT: TK_OXX JFP TK_MX 'D';

VGPV: HLIMI EH TK_WXVA HLIMI TK_TGORN | TK_LGOZR EH GFG TK_URP | TK_AKTAS GNX | TK_XIU EWAAI;

ZMIW: AB TK_WXVA | EH LQPB | 'F' | 'H' G;

HC: TK_HMMK DE 'H' TK_TGORN | 'D' TK_LGOZR VGPV;

XBF: 'N' | TK_XZWO GFG VGPV TK_TJJ | EWAAI A NQ ZMIW | JFP TK_OXX G DE | FMR TK_VP;

ZDA: 'N' TK_DHP | AB WUNI 'M' TK_AKTAS TK_TJJ | TK_DHP TK_TJJ | 'M' TK_XZWO X TK_XIU | TK_LGOZR ND;

AB: FMR TK_GK;

EH: A TK_MX TK_LGOZR | GNX TK_DHP NQ | TK_AKTAS FMR FMR;

JFP: DE HT TK_GK TKXV | GFG TK_PHA TK_TJJ | TK_HMMK HLIMI G | DA UGBRD TK_DHP HT;

TKXV: TK_TJJ TK_HMMK EH | B JFP | TK_GK HGYO | TK_XX HGYO VGPV TK_NWGA 'M';

LQPB: ZDA ZDA 'Z' 'D' | 'Z' | TK_XX | 'F' TK_PPEG;

ND: 'N' | ;

YFQ: TK_OXX HT FMR TKXV DE | NQ TK_TGORN TK_TGORN TK_TGORN | GNX X 'J' JFP X | TK_XIU FMR 'D' EWAAI G;

WUNI: TKXV G | HGYO TK_PPEG UGBRD | ;

NQ: YFQ B TK_PHA GFG | TK_GK 'D' YFQ HGYO 'D' | 'N' | TK_LGOZR TK_AKTAS TK_OXX XBF B;

HLIMI: 'D' TK_URP TK_YRFMC TK_YRFMC | TK_PHA | HC;

A: EWAAI TK_AKTAS HC VGPV | TK_MX | TK_XX TK_RNCR TK_XX HLIMI TK_XX | TK_TGORN VGPV | FMR EWAAI GNX TK_VP 'J';

EWAAI: GFG TKXV ND TK_AKTAS | 'N' LQPB TK_XZWO TK_WXVA TK_PPEG | YFQ TK_URP UGBRD | TK_NWGA;

B: 'F' FMR UGBRD GNX TK_RNCR | 'M' 'H' TK_TGORN TK_XX | YFQ HT | YFQ | ;

UGBRD: G;

G: X ZDA TK_TJJ JFP | TK_VP ZDA TK_WXVA HT | TK_VP 'M' TK_MX | TK_TGORN DE DA | VGPV DA HLIMI TK_TJJ;

FMR: 'Z' UGBRD ND DE LQPB | 'H' FMR ZDA | NQ;

X: TK_XX TK_MX TK_PHA | 'N';

DA: B | GNX TK_DHP TK_XIU | TK_URP DA VGPV XBF | TK_OXX GFG DA;

GFG: G X X HC TK_OXX | TK_YRFMC TK_RNCR TK_AKTAS G | LQPB WUNI TK_LGOZR | YFQ | HT TK_LGOZR A X 'J';

