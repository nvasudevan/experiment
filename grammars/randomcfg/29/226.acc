%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: JFP HT TK_TGORN EH TK_XZWO | TK_PPEG | TKXV EWAAI 'D' TK_MX | WUNI TKXV;

HGYO: B GFG | B;

GNX: 'D' TK_TJJ DA X HLIMI | YFQ 'D' | JFP TK_JCZ TK_TJJ TK_VP HLIMI;

DE: LQPB EH WUNI | VGPV FMR;

HT: LQPB | TK_MX TK_PPEG TK_CI | TK_VP HC VGPV | TK_TGORN XBF | ;

VGPV: GFG X TK_YRFMC HLIMI UGBRD | X XBF | TK_RNCR ND ND;

ZMIW: TK_RNCR TK_XZWO GNX | LQPB TK_LGOZR DE TK_GK WUNI;

HC: TK_JCZ ZDA | HLIMI A TK_WXVA;

XBF: NQ EH TK_WXVA DA YFQ;

ZDA: A | VGPV 'F' TK_XZWO TK_MX | JFP 'Z' X;

AB: AB 'Z' 'D' TK_XIU GNX | TK_XIU TK_VP TK_XIU TK_JCZ | TK_AKTAS TK_TGORN TK_PPEG HGYO | TK_JCZ TK_WXVA TK_HMMK TK_VP ZDA | TK_XZWO TK_CI TK_URP;

EH: TK_RNCR 'H' DA VGPV XBF | TK_PHA TK_AKTAS TK_LGOZR TK_LGOZR;

JFP: TK_HMMK TK_TJJ | TK_AKTAS TK_WXVA | ;

TKXV: HLIMI | 'D' TK_HMMK;

LQPB: HLIMI TK_AKTAS TK_MX YFQ TK_TGORN;

ND: TK_VP TK_URP | TK_CI TK_URP TK_HMMK;

YFQ: WUNI TK_TGORN TK_CI | DE | TK_DHP G TK_LGOZR TK_HMMK LQPB | TK_NWGA TK_GK | ND GFG 'M' VGPV;

WUNI: TK_GK VGPV | GNX TK_LGOZR | YFQ 'M' 'Z' HC | TKXV TK_WXVA | LQPB TK_XIU 'F';

NQ: 'F' G DE EH UGBRD | YFQ A TK_WXVA | FMR | ;

HLIMI: EWAAI TK_GK TK_TGORN | AB TK_MX TK_DHP;

A: HC TK_GK HGYO;

EWAAI: 'M' TK_PPEG GNX TK_MX | G | TK_CI TK_TGORN 'M' | 'D';

B: 'Z' UGBRD TK_TGORN TK_YRFMC | TK_URP TK_AKTAS LQPB XBF TK_PHA;

UGBRD: 'Z' ND FMR ZMIW | 'H' TK_VP | TK_PPEG TK_PHA X | TK_HMMK TK_HMMK;

G: TK_PPEG 'M' TK_XZWO | TK_AKTAS TK_DHP 'N';

FMR: TKXV TK_TJJ DE TK_YRFMC TK_AKTAS | A TK_WXVA TK_XX 'H' 'M' | DE TKXV TK_CI AB | HLIMI TK_XZWO ND;

X: TK_RNCR GFG JFP;

DA: 'N' TK_URP ZMIW HT;

GFG: DA VGPV DE | A | VGPV FMR 'Z' TK_MX FMR;

