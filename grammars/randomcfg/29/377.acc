%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: AB HT WUNI | TK_LGOZR | HT HC UGBRD TK_PPEG | TK_TGORN;

HGYO: HC | TK_JCZ TK_MX HGYO XBF HGYO | ;

GNX: HC TK_HMMK TK_GK TK_AKTAS;

DE: B 'D' TK_WXVA TK_GK YFQ;

HT: TK_MX LQPB TK_AKTAS ZDA;

VGPV: EWAAI GNX EWAAI YFQ X | GFG | TK_TJJ | TK_XX DE TK_LGOZR;

ZMIW: UGBRD HT;

HC: TK_XIU TK_MX TK_MX UGBRD TK_RNCR | DE ZMIW TK_AKTAS GFG VGPV | X TK_WXVA JFP 'H' | TK_XX TK_TJJ TK_NWGA WUNI WUNI | TK_TJJ G;

XBF: TK_TJJ VGPV HLIMI TK_DHP | 'Z' DA TK_JCZ TK_DHP | XBF 'F' HC EH;

ZDA: B WUNI DE | TK_DHP | ;

AB: X TK_MX | DE FMR NQ | 'N' TK_AKTAS UGBRD TK_DHP;

EH: TKXV ND | DA | TK_NWGA TK_TGORN TK_HMMK TK_NWGA | TK_YRFMC TK_PPEG EH ZMIW TK_PHA | TK_DHP;

JFP: TK_XIU TK_WXVA HLIMI | LQPB WUNI A TK_AKTAS TK_TJJ | LQPB TK_OXX TK_HMMK TK_LGOZR ZDA;

TKXV: TK_OXX | TK_JCZ ND DA | TK_VP TK_URP TK_RNCR ZDA;

LQPB: EH TK_XX | TK_OXX A;

ND: TK_YRFMC TK_PHA TK_CI GFG TK_PPEG | TK_CI NQ TK_DHP TK_PHA | HC | FMR | TK_LGOZR WUNI ZDA;

YFQ: 'D' TK_DHP 'F' G | 'J' 'D' ND 'D' 'Z' | TK_GK | XBF TK_PPEG;

WUNI: HLIMI 'J' TK_OXX DE;

NQ: 'Z' TK_HMMK GNX;

HLIMI: 'Z' | 'H';

A: GNX | TK_PPEG EH TK_PHA DE;

EWAAI: TK_YRFMC VGPV | WUNI LQPB HT;

B: WUNI X ZDA YFQ TK_XIU | VGPV 'D' ZDA ZDA | HLIMI AB DE HLIMI | TK_YRFMC TK_URP TK_DHP TK_MX | TK_XX FMR TK_LGOZR TK_HMMK;

UGBRD: EWAAI A A | 'H' TK_XX ZMIW TK_URP | HC 'N' | HC DE TK_XIU TKXV | TK_LGOZR LQPB LQPB EH TK_TJJ;

G: HT | DA GFG VGPV TK_PHA DE | TK_GK TK_XIU | YFQ;

FMR: TK_MX TK_MX | TK_XX 'J' GFG TK_URP TK_CI | TK_RNCR 'J' TK_GK TK_HMMK | TK_OXX TK_JCZ | ;

X: WUNI | TK_OXX HC | TK_AKTAS EWAAI XBF TK_PHA TK_CI | TK_XZWO TK_URP A TK_PHA TK_XX | XBF GFG G ZDA;

DA: 'Z' TK_TJJ TK_RNCR;

GFG: A DA TK_PPEG WUNI | XBF TK_JCZ TK_AKTAS TK_HMMK | EH | ;

