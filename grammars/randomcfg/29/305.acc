%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: 'M' TK_PHA | B 'H' FMR G | DE UGBRD EH | LQPB LQPB 'Z' 'H' HLIMI | TK_AKTAS TK_XZWO TK_HMMK;

HGYO: AB TK_RNCR NQ | ZMIW | TK_RNCR HLIMI TK_XIU HC HGYO | B TK_XX 'F' | 'N' TK_JCZ X;

GNX: 'N' X;

DE: TK_URP ND AB XBF AB;

HT: TK_PPEG TK_NWGA HC EWAAI NQ | JFP TK_GK NQ TK_JCZ | 'H' TK_YRFMC GNX GNX A | VGPV ZDA 'N' TK_XIU | ;

VGPV: 'N' WUNI GNX WUNI GFG | HLIMI TK_TGORN | 'H' LQPB | YFQ TK_CI | TK_AKTAS TK_XIU G ND GFG;

ZMIW: TK_AKTAS EWAAI TK_PHA ND TKXV | ;

HC: WUNI EWAAI 'N' TK_RNCR | TK_PHA TK_JCZ | TK_PPEG TK_XX NQ TKXV TK_MX;

XBF: TK_TJJ X HGYO YFQ TK_NWGA | B | 'Z' AB | ;

ZDA: WUNI TK_AKTAS JFP VGPV | VGPV YFQ TK_DHP TK_OXX EH | TK_CI YFQ | NQ TK_XIU ND 'J' XBF;

AB: TK_PHA TK_HMMK 'N' TK_AKTAS | TK_WXVA NQ | 'N' TK_HMMK TK_XIU | TK_TGORN TK_RNCR HC;

EH: TK_WXVA | WUNI TK_CI JFP 'F' | UGBRD | TK_XIU FMR JFP NQ B;

JFP: AB TK_MX NQ ZDA | ZMIW DA | B EH HGYO | HGYO | TK_AKTAS;

TKXV: 'H' | 'N' DA 'Z' 'Z' XBF | ND JFP JFP TK_XIU UGBRD;

LQPB: TK_OXX TK_XIU GNX TK_XZWO ZMIW | TK_NWGA TK_YRFMC ZDA | TK_XX TK_TGORN 'H' B;

ND: 'H' AB TK_NWGA TK_URP | TK_OXX | UGBRD XBF TK_XX GNX | HC FMR TKXV X GFG;

YFQ: TK_XX | 'H' TK_JCZ 'D' 'F' | TK_TJJ GNX TK_WXVA B XBF;

WUNI: 'J' TK_JCZ HC ZDA ZMIW | AB TK_DHP 'M' 'D';

NQ: LQPB X DE;

HLIMI: LQPB TK_XIU;

A: 'Z';

EWAAI: TK_PPEG X TK_XX A 'Z' | FMR TK_NWGA EH 'J' TK_NWGA | LQPB 'M';

B: TKXV UGBRD 'Z' | TK_TJJ 'N' TK_NWGA | TK_PHA 'N' X;

UGBRD: HGYO TK_NWGA TK_XIU TK_PPEG | TK_HMMK TK_WXVA | WUNI TK_WXVA | TK_RNCR TK_OXX TK_TJJ HLIMI UGBRD | XBF TK_TGORN UGBRD WUNI A;

G: FMR 'N' TK_YRFMC | TK_LGOZR 'J' | 'H' A TK_XZWO | TK_PPEG TK_URP;

FMR: 'M' VGPV ZDA | TK_TGORN UGBRD TK_DHP G | TK_URP TK_VP B 'Z' LQPB | ZMIW X DA XBF | HT TK_AKTAS;

X: EH A | TK_OXX VGPV TK_PHA;

DA: TK_HMMK ZMIW TK_YRFMC A | ND XBF GFG EWAAI;

GFG: TKXV TK_OXX TK_JCZ 'F' TK_XZWO | ZDA 'N' | ;

