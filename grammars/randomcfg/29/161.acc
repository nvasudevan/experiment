%token TK_XIU, TK_HMMK, TK_TJJ, TK_YRFMC, TK_OXX, TK_PPEG, TK_DHP, TK_GK, TK_MX, TK_VP, TK_URP, TK_LGOZR, TK_CI, TK_PHA, TK_RNCR, TK_NWGA, TK_AKTAS, TK_JCZ, TK_WXVA, TK_TGORN, TK_XZWO, TK_XX;

%nodefault

root: 'J' FMR 'J' UGBRD;

HGYO: NQ | TK_WXVA UGBRD | G ZDA 'N' | VGPV 'D' 'Z' 'Z' | TK_DHP 'F' UGBRD TK_HMMK;

GNX: TK_LGOZR | TK_VP | YFQ NQ YFQ | TK_MX FMR GNX TK_PHA;

DE: TK_RNCR;

HT: EH TK_LGOZR TK_VP 'D' WUNI | EH | TK_NWGA | TK_RNCR TK_HMMK | TK_AKTAS A TK_NWGA;

VGPV: X FMR HT TKXV 'N' | LQPB TK_TJJ | GFG A | TK_DHP HGYO TK_GK HLIMI;

ZMIW: ND TK_DHP TK_LGOZR TK_DHP;

HC: HLIMI AB | TK_CI YFQ TK_OXX TK_GK TK_AKTAS | 'Z' ZMIW GFG TK_XX | HT | EWAAI XBF;

XBF: JFP | TK_XZWO TKXV WUNI TK_DHP TK_WXVA | TK_LGOZR | NQ JFP FMR TK_JCZ | VGPV TK_GK TK_NWGA TK_MX;

ZDA: GNX EH TK_PHA;

AB: 'M' TK_AKTAS TKXV A G | TK_MX DE LQPB X;

EH: TK_YRFMC 'D' TK_DHP | 'D' TK_AKTAS TK_AKTAS GNX;

JFP: G ZMIW 'Z' HC VGPV | ;

TKXV: JFP TK_TGORN | TK_WXVA | EH TK_JCZ DE TK_WXVA | XBF AB B LQPB TK_PHA;

LQPB: YFQ VGPV ZMIW EWAAI 'N';

ND: GFG FMR TK_XZWO 'D' WUNI | 'N' TKXV TK_LGOZR ZMIW | TK_JCZ TK_WXVA VGPV LQPB EWAAI | DE JFP WUNI UGBRD 'M' | TK_GK TK_DHP;

YFQ: EH EWAAI LQPB 'F' VGPV | TK_XIU JFP 'N' 'M';

WUNI: DE 'D' ZMIW HGYO | TK_GK B GFG | TK_TGORN HLIMI B JFP TK_MX | GFG JFP VGPV | ;

NQ: A TK_AKTAS 'Z' TK_JCZ TK_AKTAS | TK_URP TK_TGORN A TK_PHA | ;

HLIMI: TK_MX TK_YRFMC | TK_RNCR ZDA FMR TK_CI | TK_YRFMC GNX TK_TGORN TK_GK TK_XX;

A: TK_OXX TK_RNCR ZMIW TK_XIU 'F' | GFG TK_CI TK_OXX TK_AKTAS;

EWAAI: 'F' TK_DHP TK_PHA TK_CI HT;

B: TK_WXVA TK_HMMK | NQ LQPB UGBRD | 'J' YFQ;

UGBRD: 'M' FMR TKXV JFP TK_XX;

G: TK_MX X TK_WXVA TK_PHA HLIMI;

FMR: ZMIW LQPB;

X: TK_MX TK_JCZ TK_JCZ | X 'D';

DA: YFQ FMR TK_XZWO TKXV | HGYO HLIMI DE | 'F' A DA;

GFG: TK_WXVA TK_AKTAS 'F' | 'Z' TK_PPEG VGPV | TK_XIU HC | 'N' XBF;

