%token TK_CLNZ, TK_TOWX, TK_GX, TK_XN, TK_NEWGL, TK_RQFTL, TK_MUAU, TK_HPLRB, TK_XVJ, TK_GMM, TK_XVO, TK_CYZEQ, TK_CUY, TK_ZEVGT, TK_AUEZ, TK_YNTKH, TK_QXLHV;

%nodefault

root: TK_XN DVAMJ | 'Q';

BXX: TK_YNTKH NZSVN ERU NZSVN 'N' | 'F' TK_QXLHV GGG;

ERU: TK_QXLHV TK_XVJ BXX TK_CLNZ BDVW | TK_MUAU A TK_YNTKH TK_TOWX | XQDFJ TK_AUEZ TK_RQFTL | NZSVN NWD 'F' EGFWG | TK_HPLRB;

XQDFJ: EGFWG | JB | TK_CUY 'D' NWD;

VLKOS: EGFWG GJPO TK_XVJ | YZ TK_GX | TK_QXLHV GJPO GJPO TK_QXLHV TK_QXLHV | NZSVN GJPO WYKZQ JB TK_QXLHV;

YZ: TK_XVJ TK_CUY ERU DVAMJ | NZSVN NZSVN A GU TK_RQFTL | TK_GMM XGFZ NWD;

HO: TQQY XQDFJ 'D';

NZSVN: HO BXX | TK_NEWGL | DVAMJ TK_NEWGL NZSVN TK_GX | EGFWG 'Z' TK_XN | 'F' TK_ZEVGT TK_RQFTL TQQY TK_ZEVGT;

DVAMJ: VLKOS | BXX A TQQY | TK_ZEVGT TK_YNTKH TK_CLNZ GJPO | TK_XVJ BXX BDVW;

JB: TK_RQFTL XGFZ 'Z' JB 'D' | DVAMJ NWD TK_GX YZ | NZSVN BXX TK_NEWGL;

TQQY: TK_HPLRB TK_AUEZ | ERU | EGFWG TK_TOWX | QRJ A;

BDVW: GGG XGFZ | GGG BDVW | ;

EGFWG: XQDFJ ERU GJPO 'D';

QRJ: DVAMJ TK_XN TK_XVO 'Q' TK_HPLRB | JB TK_RQFTL;

GJPO: NWD GJPO HO 'O' TK_NEWGL | ;

GBJTA: QRJ 'N' TK_ZEVGT | TK_TOWX TK_TOWX;

NWD: WYKZQ VLKOS 'F' BDVW TK_YNTKH | VLKOS UORT;

GGG: TK_CLNZ | 'Q' NWD TK_HPLRB;

A: 'O' VLKOS XGFZ | BXX ERU TK_HPLRB BDVW WYKZQ | WYKZQ | TK_TOWX 'D' TK_GX TK_GX;

WYKZQ: TK_ZEVGT HO JB GBJTA TK_CYZEQ | NWD;

GU: TK_QXLHV BXX VLKOS GJPO 'Q' | TK_CUY ERU TK_NEWGL XGFZ | JB TK_XVO 'N' TK_MUAU | XGFZ 'F' | ;

UORT: NWD GJPO TK_YNTKH TK_XVJ | TK_TOWX NZSVN GGG YZ TK_RQFTL | EGFWG TK_NEWGL XGFZ;

XGFZ: GGG YZ YZ;

