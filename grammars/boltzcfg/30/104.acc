%token TK_WKNZ, TK_ZM, TK_VFJGK, TK_ZN, TK_UBUA, TK_AAF, TK_MJ, TK_QI, TK_OM, TK_YES, TK_MU, TK_YCQP, TK_ZKQD, TK_BFA, TK_MHLI, TK_CV, TK_GXN, TK_ROGO, TK_KJD, TK_JQUO, TK_HSBK, TK_HTE, TK_OOWK, TK_EZPQG, TK_QF;

%nodefault

root: FB;

A: TK_ZM FB CPK | 'K' OWHEK | IAW NMIYD TK_ZKQD TK_ZM TK_VFJGK G TK_BFA RKBM | 'B' 'J';

DMDTD: TK_HTE | OTDUG 'B' FB TK_GXN CPK TK_OM;

CPK: WD UPPN CPK TK_ZN | TK_YES OTDUG | NRJZD TK_HTE | CPK TK_KJD | TK_HTE TK_ZM TK_CV TK_MJ TK_JQUO;

TQUZE: DMDTD | IJ TK_QF WE WE BFC 'K' TK_VFJGK TK_ROGO;

QZHX: UPPN TK_CV TK_CV;

YNIPE: TK_YCQP;

UKYB: TK_ZKQD;

WE: G BFTXF 'B' TK_ZM RKBM;

YXMXX: TK_ZKQD 'J' TK_EZPQG IAW TK_EZPQG | A | TK_HTE TK_HSBK TK_QI 'Y' | 'K' OTDUG YXMXX TK_QI UPPN OTDUG TK_QF;

FB: TK_QI TK_BFA 'K' | PNBA | BFC RKBM TK_YES 'J';

WD: DOFH | TK_AAF | DMDTD TK_HSBK BFC;

RKBM: BFTXF;

UPPN: TK_BFA 'Y' TK_MU TK_ROGO TK_WKNZ IAW DACLQ WD BFC SOV | IJ TK_ZN TK_OOWK TK_CV | YXMXX RAEB DOFH | FB TK_ROGO | TK_AAF TK_YCQP TK_OM TK_BFA;

DOFH: TK_ZM TK_QI TK_OOWK TK_ZM UPPN | TK_OM NRJZD TQUZE TK_AAF 'J' DACLQ BFC TK_YES A TK_WKNZ TK_AAF;

NMIYD:  | TK_KJD TQUZE UPPN A | 'Q';

RAEB: DMDTD NMIYD IJ 'J' | TK_ZN 'B' | TK_HSBK | OQTX QZHX TK_ZKQD TK_QI TK_CV;

OWHEK: TK_YES BFTXF WE TK_QF TK_BFA TK_MHLI | TK_MHLI;

PNBA: G 'Q' TK_ZN PNBA TK_MHLI TK_EZPQG BFC NMIYD DACLQ | PNBA | ;

BFTXF: IJ 'K' | TK_MJ 'Q' TK_VFJGK TK_ROGO TK_EZPQG;

DACLQ:  | WE 'B' 'J' QZHX TQUZE UPPN WE TK_BFA TK_KJD;

NRJZD: BFTXF TK_OOWK IAW TK_UBUA RKBM DOFH | TK_QF TK_AAF FB TK_HTE;

SOV: 'B' UKYB TK_JQUO;

PLJAM: OQTX TK_MJ | DMDTD DACLQ BFTXF NRJZD RAEB TK_UBUA DMDTD NMIYD | TK_ZN TK_MJ OWHEK;

OQTX: TK_EZPQG | RAEB QZHX YXMXX RAEB | TK_HSBK TK_JQUO IJ;

BFC: TK_JQUO TK_WKNZ RAEB OTDUG | NRJZD YNIPE | 'Y' TK_EZPQG TK_YCQP TK_WKNZ | IJ TK_EZPQG | YXMXX TK_VFJGK;

G: 'B' | TK_HTE TK_QI TK_ZN UKYB TK_OOWK;

OTDUG: OWHEK TK_VFJGK UKYB TQUZE 'Y' TK_ZKQD DACLQ NRJZD | FB;

IJ: FB DOFH 'B' | TK_UBUA | BFC DOFH YNIPE 'Y' A YNIPE TK_QF TK_YCQP TK_ZKQD WD TK_WKNZ;

IAW: WD OWHEK;

