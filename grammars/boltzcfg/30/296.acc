%token TK_WKNZ, TK_ZM, TK_VFJGK, TK_ZN, TK_UBUA, TK_AAF, TK_MJ, TK_QI, TK_OM, TK_YES, TK_MU, TK_YCQP, TK_ZKQD, TK_BFA, TK_MHLI, TK_CV, TK_GXN, TK_ROGO, TK_KJD, TK_JQUO, TK_HSBK, TK_HTE, TK_OOWK, TK_EZPQG, TK_QF;

%nodefault

root: 'K' 'J' PNBA WE 'K' 'Q' DOFH TK_WKNZ TK_OM | A | PLJAM QZHX 'J' TK_YES |  | TK_YCQP TK_BFA TK_HTE;

A: NMIYD TK_MHLI;

DMDTD: A TK_JQUO TK_EZPQG TK_JQUO 'Y' TK_JQUO;

CPK: QZHX TK_HSBK 'J' QZHX DOFH WE WE | TK_MU TK_GXN;

TQUZE: IJ TK_GXN UPPN BFC | TK_MU PLJAM TK_UBUA;

QZHX: PLJAM 'K' TK_QF TK_MU TK_YCQP PLJAM | IAW TK_OOWK TK_YES;

YNIPE: IJ TK_WKNZ BFTXF TK_GXN UKYB | G OQTX TK_AAF SOV;

UKYB: TK_OOWK | TK_OM G TK_GXN | TK_AAF TK_ZN;

WE: PNBA NMIYD DMDTD | 'K' OQTX WD | TK_YCQP G PNBA 'J' TK_YES WE IJ;

YXMXX: TK_HSBK PLJAM OTDUG | TK_EZPQG TK_QI TK_BFA NRJZD G | WD YNIPE | TK_JQUO TK_YES TK_ZM 'Y' TK_YCQP 'Y' | TK_HTE;

FB: WD | TK_CV | TK_CV TK_QF 'K' TK_UBUA TK_MJ | PNBA | CPK PNBA DOFH TK_OM;

WD: DOFH WE BFTXF TK_VFJGK A OWHEK TK_AAF | TK_KJD TK_HSBK SOV;

RKBM: TK_ZN TK_YES | ;

UPPN: NRJZD | RKBM PNBA BFTXF | DACLQ | TK_MJ TK_GXN TK_OM NMIYD;

DOFH: OTDUG TK_ROGO TK_BFA UPPN | YXMXX TK_VFJGK;

NMIYD: NRJZD;

RAEB: TK_AAF TQUZE YNIPE SOV BFC IJ 'Y' 'J' DOFH;

OWHEK: TK_QF;

PNBA: TK_VFJGK TK_EZPQG TK_BFA BFTXF;

BFTXF: OQTX | PNBA TK_KJD CPK TK_AAF TK_ROGO TK_KJD;

DACLQ: UPPN UPPN CPK;

NRJZD: OWHEK IAW TK_BFA | FB 'Q';

SOV: TK_GXN;

PLJAM: NMIYD | TK_QI TK_HTE TQUZE | TK_HSBK TK_WKNZ | IJ NMIYD | YNIPE TK_KJD TK_ZM SOV UPPN TK_VFJGK YNIPE WD;

OQTX: G TK_ZN | G | TK_HTE TK_JQUO DMDTD;

BFC: TK_CV;

G: TK_BFA;

OTDUG: UKYB;

IJ: TK_BFA TK_AAF 'Y' TK_JQUO TK_MJ;

IAW: TK_JQUO;

