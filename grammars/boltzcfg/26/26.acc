%token TK_OG, TK_BEF, TK_UJLV, TK_VCK, TK_GKVHL, TK_HXT, TK_GWHYQ, TK_UYRD, TK_EV, TK_VOOZ, TK_WU, TK_CTCG, TK_FRDLX, TK_MNHRN, TK_JKHH, TK_TTFHA, TK_ZXP, TK_HWUF, TK_QKXNU, TK_YAU;

%nodefault

root: TK_WU TK_EV | TK_YAU | TK_EV | LNC JCYGE TK_UYRD POYB CTHD;

JCYGE: TK_UJLV | EIHSS 'X' TK_TTFHA | TK_TTFHA;

PRYRB: VDNEA CTHD POYB TK_QKXNU LNC TK_GKVHL ODE PTU | TK_GWHYQ | TK_FRDLX WH DBEIE TK_GKVHL;

DBEIE: USU | DBEIE 'S';

WJ: TK_UJLV;

JR: TK_OG ODE EIHSS SPK TK_ZXP VGKQT FE |  | WJ LNC USU TK_ZXP TK_UJLV TK_TTFHA TK_ZXP I;

WH: TK_WU;

USU: GIBC 'N';

YGTFS: 'N' TK_QKXNU;

FE: PRYRB | TK_HXT | WJ;

WVBBE: TK_UYRD TK_WU | 'U' CTHD | ZIDGE C;

ZIDGE: B ZIDGE JR I TK_EV TK_HWUF TK_QKXNU JCYGE B 'P' | TK_EV;

ZFSL: TK_FRDLX;

POYB: WH TK_JKHH I ZIDGE | WVBBE TK_VCK TK_FRDLX TK_ZXP WH | VDNEA | FE | GIBC I TK_GKVHL JR TK_YAU;

SPK:  | I TK_OG TK_UJLV PRYRB;

VDNEA: TK_QKXNU WJ B ZIDGE WH 'N' | ODE;

PTU: TK_JKHH;

ODE: DBEIE 'S' TK_BEF TK_OG 'X' | JR B | 'P' YGTFS | ZIDGE TK_CTCG ZIDGE TK_WU SPK | TK_HWUF;

LNC: TK_UYRD 'X';

EIHSS: TK_CTCG I |  | JR FE | TK_YAU WH TK_BEF;

C: TK_GWHYQ TK_GKVHL ODE;

B: 'U' | 'X' TK_UJLV FE TK_VOOZ C TK_BEF | WVBBE;

GIBC: JCYGE SPK TK_VOOZ TK_JKHH FE TK_YAU YGTFS WJ | ZIDGE | TK_TTFHA TK_OG VDNEA YGTFS LNC | YGTFS 'U' POYB TK_QKXNU TK_EV CTHD;

VGKQT: VDNEA 'X' 'S' ZFSL | 'X' TK_VOOZ;

I: JR | TK_JKHH | 'U' SPK TK_QKXNU TK_OG TK_OG TK_QKXNU JR 'U' PTU TK_VCK TK_MNHRN;

CTHD: PRYRB VGKQT CTHD | ZIDGE TK_TTFHA | TK_QKXNU | TK_TTFHA;

