%token TK_EVCU, TK_GVREV, TK_SMXG, TK_LZQ, TK_EA, TK_WFBEQ, TK_NXENT, TK_ZGOHT, TK_CI, TK_QG, TK_CM, TK_RFQDK, TK_NV, TK_IMOQ, TK_OP, TK_ANKNG, TK_ZZNMY, TK_OYNII, TK_GZY, TK_EYJGV, TK_ZF;

%nodefault

root: KSY LPW | TK_QG;

AC:  | STPZ MSNXS TK_ANKNG TK_IMOQ TK_CI TK_OP 'I' JHGT TK_ZZNMY G TK_IMOQ;

SNWU: MOUF TK_QG MOUF JVYSL TK_EVCU TK_GVREV MSNXS;

BO: TK_GVREV | SNWU EL EL TK_OP TK_CM GT MSNXS | KSY;

KSY: YLYHO GT SNWU TK_SMXG SOOYB AC 'F' TK_IMOQ EL BO | TK_RFQDK TK_IMOQ TK_OP | JHGT 'O' GT TK_ZF GT TK_CI 'V' BFOWD TK_NV 'W' KSY TK_ZGOHT EL JVYSL TK_IMOQ TK_NXENT BFOWD YLYHO TK_QG | ;

BNY: 'V' | TK_WFBEQ;

YLYHO: TK_WFBEQ TK_LZQ JVYSL MOUF MSNXS G BO TK_LZQ STPZ | ZQROP;

ZSD: G | TK_NXENT | D UGOY TK_SMXG | MOUF;

STPZ: LPW BO ZSD TK_GVREV BNY YLYHO KAAIK STPZ BFOWD 'W' | SOOYB TK_EVCU;

MSNXS: 'I' SNWU | EL TK_ANKNG | 'I' | LPW;

SOOYB: DXZDQ TK_CM | TK_ZGOHT TK_GVREV | TK_EA 'F' TK_NV TK_CM D JPNRY 'V' 'Z' TK_NV TK_NV TK_IMOQ TK_WFBEQ YLYHO EL TK_QG TK_OYNII 'Z' JHGT TK_LZQ BO;

JHGT: KAAIK D MOUF | BO | AC TK_CM | 'P' KSY LPW AC MOUF TK_ZGOHT TK_ZGOHT | ;

NK: OJWZ | TK_EA KAAIK ZSD LPW BNY | MSNXS ZN | 'I' ZQROP;

JPNRY: TK_EA TK_OP DXZDQ ZSD NK BO TK_EVCU 'F' JPNRY | LX JHGT 'P';

BFOWD: TK_CM NK;

KAAIK: BO 'W' STPZ;

ZQROP: TK_SMXG 'X' TK_OP;

DXZDQ: ZN GT | KSY STPZ TK_ZGOHT NK TK_WFBEQ TK_ZF JVYSL ZN;

OJWZ: JPNRY GT;

JVYSL: YLYHO LPW TK_CM TK_IMOQ 'I' JHGT TK_RFQDK | NK EL;

LX: KSY;

EL: NK TK_GVREV 'F' TK_SMXG 'W' | STPZ TK_QG AC MSNXS BNY | MSNXS TK_QG | TK_EYJGV | TK_OP;

ZN: NK;

GT: TK_EYJGV LPW BO;

MOUF: 'Z' JHGT;

G: TK_LZQ TK_EVCU | TK_ZZNMY SOOYB TK_GZY TK_OYNII D NK | JVYSL BNY TK_GZY STPZ JVYSL | TK_ANKNG TK_IMOQ 'O' ZSD;

LPW: TK_OYNII;

D: MSNXS TK_CM BO SOOYB BNY;

UGOY: TK_GZY TK_CI TK_EA DXZDQ LX GT TK_GVREV | LX BO 'W' JPNRY ZSD TK_IMOQ 'O' TK_OYNII GT 'Z' | TK_ZGOHT JHGT LX 'W' 'V' KSY BFOWD | 'W' SNWU;

