%token TK_EVCU, TK_GVREV, TK_SMXG, TK_LZQ, TK_EA, TK_WFBEQ, TK_NXENT, TK_ZGOHT, TK_CI, TK_QG, TK_CM, TK_RFQDK, TK_NV, TK_IMOQ, TK_OP, TK_ANKNG, TK_ZZNMY, TK_OYNII, TK_GZY, TK_EYJGV, TK_ZF;

%nodefault

root: SOOYB UGOY BFOWD TK_RFQDK JVYSL TK_CM TK_QG JPNRY TK_RFQDK;

AC: JHGT;

SNWU: D DXZDQ MSNXS SOOYB OJWZ TK_IMOQ BFOWD | JPNRY TK_OYNII MOUF 'X' TK_OYNII | G TK_IMOQ | 'Z' | TK_EVCU SOOYB DXZDQ SNWU KSY 'I' 'X' KSY 'P';

BO: 'V';

KSY: TK_NXENT BO KAAIK TK_NV TK_ZZNMY TK_IMOQ;

BNY: NK TK_CM;

YLYHO: KSY AC KSY ZSD;

ZSD: MOUF UGOY | ZN TK_CI;

STPZ: BFOWD TK_EYJGV TK_EYJGV 'V' TK_OP BFOWD;

MSNXS: TK_CM | 'F' SNWU ZQROP ZQROP GT | YLYHO MOUF TK_NXENT TK_ZF YLYHO;

SOOYB: 'V' GT 'V' TK_QG BO | GT TK_RFQDK;

JHGT: 'Z' | BNY BFOWD TK_GVREV TK_NV | BNY OJWZ TK_QG LPW | TK_RFQDK 'I';

NK: YLYHO;

JPNRY: TK_SMXG;

BFOWD: TK_SMXG 'V' |  | EL;

KAAIK: EL | TK_OYNII | BNY TK_EA;

ZQROP: GT STPZ GT TK_RFQDK | 'P';

DXZDQ: TK_OYNII;

OJWZ: TK_EVCU TK_NXENT | TK_EVCU JHGT 'X' 'I' SOOYB 'P' OJWZ UGOY TK_ZGOHT | BFOWD D | OJWZ DXZDQ 'Z' TK_CM KAAIK | NK;

JVYSL: LX | YLYHO ZQROP JPNRY | TK_WFBEQ TK_NXENT;

LX: G TK_LZQ ZQROP NK | SNWU | EL SOOYB | UGOY 'V';

EL: TK_EA KAAIK 'Z' TK_ZZNMY LX KAAIK |  | TK_NXENT YLYHO STPZ MSNXS | TK_IMOQ 'F' OJWZ;

ZN: TK_CI LX JPNRY G TK_EA KAAIK D 'I' BO TK_GZY TK_QG TK_CM | TK_ZZNMY;

GT: SOOYB D | ZN | AC MSNXS 'Z' MOUF TK_ZGOHT TK_EA SOOYB 'F' LX 'W' D OJWZ | 'I' TK_EYJGV TK_GZY TK_GZY MOUF;

MOUF: BNY | BO DXZDQ TK_RFQDK JVYSL BFOWD TK_EYJGV KSY | D GT JHGT | SOOYB | JHGT GT TK_QG D 'X' TK_ZZNMY ZSD TK_CM;

G: LPW;

LPW: TK_GZY | 'X' TK_ANKNG TK_ANKNG KSY;

D: YLYHO TK_EA BNY | TK_EYJGV TK_LZQ;

UGOY:  | TK_ANKNG;

