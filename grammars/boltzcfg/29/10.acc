%token TK_EVCU, TK_GVREV, TK_SMXG, TK_LZQ, TK_EA, TK_WFBEQ, TK_NXENT, TK_ZGOHT, TK_CI, TK_QG, TK_CM, TK_RFQDK, TK_NV, TK_IMOQ, TK_OP, TK_ANKNG, TK_ZZNMY, TK_OYNII, TK_GZY, TK_EYJGV, TK_ZF;

%nodefault

root: KSY;

AC: NK GT LPW GT YLYHO OJWZ | KAAIK TK_LZQ;

SNWU: NK NK | TK_EYJGV;

BO: NK STPZ TK_GVREV TK_RFQDK SOOYB ZN;

KSY: TK_ZGOHT BNY | TK_EYJGV 'Z' | TK_QG 'F' GT KSY 'Z' | G;

BNY: TK_LZQ TK_OYNII NK;

YLYHO: TK_ANKNG TK_OP JPNRY TK_OP TK_EA;

ZSD: UGOY TK_ZF TK_OP BFOWD;

STPZ: TK_NV;

MSNXS: JHGT | OJWZ TK_NV G STPZ BNY | MSNXS YLYHO | TK_ANKNG TK_EA TK_LZQ SNWU TK_ZGOHT;

SOOYB: 'X' ZN 'P' | TK_SMXG | TK_EVCU KSY;

JHGT: KAAIK SNWU TK_EA DXZDQ TK_LZQ LPW TK_CM | JPNRY;

NK: KSY TK_OYNII TK_NXENT TK_CI TK_RFQDK EL TK_NV TK_ZGOHT;

JPNRY: NK 'I' | STPZ | ZQROP | JVYSL MOUF JVYSL;

BFOWD: KSY BO YLYHO | 'I' SNWU 'I' GT 'O' TK_CI 'X';

KAAIK: TK_SMXG 'X' AC TK_OP D | TK_RFQDK DXZDQ TK_OYNII OJWZ GT EL 'O' |  | OJWZ | SNWU TK_GZY MSNXS;

ZQROP: 'X' BFOWD DXZDQ TK_LZQ | JVYSL ZQROP | 'W' TK_RFQDK TK_EA | ZSD TK_OYNII SOOYB;

DXZDQ: UGOY | TK_LZQ TK_GVREV ZN | D YLYHO;

OJWZ: BNY 'W' LX | ZN ZQROP 'I';

JVYSL: TK_EVCU TK_OP JHGT | TK_CM | JPNRY 'V' 'W' TK_EVCU OJWZ AC ZQROP BNY | TK_ZGOHT | ;

LX: KAAIK G KAAIK | TK_RFQDK | LPW 'I' YLYHO NK TK_EVCU;

EL: TK_ANKNG | JVYSL 'F' TK_ANKNG JHGT MSNXS;

ZN: 'P' SOOYB 'P' KSY 'X' TK_LZQ 'Z' BFOWD TK_RFQDK ZQROP TK_OP TK_IMOQ BNY;

GT: TK_EA TK_LZQ BNY SOOYB TK_OYNII KSY TK_OYNII 'O' 'P' | KAAIK TK_NV | TK_CI DXZDQ | TK_EVCU ZQROP TK_OYNII 'I' | LX TK_GVREV;

MOUF: TK_ZGOHT MOUF STPZ TK_EVCU D | JVYSL SNWU TK_NV TK_ZGOHT ZN JVYSL LX TK_RFQDK | TK_WFBEQ NK;

G: TK_CM 'Z';

LPW: TK_ANKNG AC TK_ZZNMY TK_IMOQ 'P' 'X' LX | TK_GZY;

D:  | 'Z' D JPNRY G;

UGOY: TK_EYJGV TK_NV | MSNXS 'I' SNWU OJWZ | TK_WFBEQ BNY LX 'O' TK_GZY BO;

