%token TK_BCCD, TK_QWOLW, TK_ITMN, TK_QOQRV, TK_PUF, TK_LKER, TK_BQLE, TK_MSTLG, TK_FFH, TK_LGP, TK_WFIX, TK_GYRJ, TK_WRFR, TK_EDGAV, TK_QOXM, TK_PAPCN, TK_UHK, TK_PLN, TK_WPHG, TK_RHB, TK_GAUG, TK_VJXI, TK_SLA;

%nodefault

root: TK_MSTLG;

VMFVA: TK_BCCD 'V' | HNKT QGGLT XWLJH SVEV;

QQVLR: 'U' DWOHH;

QGGLT: 'P' | HNKT 'U' C TK_FFH | TK_QOXM TK_BCCD TK_VJXI 'Y' SVEV | FWNHO | QGGLT TK_VJXI QOUON TK_UHK TK_EDGAV TK_RHB;

KUKAA: TK_PUF TK_GAUG TK_GYRJ HPXH;

TPFK: TK_GAUG | CGM CTOVJ | XRBJ ZRJAZ W 'N' ZRJAZ W;

SVEV: TK_WFIX TK_GAUG | TPFK XWLJH CGM SVEV;

HNKT: AY;

HPXH: 'J' TK_QOXM TK_EDGAV AY | RTU;

ZRJAZ: PTWV;

QOUON: TK_PAPCN 'Z' NYL | TK_BQLE 'Z' | KUKAA ZRJAZ F RTU KSFQW | TK_WPHG I;

BPP: TK_EDGAV TK_PLN TK_PUF TK_WPHG | NYL 'R';

CTOVJ: TK_LKER TK_PAPCN TK_LKER | TK_QOQRV TK_GYRJ | XRBJ F 'R' QQVLR;

NYL: HPXH TK_QOXM | HNKT KUKAA CGM QGGLT AY TK_LKER TK_RHB TK_WFIX HPXH TK_LKER | TK_QOXM | TK_BQLE I TK_WFIX 'T' TK_QOXM TPFK TK_WFIX BYVHD TK_WFIX ZRJAZ 'Y' | ;

BBFB: AY TK_PUF | MDL TK_MSTLG VMFVA VMFVA | TK_LGP HPXH | TK_PAPCN TK_PLN;

F: C DWOHH 'P';

PTWV: 'J';

CGM: QQVLR HPXH 'R' DWOHH PTWV | TK_WFIX TK_LKER TK_UHK I | TK_LGP TK_MSTLG QQVLR TK_GYRJ VMFVA C 'R' TK_QOQRV VMFVA TK_LGP MDL | TK_GYRJ QVR TK_QOXM CGM NYL QVR PTWV DWOHH KUKAA;

XWLJH: BBFB 'H' FWNHO | CTOVJ PTWV 'T';

XRBJ: 'J' QOUON;

FWNHO: I BPP;

RTU: FWNHO TK_WPHG HNKT;

KSFQW: TK_RHB;

LP: SVEV TK_RHB TK_WRFR;

BYVHD: TK_WFIX LP W | TK_UHK ZRJAZ TK_VJXI HNKT LP 'J' VMFVA HPXH BYVHD BPP MDL QGGLT;

DWOHH: FWNHO C;

QVR: ZRJAZ TK_PLN TK_VJXI 'V' RTU F DWOHH TK_UHK QQVLR;

C: TK_QOQRV TK_WRFR PTWV TK_WFIX LP HPXH CGM ZRJAZ | TPFK 'Z' | TK_UHK VMFVA 'Y' TPFK BYVHD C FWNHO TK_QOXM BYVHD W C TK_QWOLW 'J' ZRJAZ TK_MSTLG 'Y' TK_GAUG FWNHO | TK_BCCD | QOUON LP KSFQW HPXH TK_PLN SVEV TPFK TK_SLA QOUON TK_WRFR;

AZFKF: TK_GYRJ TK_GYRJ TK_FFH LP TK_PUF | ;

I: TK_QWOLW PTWV SVEV TK_MSTLG TK_LGP TK_QOQRV 'T' TK_UHK TK_BCCD TK_EDGAV HPXH 'Z' TK_PUF 'J' TK_RHB MDL CTOVJ CGM KUKAA KSFQW QGGLT | 'U' | DWOHH AY ZRJAZ CTOVJ TPFK TK_SLA AZFKF FWNHO BBFB CTOVJ;

W: I BBFB TK_GAUG SVEV TK_BCCD TK_EDGAV;

AY: TK_BQLE BYVHD TK_EDGAV 'Y' TK_UHK | F 'J' BBFB TK_GYRJ W | TK_PAPCN | TK_EDGAV LP TK_WPHG I FWNHO;

MDL: DWOHH LP | TK_WPHG SVEV 'H' TK_LKER XRBJ TK_LGP;

