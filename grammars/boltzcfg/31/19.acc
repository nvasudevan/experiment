%token TK_ZX, TK_DWVC, TK_YFDF, TK_VVLI, TK_UAPDU, TK_TLPMF, TK_XFKAJ, TK_HSXV, TK_MELY, TK_XA, TK_GY, TK_OJ, TK_GDI, TK_NVQ, TK_MVA, TK_CA, TK_AJXBB, TK_ARUN, TK_MDKUI, TK_VEOL, TK_SW, TK_UW, TK_FWPCQ, TK_QK, TK_MEQL, TK_VIGQ, TK_MJT;

%nodefault

root: 'N' ALHZ TK_GDI;

WWZB: C;

FJB: NSDPQ | LR TK_DWVC TK_VEOL | WWZB TK_FWPCQ WYPW | WYPW LR TK_ARUN | TK_MELY;

PZCBT: TK_NVQ TK_MJT | TR TK_DWVC | 'W';

WU: VK VK VK ECYG TK_VVLI TK_VEOL | ECYG | TK_UAPDU | TK_UW 'N' FG IQSP TK_VEOL LS PZCBT | TK_MELY NSDPQ TK_DWVC JU TK_ZX VK ECYG 'M' TK_MEQL TK_SW TK_GY TK_MELY WYPW;

HTQYD: TK_CA;

TQVY: TK_UW FG TK_ZX;

INUNC: TK_NVQ;

FG: LFYK TK_MJT | TK_TLPMF;

DW: LS FG TK_SW CGO TK_MELY PZCBT TK_UAPDU TK_ZX TK_GY TK_AJXBB;

IPQN: V | FJB | TK_XA 'O' V;

RMV: C 'M' PZCBT 'N' TK_SW | 'W';

OLE: TK_ZX | OLE TK_FWPCQ OAIH CLAZU TK_YFDF OAIH 'W' TK_UW WYPW TK_GY LFYK TK_GY | TK_MVA LS | WU C TK_VVLI TK_UAPDU;

CGO: TK_SW JU TK_MVA TK_MJT IQSP TK_XFKAJ IPQN TK_VIGQ TK_UAPDU TK_SW | V;

OAIH: TK_UAPDU | TQVY;

TR: CGO NF ALHZ TR TK_FWPCQ CLAZU | TK_ZX TQVY | TK_SW;

NF: OLE IQSP DW TK_MVA | NF TR TQVY OAIH VK WU LFYK | TK_VEOL | LFYK WU TK_FWPCQ PZCBT;

ALHZ: TK_VVLI TK_GDI ECYG TK_CA | 'N' TK_GDI IQSP TK_VIGQ | ECYG;

LFYK: YZUJ TK_UW | TK_VVLI WWZB C TK_FWPCQ WYPW TK_AJXBB TK_MELY TK_OJ | TK_AJXBB TK_MJT;

IQSP: OLE PZCBT V TK_MDKUI | VK LS TK_XA WWZB;

LR: TK_OJ;

LS: V TK_ZX | 'M' CGO TK_MDKUI TK_MJT WYPW | TK_HSXV | TR;

JU: TK_HSXV IQSP WU TK_YFDF | TK_QK LR | IPQN;

ECYG: TK_FWPCQ | V | INUNC LR TK_NVQ ALHZ | FG;

YZUJ: OAIH IPQN IQSP TK_VVLI JU | 'W' OAIH INUNC TK_VVLI TK_SW | PZCBT FG TK_VIGQ TK_VVLI | OAIH OLE | TK_MVA TK_OJ;

CLAZU: OAIH TR TK_ZX | TK_MJT 'M' | TK_NVQ | TK_MJT | 'N';

C: 'O' HTQYD TK_UAPDU TK_GDI TQVY TK_XA TK_ARUN LFYK TK_HSXV TK_ARUN TK_UW OAIH | TK_DWVC RMV | YZUJ | NSDPQ WU FJB JU TK_UAPDU TK_UAPDU LS NSDPQ;

NSDPQ: C INUNC TK_XA OAIH TK_ZX;

VK: TK_MELY TR | ALHZ TK_GY TK_MEQL;

V: 'N' TK_DWVC | NF HTQYD | FJB HTQYD | FJB 'N' | TK_AJXBB TK_OJ HTQYD LR;

WYPW: DW OAIH;

