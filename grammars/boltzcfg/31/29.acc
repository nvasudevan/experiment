%token TK_ZX, TK_DWVC, TK_YFDF, TK_VVLI, TK_UAPDU, TK_TLPMF, TK_XFKAJ, TK_HSXV, TK_MELY, TK_XA, TK_GY, TK_OJ, TK_GDI, TK_NVQ, TK_MVA, TK_CA, TK_AJXBB, TK_ARUN, TK_MDKUI, TK_VEOL, TK_SW, TK_UW, TK_FWPCQ, TK_QK, TK_MEQL, TK_VIGQ, TK_MJT;

%nodefault

root: WU WYPW TK_VVLI | 'W' TK_GDI TK_TLPMF;

WWZB: TK_UAPDU ECYG RMV CGO | CLAZU;

FJB: TK_ARUN DW TK_NVQ;

PZCBT: TR TK_MEQL | TK_MDKUI TK_YFDF | ;

WU: TK_VIGQ CGO | DW OLE | TK_YFDF TK_NVQ 'N' TK_YFDF TR C TK_MVA TK_QK | IQSP TK_ZX CLAZU CLAZU VK | ECYG;

HTQYD: TK_VVLI | TK_NVQ ECYG TK_GDI TK_CA | TK_OJ TK_ZX;

TQVY: VK TK_MJT LR IPQN | INUNC | TK_ZX |  | TK_CA YZUJ TQVY 'N' WU TK_MDKUI;

INUNC: NF IQSP TK_XFKAJ | DW WWZB TK_FWPCQ | V 'O';

FG: TK_VIGQ TK_TLPMF OAIH JU FJB FJB JU 'W' OLE TK_GY;

DW: OLE OAIH TK_UAPDU JU TK_YFDF TK_MELY NSDPQ | IPQN OLE | TK_GDI;

IPQN: TK_ZX TK_ZX FJB;

RMV: TK_TLPMF;

OLE: TK_MEQL;

CGO: HTQYD | IPQN TK_QK TK_ARUN TK_GDI TK_MJT V TK_QK | TK_MDKUI C FJB;

OAIH: INUNC TK_UAPDU OAIH | TK_GDI | TK_HSXV TK_VEOL HTQYD | 'M' | WYPW TK_OJ TK_VVLI TR;

TR: TK_CA PZCBT | TK_OJ PZCBT HTQYD 'W' CGO TK_MELY NSDPQ | TK_XFKAJ;

NF: TK_UAPDU | TK_HSXV CLAZU TK_QK LS ECYG | TK_FWPCQ | TK_YFDF IPQN TK_QK V;

ALHZ: HTQYD OLE TK_VIGQ YZUJ 'O' | TK_ZX LS;

LFYK: DW | TK_NVQ WU TK_SW TK_ARUN | TK_TLPMF TK_VVLI;

IQSP: TK_VVLI YZUJ TK_AJXBB 'W' LR FG TK_XA | VK;

LR: OAIH | FG WYPW TK_TLPMF RMV TK_AJXBB | ;

LS: TK_SW TK_GY | WYPW ECYG INUNC FJB | TK_UAPDU | WYPW 'M' TK_ARUN 'M' OAIH;

JU: TK_GDI DW;

ECYG: INUNC;

YZUJ: TK_XFKAJ TK_MJT;

CLAZU: TK_ARUN | ;

C: WU LR TK_SW TK_VVLI 'O' 'W' TR TK_VEOL OLE TK_MELY NF TK_XFKAJ | TR | LS | TK_SW TR CGO TK_UAPDU NSDPQ TK_QK ALHZ CGO;

NSDPQ: FJB TK_DWVC TK_MVA | TK_AJXBB | TK_OJ TK_VIGQ YZUJ JU RMV 'M';

VK: ECYG 'N' TK_CA;

V: 'W' TK_NVQ TK_GDI TK_OJ NSDPQ | 'N' IPQN TK_VEOL JU | TK_MJT TK_DWVC | NF TK_SW | LFYK;

WYPW: TK_XA TK_ARUN | TK_HSXV ALHZ TK_VEOL TK_ARUN INUNC TK_TLPMF NSDPQ | DW DW | HTQYD NSDPQ;

