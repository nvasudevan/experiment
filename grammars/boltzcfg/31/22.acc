%token TK_ZX, TK_DWVC, TK_YFDF, TK_VVLI, TK_UAPDU, TK_TLPMF, TK_XFKAJ, TK_HSXV, TK_MELY, TK_XA, TK_GY, TK_OJ, TK_GDI, TK_NVQ, TK_MVA, TK_CA, TK_AJXBB, TK_ARUN, TK_MDKUI, TK_VEOL, TK_SW, TK_UW, TK_FWPCQ, TK_QK, TK_MEQL, TK_VIGQ, TK_MJT;

%nodefault

root: TK_YFDF | TK_SW | NF | TK_OJ V 'M' | ALHZ TK_GDI;

WWZB: CGO NF YZUJ NF CLAZU TR FJB V CLAZU 'N' TK_TLPMF ECYG CGO TK_MEQL | CGO JU TQVY IQSP TK_QK TK_MDKUI LS | TQVY | INUNC CGO TK_NVQ;

FJB: TK_XA | VK;

PZCBT: TK_UAPDU TK_XA TK_VVLI TK_YFDF OAIH;

WU: TK_HSXV WYPW;

HTQYD: TK_DWVC TK_GY ALHZ VK IPQN TK_MDKUI TK_MELY | TK_TLPMF V 'M' PZCBT RMV TK_YFDF YZUJ TK_VIGQ WU NF RMV TK_CA ECYG;

TQVY: TK_DWVC TR RMV | TK_ZX | FJB | 'N' CLAZU CGO | ;

INUNC: TK_DWVC | LR TK_UAPDU NF C;

FG: V TK_MJT | CGO;

DW: TK_GY TK_AJXBB;

IPQN:  | TK_HSXV 'O' TK_QK;

RMV: TK_MEQL | TK_SW | LFYK FJB TK_XFKAJ RMV FJB NSDPQ;

OLE: C | TK_CA TK_MEQL | TK_MDKUI JU | CLAZU;

CGO: TK_QK;

OAIH: TQVY;

TR: HTQYD;

NF: TK_FWPCQ PZCBT;

ALHZ: TK_NVQ PZCBT | TK_VVLI TK_XFKAJ TK_XA 'W' TK_MDKUI LR YZUJ TQVY TK_NVQ TK_YFDF | PZCBT TK_QK | ECYG;

LFYK: JU TK_VVLI | TK_TLPMF TK_TLPMF 'W' TK_SW | TK_VIGQ TK_AJXBB | CGO VK LR TK_GY TK_OJ | TK_FWPCQ YZUJ TK_VIGQ LR TK_ARUN 'O' TK_XFKAJ TR FJB TK_ARUN IQSP;

IQSP: WU TK_OJ TK_SW | 'M' | TK_OJ LFYK LFYK | 'O' FG JU TK_XA TK_VEOL TR TK_MVA OAIH 'M' | TK_VVLI TK_HSXV;

LR: TK_MJT | FJB TK_CA FG OAIH TK_OJ;

LS: TR;

JU: ECYG 'N' TK_MJT | TK_AJXBB LS | IPQN;

ECYG: IPQN | NSDPQ | LFYK | TK_MDKUI WWZB 'W' FG;

YZUJ: WYPW 'O' | CLAZU CGO WU TK_MJT TK_TLPMF TK_DWVC LFYK 'W' TK_ZX IPQN | NF TK_QK | CLAZU OLE | TK_OJ;

CLAZU: ALHZ YZUJ TK_TLPMF FG TK_UAPDU TK_ARUN 'N';

C: TR ECYG | TK_MEQL TK_MDKUI TK_MDKUI TK_DWVC NSDPQ 'M' TK_CA LS TK_FWPCQ LFYK YZUJ | IPQN DW FG INUNC CLAZU FJB DW LS TK_GDI;

NSDPQ: TK_VIGQ OLE TK_VIGQ | V 'O' V CLAZU 'W' | TK_MJT | TK_AJXBB V OLE TK_HSXV OAIH TK_ZX;

VK: TK_NVQ WYPW LS INUNC TR | TR | YZUJ;

V: TK_FWPCQ TQVY | CGO 'N' | HTQYD LR;

WYPW: YZUJ TK_ARUN ALHZ TK_UW |  | TK_VVLI TR CGO | TK_FWPCQ DW OAIH;

