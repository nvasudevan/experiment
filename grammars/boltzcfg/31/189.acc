%token TK_ZX, TK_DWVC, TK_YFDF, TK_VVLI, TK_UAPDU, TK_TLPMF, TK_XFKAJ, TK_HSXV, TK_MELY, TK_XA, TK_GY, TK_OJ, TK_GDI, TK_NVQ, TK_MVA, TK_CA, TK_AJXBB, TK_ARUN, TK_MDKUI, TK_VEOL, TK_SW, TK_UW, TK_FWPCQ, TK_QK, TK_MEQL, TK_VIGQ, TK_MJT;

%nodefault

root: TK_UW INUNC TK_VVLI | TK_DWVC;

WWZB: RMV 'W' TK_ZX JU CGO | WYPW;

FJB: WYPW TK_FWPCQ | TK_QK TK_VEOL TR LR TR 'W' V CLAZU | TK_ZX TK_TLPMF | DW TK_GDI | TK_UAPDU;

PZCBT: TR TK_MVA | TK_XFKAJ FG | TK_XFKAJ TK_GY;

WU: FJB | JU TK_CA TK_AJXBB TK_ARUN TK_QK CLAZU TK_DWVC | TK_GDI | TK_GY CLAZU IPQN WWZB | TK_MDKUI;

HTQYD: TK_MDKUI TK_MDKUI;

TQVY: NSDPQ TK_ARUN TK_MDKUI HTQYD TK_MJT;

INUNC: TK_MJT ECYG TK_MJT TK_ARUN | DW OLE TK_YFDF | PZCBT TK_MEQL;

FG: TK_HSXV TK_GY | IQSP 'O' WWZB TK_GDI WWZB TK_HSXV TK_CA TK_MVA TK_CA LFYK INUNC TK_GY | FG TK_ARUN | TK_YFDF TK_TLPMF LFYK 'M' 'O' TK_TLPMF TK_VEOL;

DW: CGO | OLE;

IPQN:  | INUNC FG TK_OJ RMV OAIH WYPW TR C | TK_FWPCQ TK_CA VK;

RMV: TK_UW | 'M' VK NF | WWZB | TK_GDI TK_MDKUI TK_UAPDU TK_QK | CLAZU TK_DWVC;

OLE: TK_UAPDU LFYK | TK_ZX;

CGO:  | TK_VVLI TK_HSXV TR TK_NVQ TK_QK ALHZ NSDPQ TK_QK | TK_UW TK_NVQ VK;

OAIH: TK_TLPMF DW RMV YZUJ LR FG PZCBT | CGO | TK_VVLI DW TQVY | 'M' | TK_CA TK_UW TK_VVLI NSDPQ;

TR: JU OAIH | LFYK ECYG DW TK_CA TK_GDI V TR FG 'M' IPQN TQVY TQVY TK_UW TK_TLPMF TK_DWVC NSDPQ | TK_DWVC TK_QK;

NF: WYPW | TK_MDKUI INUNC | TK_NVQ CGO TR RMV TK_UW TK_YFDF | NF LS TK_UW WWZB;

ALHZ: TK_SW YZUJ 'O' TK_CA IQSP;

LFYK: TK_TLPMF TK_ARUN;

IQSP: YZUJ;

LR: PZCBT TK_VVLI TK_YFDF TK_TLPMF OLE TK_XA;

LS: INUNC RMV TK_MJT TR LR LS TK_VVLI VK LS WYPW WYPW TK_UAPDU NSDPQ TK_GY TK_ZX RMV | TK_MVA CGO TK_YFDF CGO | CLAZU | NF TK_MDKUI TK_VVLI TK_UAPDU CGO TK_MDKUI TK_MELY TK_ZX TK_TLPMF;

JU: V OLE TK_GY TK_FWPCQ IPQN 'W' INUNC;

ECYG: IQSP | FG TR OAIH | ;

YZUJ: V TK_MEQL FG PZCBT DW | TK_SW TK_ARUN;

CLAZU: TQVY | TK_VIGQ TK_TLPMF TK_FWPCQ;

C: TK_VIGQ TK_SW TK_MVA TK_MEQL TK_VIGQ TK_CA 'W' TK_GDI 'W' LFYK IPQN;

NSDPQ: NSDPQ LFYK IPQN TK_OJ | TK_AJXBB TK_AJXBB | TK_OJ;

VK: 'M';

V: TQVY;

WYPW: NF RMV;

