%token TK_ZX, TK_DWVC, TK_YFDF, TK_VVLI, TK_UAPDU, TK_TLPMF, TK_XFKAJ, TK_HSXV, TK_MELY, TK_XA, TK_GY, TK_OJ, TK_GDI, TK_NVQ, TK_MVA, TK_CA, TK_AJXBB, TK_ARUN, TK_MDKUI, TK_VEOL, TK_SW, TK_UW, TK_FWPCQ, TK_QK, TK_MEQL, TK_VIGQ, TK_MJT;

%nodefault

root: TK_UAPDU | JU HTQYD TK_GDI TK_FWPCQ WYPW WWZB TK_YFDF TK_AJXBB TK_MDKUI TK_MELY | TK_GY TK_DWVC TK_GY WYPW TK_YFDF | V LFYK | VK TK_GY TK_DWVC 'M' 'W' TK_QK;

WWZB: TK_AJXBB LS | TK_GDI | TR;

FJB: TK_MVA TK_YFDF ECYG TK_MJT TK_ZX TK_VEOL TK_XA;

PZCBT: TK_MJT 'N' TK_MEQL 'M' TK_UW VK WYPW DW RMV TK_ARUN VK FG | WU TK_UW;

WU: TK_ZX NF FJB OAIH TK_TLPMF WYPW TK_ZX RMV NSDPQ FG HTQYD TK_HSXV | TK_CA YZUJ CGO;

HTQYD: TK_MEQL | TK_MDKUI WYPW | TK_MDKUI TK_TLPMF;

TQVY: TK_FWPCQ TK_GY;

INUNC: TK_GY | IQSP INUNC TK_YFDF | ;

FG: TK_MEQL TK_MDKUI TK_MDKUI WU 'M' TK_TLPMF TK_VIGQ;

DW: TK_TLPMF ALHZ 'M' VK TQVY TK_TLPMF | CLAZU WYPW TK_YFDF DW PZCBT;

IPQN: IQSP;

RMV: HTQYD | LR WWZB TK_VIGQ TK_XA | CGO WYPW | TK_UW TK_MDKUI TK_QK | TK_QK;

OLE: OLE LFYK | LS | TK_VVLI TK_MEQL | TK_HSXV FG TK_MDKUI TK_MJT | TK_UW RMV TR 'W';

CGO: VK FJB TK_CA LR FJB FG IPQN CGO | DW PZCBT | TK_MEQL TK_NVQ TK_MELY LR;

OAIH: TK_MEQL | ALHZ TK_CA TK_VEOL TK_QK LR LR OLE | JU | TK_FWPCQ TK_NVQ TK_MJT NF;

TR: WYPW HTQYD TK_CA TK_FWPCQ OAIH | RMV TK_ZX;

NF: LS TK_XA LS TK_NVQ INUNC | ;

ALHZ: FG 'M' TK_CA OLE;

LFYK: TK_MVA;

IQSP: TK_SW OAIH ALHZ;

LR: TK_MJT WU LS | PZCBT TK_UW TK_NVQ TK_AJXBB TK_ZX ALHZ TR | TK_MVA TK_GY 'N';

LS: CLAZU | TK_XFKAJ TK_AJXBB TK_UW TK_CA JU TK_SW;

JU: OAIH C;

ECYG: RMV YZUJ;

YZUJ: V WWZB TK_SW TK_VIGQ HTQYD TK_OJ TR | NF WWZB IPQN TK_TLPMF WU | WWZB TK_QK | C 'N' | HTQYD 'N';

CLAZU:  | FG TK_TLPMF LS | TK_XA TK_DWVC | TQVY | 'O' OAIH TK_CA TK_MDKUI INUNC TK_MEQL WWZB LS TK_UW PZCBT TK_UAPDU CGO 'O';

C: V;

NSDPQ: TK_DWVC TK_ARUN | TK_GY;

VK: TK_GDI;

V: 'W' TK_MJT OAIH TK_UW TK_QK DW;

WYPW: PZCBT;

