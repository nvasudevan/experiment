%token TK_ZX, TK_DWVC, TK_YFDF, TK_VVLI, TK_UAPDU, TK_TLPMF, TK_XFKAJ, TK_HSXV, TK_MELY, TK_XA, TK_GY, TK_OJ, TK_GDI, TK_NVQ, TK_MVA, TK_CA, TK_AJXBB, TK_ARUN, TK_MDKUI, TK_VEOL, TK_SW, TK_UW, TK_FWPCQ, TK_QK, TK_MEQL, TK_VIGQ, TK_MJT;

%nodefault

root: NSDPQ | INUNC IQSP 'O' TK_MJT TK_DWVC TK_UAPDU VK 'N' NSDPQ TK_OJ TK_XFKAJ ECYG LFYK OLE 'N' TK_VEOL TK_VIGQ | TK_VEOL TK_UW TQVY TK_XFKAJ VK CLAZU LFYK;

WWZB: TK_GDI | TK_MELY | VK FG TK_GY JU LS TK_MELY TK_MEQL WYPW | OAIH TK_MDKUI TK_UW;

FJB: YZUJ TK_CA TQVY TK_DWVC TK_MEQL | FJB LS WU;

PZCBT: TK_MJT | TR IQSP;

WU: TK_GY | OAIH HTQYD OLE CLAZU TK_CA FG 'O' ECYG CLAZU V TK_MVA TK_HSXV;

HTQYD: TK_CA TK_VVLI PZCBT VK;

TQVY: C;

INUNC: TK_QK IPQN TK_XFKAJ OAIH PZCBT;

FG: DW WYPW NF CLAZU CGO NSDPQ | IPQN TK_NVQ | TK_MELY ECYG ALHZ;

DW: TK_GDI TK_MEQL YZUJ TK_UW PZCBT TK_YFDF DW TK_ARUN TK_XA FJB CLAZU TK_VIGQ TQVY | IQSP CGO TK_MVA | TK_QK WU C | ECYG | OLE FJB YZUJ TK_XFKAJ V TK_VVLI NSDPQ TK_OJ IQSP;

IPQN: TK_ZX INUNC 'M' JU WWZB TK_VVLI TK_VEOL | ;

RMV:  | C TK_UAPDU INUNC TK_UW | TK_UAPDU VK CGO | LFYK;

OLE: TK_QK | TK_VIGQ | TK_VVLI 'O' FJB;

CGO: TK_XFKAJ TK_VEOL TK_VEOL ECYG TK_ARUN 'W' | RMV IPQN LFYK JU NSDPQ LFYK NF IPQN TK_MVA;

OAIH: OAIH LFYK | OAIH LS DW TK_MDKUI TK_XFKAJ TK_AJXBB TK_SW | 'M';

TR: TK_GDI TK_UAPDU | TK_GDI TK_UW 'M' IPQN;

NF: TK_VVLI | TK_NVQ RMV TK_CA NSDPQ TK_MVA;

ALHZ: WWZB NF TK_NVQ;

LFYK: WYPW;

IQSP: TR TK_MDKUI OLE TK_UAPDU TK_SW;

LR: TK_TLPMF OAIH ECYG YZUJ;

LS: TR V TK_GY 'N' | TK_MDKUI;

JU: TK_GY TK_TLPMF TK_UAPDU 'W';

ECYG:  | TK_DWVC 'N' FG TK_ZX TK_TLPMF;

YZUJ: DW | TK_OJ | WYPW;

CLAZU: TK_OJ WWZB TK_MDKUI CLAZU LFYK VK NF FG TK_GY ALHZ | FJB TK_GDI TK_MELY | TK_CA NSDPQ;

C: TK_VVLI;

NSDPQ: ALHZ C | TK_HSXV TK_MVA ECYG C;

VK: TK_QK | VK | TK_ZX | LS C TK_TLPMF NSDPQ TK_MJT TK_MEQL | FJB;

V: RMV NSDPQ TK_MEQL;

WYPW: TK_MJT;

