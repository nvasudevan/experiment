%token TK_ZX, TK_DWVC, TK_YFDF, TK_VVLI, TK_UAPDU, TK_TLPMF, TK_XFKAJ, TK_HSXV, TK_MELY, TK_XA, TK_GY, TK_OJ, TK_GDI, TK_NVQ, TK_MVA, TK_CA, TK_AJXBB, TK_ARUN, TK_MDKUI, TK_VEOL, TK_SW, TK_UW, TK_FWPCQ, TK_QK, TK_MEQL, TK_VIGQ, TK_MJT;

%nodefault

root: TK_CA TK_TLPMF TK_DWVC;

WWZB: INUNC WYPW;

FJB: PZCBT TK_SW 'W' TK_GDI TK_UW TK_HSXV LFYK TK_ZX JU TK_GDI V IQSP IQSP TK_NVQ NF TK_GY | TK_UAPDU;

PZCBT: NF | TK_QK TK_GY;

WU: WWZB TK_YFDF FJB FG TK_UW INUNC TR CGO INUNC C | FG TK_UAPDU TK_CA 'M';

HTQYD: TK_MJT TK_MDKUI;

TQVY: 'O' C 'M' | TK_UW |  | TK_MJT;

INUNC: FJB TK_MEQL;

FG: 'O' | LFYK YZUJ TK_VVLI TK_FWPCQ WWZB TK_ZX JU 'N' | TK_SW 'W' | TK_MELY TK_SW TK_VVLI TK_ZX 'N' TK_CA TK_DWVC TK_VEOL;

DW: C VK 'N' INUNC OLE;

IPQN: TR TK_MJT TK_DWVC CGO YZUJ | ;

RMV: INUNC | FJB CLAZU TK_UW TK_MDKUI | C | TQVY TK_YFDF TK_ZX TK_HSXV | TK_DWVC;

OLE: CLAZU | INUNC TK_ZX 'O' | TK_ZX ALHZ | CGO TK_GDI TK_ZX;

CGO: HTQYD WU RMV TK_VIGQ | TK_HSXV TK_UAPDU VK;

OAIH: TK_GDI TK_YFDF | TK_MELY | WYPW NSDPQ | TK_MDKUI | TK_DWVC TK_HSXV TK_ARUN NSDPQ;

TR: CGO TK_OJ 'O' LFYK WU TK_AJXBB LS NF TK_MELY TK_MVA CGO | 'N' TK_QK;

NF: 'M' LFYK TK_VIGQ WWZB;

ALHZ: 'O' 'N' | HTQYD TK_UAPDU | DW OLE TK_CA 'M' IQSP;

LFYK: TK_VEOL WWZB WYPW TK_HSXV ALHZ | TK_SW IQSP LFYK 'W' TK_AJXBB | TK_ARUN;

IQSP: TK_MDKUI | TK_ARUN WYPW 'O' RMV TQVY LR | TK_YFDF TQVY TQVY | TK_YFDF TK_TLPMF YZUJ;

LR: TK_GDI TK_VVLI CLAZU RMV TK_NVQ FG LS TK_ZX TK_VEOL IPQN TK_XA;

LS: WYPW | TK_UW 'W' TK_ARUN TK_VIGQ TK_ARUN TK_MVA TK_UAPDU TK_MDKUI TK_TLPMF;

JU: LS | IPQN 'O' TK_XA TQVY | OAIH LS INUNC TK_TLPMF INUNC;

ECYG: TK_CA CGO CGO | DW HTQYD;

YZUJ: JU OAIH OAIH TK_XA TK_VVLI | TK_MJT TK_VEOL NF TK_GDI DW | HTQYD TK_XFKAJ | TK_MELY INUNC VK TK_CA WWZB INUNC | TK_ARUN;

CLAZU: TK_VVLI | HTQYD NSDPQ TK_UAPDU |  | OAIH | TK_NVQ TK_DWVC TK_FWPCQ;

C: LR | RMV;

NSDPQ: TK_OJ;

VK: JU DW | TK_SW ALHZ | LS 'N' WYPW 'W' RMV | 'M';

V: TK_FWPCQ | V 'N' | TK_XFKAJ TK_MJT |  | TK_MEQL TK_DWVC TK_MDKUI LFYK TK_FWPCQ WWZB TQVY;

WYPW: RMV;

