%token TK_KZY, TK_PUH, TK_OINMN, TK_QZUKZ, TK_TJ, TK_IT, TK_CIZBY, TK_MGFK, TK_VG, TK_OS, TK_IJL, TK_MAB, TK_TUI, TK_KU, TK_AB, TK_CR, TK_EV, TK_YEE, TK_UNX, TK_VZGQ, TK_ST, TK_SY, TK_WIN, TK_SJGSR, TK_LCHQQ, TK_QJCMO, TK_QC;

%nodefault

root: 'E' | AIHME;

VFN: TK_TUI 'N' ICZR YYOBL TK_SY LQU TK_OS KOC AIV | HXHP;

LQU: 'P' MHKLJ TK_IJL TK_LCHQQ | TK_KZY TK_EV | YMMNQ HXHP TK_LCHQQ H;

KOC: TK_UNX H;

AIV: BFNW JR GL | 'U' OVDEJ 'P' ZRHK KTSO TK_OINMN TK_UNX TK_UNX;

HXHP: TK_QC AFCS YYOBL TK_ST TK_MAB AIHME MHKLJ TK_QJCMO | NUV | H | TK_MAB TK_IT RW TK_YEE 'L' TK_UNX;

JR: TK_TJ TK_OS | RUTX | HXHP 'E' AIV 'Q' YMMNQ HXHP CO TK_OINMN TK_IT B TK_MAB YMMNQ YMMNQ BFNW TK_MGFK XZTYC ICZR | 'N' KOC;

AIHME: A RWLZI 'D' TK_VG TK_SJGSR TK_OINMN TK_PUH 'U';

GCGXR: XENK 'W' WQHN 'D' TK_CR 'Q' TK_CIZBY LQU 'M';

MHKLJ: 'D' | ;

WQHN: ZRHK TK_MAB AIHME YYOBL 'T';

HHOMM: TK_KU | TK_QC;

NYGFO: NYGFO | 'N' KTSO;

ICZR: TK_EV | 'S' 'M' MHKLJ AIHME 'U' | TK_KU;

RW: B 'L' GL 'N' KTSO | GL AIV | TK_MAB NUV XC 'S' 'T' LQU | 'D' ADRS 'D' AIHME OVDEJ 'E';

NUV: TK_LCHQQ GL | OVDEJ;

YMMNQ: TK_CR MHKLJ TK_CIZBY AFCS | TK_ST | NYGFO 'L' | HHOMM TK_WIN;

XC: TK_WIN 'T' TK_LCHQQ TK_UNX OVDEJ VFN TK_IJL RW TK_PUH BUEHA TK_TUI ICZR 'P' 'P';

KTSO: 'D' BFNW TK_IT;

BUEHA: TK_OINMN;

YYOBL: HXHP;

AFCS: GPFKF AIHME ICZR TK_WIN AIV TK_LCHQQ | GL GCGXR | TK_QJCMO;

XENK: NYGFO TK_CR | XENK TK_IJL;

RWLZI: TK_OINMN | TK_CR TK_WIN TK_CIZBY NYGFO NYGFO TK_IJL TK_QJCMO | TK_LCHQQ | AIHME TK_KZY TK_SJGSR;

BFNW: XENK TK_QC GPFKF AIHME RWLZI | F 'N' TK_CIZBY TK_QZUKZ;

XZTYC: TK_TJ | JR GPFKF YMMNQ 'N' | 'T' TK_CR WQHN TK_TJ H 'M' 'S' BFNW;

A: B TK_VG JR TK_TJ RWLZI TK_SY | TK_QZUKZ TK_OINMN RUTX TK_VG TK_EV B TK_AB JR TK_WIN NYGFO RW;

OVDEJ: BFNW 'U' 'Q' TK_LCHQQ AIHME;

ADRS: 'N' 'D';

B: TK_VZGQ VFN JR TK_ST TK_YEE TK_VG HXHP TK_WIN TK_QC | RUTX LQU GL ADRS VFN XC HXHP AIV | 'T' TK_CIZBY | BFNW AIHME AIHME GCGXR TK_QC | AIV TK_LCHQQ;

CO: 'S' YTHT 'S' TK_AB 'P' TK_PUH TK_LCHQQ;

F: 'P' 'P' | GPFKF TK_VG 'P' 'L' TK_OINMN H TK_OS AIV TK_AB TK_TJ;

H: TK_QZUKZ | RUTX 'M' TK_MGFK TK_VZGQ F GCGXR 'U' TK_SJGSR TK_OINMN 'W' WQHN OVDEJ GPFKF 'N' A | ADRS XENK BUEHA | TK_QZUKZ NUV TK_EV | TK_PUH AIHME TK_VZGQ;

ZRHK: 'E';

GL: BFNW TK_EV 'P' TK_SY NUV TK_QZUKZ YYOBL | TK_MAB | OVDEJ GCGXR ADRS GCGXR;

RUTX: 'W';

YTHT: AIHME 'T' YYOBL TK_KZY | TK_SY | 'D' NYGFO 'Q';

GPFKF: YTHT CO;

