%token TK_MGM, TK_ZFRP, TK_YQKEL, TK_FCPZ, TK_RHG, TK_KTEV, TK_QU, TK_WCO, TK_YZGJ, TK_TPH, TK_XR, TK_WXAWB, TK_BXBZT, TK_GD, TK_IK, TK_ZRAX, TK_GNTGG, TK_MR, TK_MY;

%nodefault

root: DIP | KRKPE | TK_KTEV TK_YZGJ YQZ TK_GD KVKG BNNQ RR 'N' | GTL 'W' IQQVH 'O';

SSWTJ: KRKPE JBUJC | TK_YQKEL;

KVKG: BCFC TK_GNTGG TK_WXAWB TK_KTEV KRKPE 'O' TK_GD;

WP: KRKPE;

WCPL: 'W' HZBEO | TK_GD;

EIA: TK_ZRAX KVKG TK_RHG TK_GNTGG BCFC TK_WCO | TK_RHG TK_BXBZT 'Q' 'Q' | FPN E BNNQ FPN | TK_FCPZ 'M';

HZBEO: BNNQ;

YQZ: KVKG SSWTJ JB GTL NCCQ UEE TK_MY TK_RHG | J NCCQ | TK_KTEV DIP 'N';

DIP: BCFC TK_BXBZT TK_WXAWB | TK_WXAWB;

JBUJC: FPN | EIA | 'Q' FPN BCFC KVKG JB | HZBEO TK_FCPZ TK_MY RR | TK_ZFRP SSWTJ BCFC 'N';

JB: TK_ZRAX UEE TK_FCPZ TK_GNTGG BCFC KRKPE | TK_BXBZT RR 'W' | CCGM;

RR: JB 'M' | TK_XR | KRKPE TK_FCPZ;

UEE: 'N' | TK_FCPZ S;

BCFC: TK_QU;

KRKPE: DIP;

IQQVH: 'W' TK_GNTGG TK_YZGJ NCCQ TK_GNTGG | TK_WCO 'M' CCGM | BCFC;

NCCQ: RR | TK_IK FPN TK_RHG 'M' TK_KTEV JBUJC 'O' 'Q' TK_WCO J | E | YQZ TK_XR IQQVH | YQZ;

CCGM: E 'N' TK_GD JB WP HZBEO TK_WXAWB |  | YQZ WP JB | TK_WCO TK_WXAWB;

FPN: TK_WCO;

E: TK_YQKEL KRKPE J KVKG | GTL EIA | GTL | TK_IK TK_KTEV NCCQ 'N' RR;

J:  | BNNQ | S TK_YQKEL RR | BCFC UEE;

GTL: YQZ 'N' KRKPE | JB 'O' TK_RHG;

S: HZBEO JBUJC E RR TK_WXAWB | 'O';

BNNQ: E | BNNQ | TK_MGM IQQVH TK_KTEV TK_YQKEL BNNQ;

