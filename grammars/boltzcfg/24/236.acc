%token TK_MGM, TK_ZFRP, TK_YQKEL, TK_FCPZ, TK_RHG, TK_KTEV, TK_QU, TK_WCO, TK_YZGJ, TK_TPH, TK_XR, TK_WXAWB, TK_BXBZT, TK_GD, TK_IK, TK_ZRAX, TK_GNTGG, TK_MR, TK_MY;

%nodefault

root: GTL;

SSWTJ: JBUJC;

KVKG: TK_MGM | ;

WP: IQQVH | SSWTJ TK_ZFRP GTL | TK_GNTGG;

WCPL: WP TK_QU RR TK_XR TK_ZRAX TK_ZFRP | RR JB EIA | TK_MR KVKG 'W' | TK_BXBZT HZBEO | S JB J SSWTJ TK_MR TK_ZFRP IQQVH TK_MR 'M';

EIA: 'N' | BCFC;

HZBEO: TK_MR | TK_ZFRP TK_FCPZ TK_YQKEL NCCQ | HZBEO | DIP TK_QU TK_FCPZ JB HZBEO TK_MR TK_ZFRP;

YQZ: TK_MY TK_ZFRP HZBEO;

DIP: TK_ZFRP WCPL;

JBUJC: TK_ZFRP FPN TK_WCO HZBEO;

JB: SSWTJ 'N' TK_TPH E TK_BXBZT SSWTJ TK_YZGJ;

RR: WP DIP 'W';

UEE: TK_KTEV;

BCFC: UEE KVKG JB BCFC KVKG E | TK_YQKEL KVKG TK_GD TK_TPH EIA TK_WXAWB J KRKPE | TK_KTEV 'O' TK_TPH | WCPL RR KRKPE;

KRKPE: UEE | E TK_KTEV KVKG | TK_BXBZT;

IQQVH: TK_XR | KRKPE 'N';

NCCQ: E KRKPE WP TK_MR TK_MR KVKG | J | DIP TK_TPH J | TK_TPH TK_FCPZ | BNNQ YQZ TK_ZFRP TK_WXAWB;

CCGM: 'O' | TK_GNTGG YQZ RR BNNQ TK_ZRAX WP WCPL;

FPN: RR NCCQ | DIP J;

E: 'N' 'M';

J: TK_WCO TK_MY TK_WCO WP TK_RHG RR TK_WCO TK_YQKEL;

GTL:  | TK_MY TK_MR JBUJC JB BCFC TK_ZRAX WP TK_WXAWB WP SSWTJ TK_XR WCPL WCPL TK_GNTGG BCFC 'W' TK_XR | CCGM TK_TPH 'N' | TK_MGM | 'N' 'N' WCPL WP JB WP;

S: TK_GD | TK_XR SSWTJ TK_RHG BCFC NCCQ | BNNQ TK_WXAWB TK_BXBZT TK_ZFRP E;

BNNQ: E BNNQ TK_GNTGG TK_YQKEL TK_ZFRP 'W' TK_GD WP | WCPL TK_QU CCGM | IQQVH TK_MR | SSWTJ TK_GD;

