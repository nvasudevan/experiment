%token TK_MGM, TK_ZFRP, TK_YQKEL, TK_FCPZ, TK_RHG, TK_KTEV, TK_QU, TK_WCO, TK_YZGJ, TK_TPH, TK_XR, TK_WXAWB, TK_BXBZT, TK_GD, TK_IK, TK_ZRAX, TK_GNTGG, TK_MR, TK_MY;

%nodefault

root: 'Q';

SSWTJ: TK_FCPZ;

KVKG: TK_QU TK_GD JB YQZ GTL FPN KVKG BCFC RR | ;

WP: 'W' TK_RHG | EIA JBUJC CCGM TK_XR EIA | FPN | TK_BXBZT 'N' YQZ TK_WXAWB TK_WXAWB WP;

WCPL: YQZ | TK_ZFRP BCFC 'W' TK_TPH | TK_GD TK_TPH | TK_WCO DIP TK_XR IQQVH EIA BCFC KRKPE 'W' TK_GD 'W' | S 'Q';

EIA: TK_WXAWB J | CCGM | J KRKPE JB 'Q' YQZ IQQVH TK_TPH | NCCQ | ;

HZBEO: JBUJC JBUJC HZBEO | TK_GNTGG TK_MR TK_QU | J TK_BXBZT FPN;

YQZ: TK_GD;

DIP: CCGM TK_FCPZ KVKG 'O' TK_KTEV;

JBUJC: TK_WCO YQZ TK_GD;

JB: E S | TK_KTEV TK_TPH 'W' BCFC GTL TK_TPH BCFC TK_MY TK_ZFRP TK_RHG UEE;

RR: NCCQ DIP TK_QU IQQVH | TK_GD TK_KTEV;

UEE: TK_TPH | JBUJC | FPN RR YQZ 'W' TK_MY NCCQ | J;

BCFC: BNNQ | TK_BXBZT DIP | TK_KTEV 'M';

KRKPE: TK_WXAWB KRKPE 'M' S SSWTJ 'N' | IQQVH KVKG | SSWTJ | TK_MGM TK_QU TK_MGM TK_ZRAX TK_MY;

IQQVH: TK_MY NCCQ | TK_ZFRP BNNQ;

NCCQ: 'Q' |  | DIP 'W' TK_WXAWB 'W' DIP | JB S;

CCGM: NCCQ BCFC | HZBEO TK_KTEV;

FPN: KRKPE | TK_FCPZ TK_GD TK_GNTGG;

E: WCPL | RR 'N' TK_XR BCFC TK_YQKEL TK_BXBZT TK_ZFRP | DIP | TK_ZRAX | DIP TK_GD JB IQQVH E BNNQ NCCQ HZBEO;

J: YQZ HZBEO;

GTL: 'Q' | KRKPE DIP BNNQ NCCQ TK_YQKEL TK_GNTGG YQZ TK_FCPZ TK_MY UEE JBUJC TK_TPH TK_QU TK_BXBZT TK_GD BNNQ WP | TK_QU UEE | TK_MGM;

S: DIP DIP WCPL TK_ZRAX | TK_BXBZT | E TK_TPH | CCGM 'W' TK_GNTGG NCCQ GTL NCCQ TK_GNTGG TK_ZRAX EIA TK_ZFRP TK_GD TK_QU;

BNNQ: YQZ RR TK_FCPZ CCGM TK_ZRAX KRKPE YQZ | S | 'N' E FPN;

