%token TK_MGM, TK_ZFRP, TK_YQKEL, TK_FCPZ, TK_RHG, TK_KTEV, TK_QU, TK_WCO, TK_YZGJ, TK_TPH, TK_XR, TK_WXAWB, TK_BXBZT, TK_GD, TK_IK, TK_ZRAX, TK_GNTGG, TK_MR, TK_MY;

%nodefault

root: TK_MGM 'M' WP WCPL TK_WXAWB TK_QU | TK_MY;

SSWTJ: YQZ TK_TPH UEE NCCQ TK_TPH TK_ZRAX JB | 'O' RR TK_MY FPN | NCCQ S | TK_WCO TK_ZRAX TK_MR RR CCGM TK_WCO TK_RHG TK_XR | 'N';

KVKG: SSWTJ | ;

WP: TK_WXAWB KVKG TK_MR J FPN DIP TK_QU JB;

WCPL: TK_WCO;

EIA: TK_XR;

HZBEO: TK_XR JB SSWTJ TK_ZRAX | WP TK_TPH NCCQ 'W' |  | GTL TK_TPH | TK_MGM 'O' GTL;

YQZ: TK_IK WCPL | IQQVH TK_MY KRKPE KVKG S TK_GNTGG | 'N' E TK_TPH GTL TK_TPH;

DIP: IQQVH 'Q' | BNNQ 'M' | TK_IK | TK_MGM TK_KTEV HZBEO TK_GNTGG | YQZ TK_RHG GTL TK_ZFRP;

JBUJC: TK_YQKEL IQQVH TK_YQKEL TK_KTEV JB J TK_ZFRP TK_ZRAX | E TK_TPH KRKPE EIA NCCQ TK_TPH;

JB: TK_WXAWB 'O' | 'M' JBUJC TK_WCO IQQVH;

RR: TK_ZRAX TK_GD EIA | WCPL KVKG TK_MR | TK_YQKEL TK_GD;

UEE: TK_MR TK_MR TK_QU BNNQ DIP TK_XR 'Q' | TK_MR TK_YZGJ | TK_YZGJ J 'W' WCPL | FPN;

BCFC: TK_BXBZT;

KRKPE: J JB TK_MY JBUJC;

IQQVH: KRKPE TK_WCO JBUJC WCPL WCPL | TK_BXBZT EIA;

NCCQ: WCPL;

CCGM: TK_FCPZ TK_ZFRP;

FPN: RR TK_YQKEL TK_QU;

E: WCPL | TK_KTEV | WP | GTL WCPL WP;

J: TK_WCO TK_MGM | TK_QU IQQVH SSWTJ TK_KTEV TK_WCO | 'N' FPN BNNQ TK_QU E | J BCFC;

GTL: YQZ WP TK_RHG TK_YZGJ 'N' TK_ZRAX | KVKG TK_MR 'O' NCCQ TK_QU | TK_GD YQZ WP TK_WCO KVKG SSWTJ | TK_ZRAX TK_WXAWB;

S: BNNQ KVKG KRKPE 'W' CCGM CCGM BCFC TK_YQKEL TK_MY;

BNNQ: IQQVH TK_WCO GTL;

