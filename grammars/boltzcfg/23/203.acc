%token TK_SS, TK_TAFJK, TK_KA, TK_TZUHG, TK_RRWO, TK_LQI, TK_QS, TK_EEBZT, TK_RYYP, TK_HVKHQ, TK_TKXTV, TK_ZLVE, TK_XEB, TK_PU, TK_HMK, TK_YYEXS, TK_IWBA, TK_LEP;

%nodefault

root: A PWFCV | 'M';

DL: TK_HVKHQ TK_SS TK_YYEXS | TK_IWBA | HS DL A RMU | RLHUV TK_PU PWFCV MDMYT RC TK_HMK TK_RRWO 'K';

FT: TK_HMK TK_HVKHQ RMU MSPPN TK_RRWO | ;

HS: TK_TAFJK DNYT TK_HMK TK_YYEXS TK_HVKHQ ORSOE CCH | FT | TK_HVKHQ TK_TAFJK TK_TZUHG DYVHV RMU;

RCV: MDMYT RLHUV EX 'F' | 'I' TK_YYEXS PTU CCH SWP 'K' HTNK TK_HVKHQ | RCV 'D' | XVEH XVEH EX TK_EEBZT MDMYT EX RCV 'K' 'K' TK_TAFJK TK_HMK TK_ZLVE | 'M';

DNYT: TK_LEP 'M' TK_RRWO 'I' TK_HMK 'D' | TK_RRWO;

MDMYT: TK_KA FT XVEH | TK_ZLVE DNYT | TK_EEBZT TK_YYEXS 'F' TK_KA TK_SS RC 'K' PWFCV;

ORSOE: TK_RYYP | 'M' MDMYT TK_PU | TK_HVKHQ DYVHV TK_TZUHG TK_RRWO TK_RYYP;

XVEH: HTNK TK_RRWO | HS TK_TKXTV CCH ORSOE | PTU | DYVHV TK_KA 'D' MDMYT;

CCH: TK_QS TK_EEBZT TK_RYYP;

MSPPN: TK_XEB TK_PU FT TK_LEP XVEH TK_TAFJK 'I' TK_PU TK_TZUHG CCH;

SWP: TK_SS TK_EEBZT;

PS: RCV TK_RRWO TK_XEB;

RLHUV: TK_QS RLHUV PA TK_ZLVE 'K' 'K' TK_RRWO | TK_TZUHG RMU TK_RYYP MSPPN | RCV | DL | 'K' TK_KA 'F' PTU TK_ZLVE;

RMU: PS A;

PA: XVEH RCV;

RC: RC CCH | ORSOE TK_EEBZT;

PTU: RMU | HTNK 'I';

A: TK_TZUHG TK_TKXTV DYVHV CCH TK_YYEXS;

DYVHV: DNYT PWFCV HS;

EX: MDMYT | 'M' PS | TK_TAFJK;

PWFCV: SWP TK_LEP FT A TK_HMK DNYT | TK_LEP | DL RCV RMU PWFCV EX | TK_PU DNYT TK_QS ORSOE HTNK TK_RYYP TK_HVKHQ TK_HMK | ;

HTNK: RLHUV;

