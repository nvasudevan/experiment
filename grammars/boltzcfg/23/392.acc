%token TK_SS, TK_TAFJK, TK_KA, TK_TZUHG, TK_RRWO, TK_LQI, TK_QS, TK_EEBZT, TK_RYYP, TK_HVKHQ, TK_TKXTV, TK_ZLVE, TK_XEB, TK_PU, TK_HMK, TK_YYEXS, TK_IWBA, TK_LEP;

%nodefault

root: TK_SS HTNK TK_RYYP | 'K' | DYVHV TK_RRWO | MSPPN TK_RRWO FT MDMYT PA TK_SS EX TK_SS;

DL: TK_RYYP RMU TK_TZUHG TK_QS | TK_RRWO;

FT: ORSOE 'K' TK_ZLVE PS;

HS: TK_EEBZT | TK_HVKHQ MSPPN RMU CCH TK_PU DNYT TK_KA | 'I' TK_IWBA PS TK_YYEXS TK_KA 'F' DNYT;

RCV: FT EX TK_RRWO TK_RRWO A | RC TK_SS;

DNYT:  | DL FT RMU | 'F' TK_RRWO HTNK | TK_RYYP TK_LQI;

MDMYT: DNYT;

ORSOE: TK_IWBA TK_EEBZT | TK_ZLVE CCH | TK_LEP;

XVEH: RMU;

CCH: TK_QS RC | 'F' TK_LQI | DYVHV EX TK_LEP TK_LEP |  | HTNK EX EX TK_RYYP FT TK_LEP;

MSPPN: TK_ZLVE 'K' | DYVHV RC DYVHV TK_KA | DYVHV;

SWP: DNYT TK_HMK TK_HVKHQ EX | TK_YYEXS | XVEH TK_TAFJK;

PS: PWFCV TK_HVKHQ 'I' XVEH TK_TKXTV CCH TK_QS | TK_TAFJK;

RLHUV: TK_PU;

RMU: RLHUV 'D' | PWFCV TK_HVKHQ TK_HMK RLHUV | TK_RRWO MSPPN | TK_RRWO | MSPPN;

PA: RCV PA TK_QS MSPPN HS TK_XEB | TK_RRWO | TK_SS TK_LEP EX MDMYT | 'M' PS;

RC: MDMYT TK_SS |  | RC TK_TAFJK EX 'D' 'M' PWFCV DNYT | 'K' TK_TAFJK;

PTU: CCH;

A: TK_RYYP DYVHV TK_TZUHG FT 'M' MDMYT XVEH | 'I';

DYVHV: RMU RMU 'D' TK_TZUHG | RCV TK_RYYP MSPPN RMU TK_QS RC SWP TK_RYYP TK_TAFJK TK_HMK | RLHUV | TK_IWBA TK_RYYP ORSOE TK_IWBA TK_RRWO PS;

EX: TK_HVKHQ;

PWFCV: RCV DL MSPPN XVEH | 'M' DNYT CCH | TK_HVKHQ EX;

HTNK: XVEH TK_RRWO | TK_LQI TK_RYYP HS;

