%token TK_SS, TK_TAFJK, TK_KA, TK_TZUHG, TK_RRWO, TK_LQI, TK_QS, TK_EEBZT, TK_RYYP, TK_HVKHQ, TK_TKXTV, TK_ZLVE, TK_XEB, TK_PU, TK_HMK, TK_YYEXS, TK_IWBA, TK_LEP;

%nodefault

root: DL;

DL: TK_PU | TK_HVKHQ | RC 'D' A TK_ZLVE RCV RLHUV | TK_RRWO DL;

FT: DYVHV 'M' TK_IWBA PTU RLHUV TK_RRWO | ;

HS: SWP PS | TK_TAFJK XVEH A TK_IWBA MSPPN HTNK | CCH 'K' | 'I' 'K' DYVHV TK_HMK;

RCV: XVEH TK_TZUHG | TK_ZLVE | TK_RYYP TK_QS TK_KA TK_EEBZT A HS TK_KA CCH 'K' FT;

DNYT: TK_SS TK_RYYP RCV 'D' 'D' | MSPPN;

MDMYT: TK_KA 'K' FT 'F' DL EX | EX SWP TK_TKXTV TK_RRWO TK_PU TK_TKXTV MSPPN | TK_XEB DNYT | 'K' TK_PU;

ORSOE: TK_XEB;

XVEH: 'K' RLHUV RMU TK_QS 'F' | PS MSPPN | TK_TAFJK 'K' TK_HVKHQ 'F' TK_TZUHG TK_TKXTV XVEH PTU | 'D' TK_IWBA;

CCH: TK_EEBZT XVEH;

MSPPN: DYVHV EX;

SWP: HS TK_SS MDMYT;

PS: XVEH TK_RRWO TK_HVKHQ;

RLHUV: XVEH | TK_IWBA DNYT DL | PTU HS;

RMU: TK_SS 'D' | MDMYT PS TK_TZUHG;

PA: RMU TK_TZUHG TK_XEB TK_EEBZT TK_ZLVE TK_HVKHQ TK_EEBZT FT;

RC: TK_RYYP | MSPPN TK_RYYP TK_HMK ORSOE TK_TKXTV;

PTU: ORSOE RMU | HTNK HTNK TK_YYEXS MDMYT TK_YYEXS A TK_TZUHG HTNK TK_LEP;

A: RC DNYT TK_TAFJK TK_TZUHG PS | TK_SS | TK_TAFJK TK_RYYP HS CCH CCH;

DYVHV: EX PWFCV TK_LQI;

EX: 'M' CCH DL TK_RYYP FT XVEH 'K' TK_ZLVE |  | PS | DYVHV MSPPN PWFCV;

PWFCV: 'M' 'K' | FT | FT TK_HVKHQ 'F' PS HTNK DYVHV HTNK | TK_HMK | TK_RYYP FT SWP RC;

HTNK: TK_SS;

