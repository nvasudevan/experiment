%token TK_SS, TK_TAFJK, TK_KA, TK_TZUHG, TK_RRWO, TK_LQI, TK_QS, TK_EEBZT, TK_RYYP, TK_HVKHQ, TK_TKXTV, TK_ZLVE, TK_XEB, TK_PU, TK_HMK, TK_YYEXS, TK_IWBA, TK_LEP;

%nodefault

root: HS;

DL: PA TK_RYYP | RMU | HS MDMYT TK_XEB TK_IWBA XVEH TK_RYYP TK_HVKHQ TK_TZUHG TK_SS 'K';

FT: HTNK A CCH CCH RCV;

HS: PWFCV RC | 'M' TK_RYYP 'F' RMU | HTNK HS | 'F';

RCV: RC | TK_IWBA 'I' TK_HMK 'F' PWFCV | PS TK_LQI | DNYT TK_TKXTV TK_LEP TK_ZLVE | 'K' 'M';

DNYT: RC 'D' TK_LQI | TK_TAFJK | ;

MDMYT: TK_HVKHQ A DL RCV 'M' 'F';

ORSOE: CCH;

XVEH: ORSOE TK_XEB TK_XEB HS TK_TAFJK TK_ZLVE;

CCH: TK_TKXTV FT TK_QS | TK_EEBZT TK_RYYP;

MSPPN: HS | DYVHV CCH TK_TZUHG 'I' TK_RYYP;

SWP: ORSOE TK_PU TK_SS PWFCV | MDMYT TK_SS TK_HVKHQ;

PS: HTNK TK_PU CCH | XVEH ORSOE DYVHV | DYVHV TK_TAFJK TK_PU | TK_RRWO XVEH;

RLHUV: TK_PU | EX TK_EEBZT SWP PTU | MSPPN | CCH XVEH FT | PA TK_ZLVE TK_HVKHQ A DYVHV TK_ZLVE;

RMU: PA | XVEH RLHUV 'I';

PA: TK_QS 'F' TK_LEP TK_SS DYVHV PTU | PWFCV TK_YYEXS | TK_EEBZT RLHUV RC TK_PU TK_YYEXS TK_SS TK_RYYP TK_RYYP EX TK_IWBA;

RC: PWFCV TK_IWBA MDMYT |  | SWP TK_HMK FT PTU TK_RYYP TK_RYYP 'D' TK_PU 'D' XVEH ORSOE;

PTU: DYVHV;

A: HTNK TK_KA SWP | EX XVEH | 'K' TK_ZLVE RMU | TK_SS TK_SS | MSPPN TK_YYEXS;

DYVHV: TK_TZUHG TK_HMK RMU | TK_SS TK_HMK | SWP A | HS 'I' RC A XVEH TK_TKXTV TK_LEP EX RLHUV TK_ZLVE EX ORSOE FT TK_IWBA TK_KA TK_TZUHG | 'M';

EX: 'I' TK_RYYP RLHUV | DL SWP PA;

PWFCV: RCV RMU | TK_LEP TK_PU RC TK_RRWO TK_PU | SWP TK_LEP;

HTNK: RC | PA | PS;

