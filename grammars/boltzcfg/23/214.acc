%token TK_SS, TK_TAFJK, TK_KA, TK_TZUHG, TK_RRWO, TK_LQI, TK_QS, TK_EEBZT, TK_RYYP, TK_HVKHQ, TK_TKXTV, TK_ZLVE, TK_XEB, TK_PU, TK_HMK, TK_YYEXS, TK_IWBA, TK_LEP;

%nodefault

root: 'I' MSPPN RMU XVEH | DNYT PWFCV | FT;

DL: TK_SS | TK_EEBZT | PTU DNYT PTU RLHUV 'M' DNYT RLHUV | DL;

FT: DYVHV TK_PU 'M' RC 'D' 'D' RLHUV MDMYT MDMYT DNYT TK_KA TK_TAFJK RMU TK_RRWO | DL RLHUV TK_EEBZT CCH 'M';

HS: DNYT SWP | ORSOE RLHUV HS TK_KA EX PS | MSPPN 'K' | TK_PU;

RCV: ORSOE 'I' | TK_ZLVE | FT;

DNYT: 'D' | HTNK | TK_HVKHQ TK_QS TK_TZUHG | DYVHV DYVHV RMU 'M' HS TK_TAFJK 'D' | DYVHV TK_QS RLHUV MSPPN;

MDMYT: TK_KA PWFCV XVEH | 'D' TK_LQI TK_SS RLHUV TK_RYYP TK_ZLVE SWP | TK_RYYP DNYT | EX RMU FT 'K' TK_PU;

ORSOE:  | EX;

XVEH: PA SWP SWP | TK_RYYP RC RCV SWP TK_HMK RC TK_HMK TK_ZLVE EX PTU | 'D' TK_ZLVE;

CCH: TK_HVKHQ EX;

MSPPN: TK_RYYP;

SWP: MDMYT;

PS: XVEH TK_RRWO HS HS | 'D' A RC | TK_HMK 'F' RLHUV | EX TK_YYEXS ORSOE;

RLHUV: HS MDMYT DL | PTU RCV;

RMU: ORSOE PS TK_TZUHG;

PA: 'M';

RC: XVEH PTU TK_TKXTV TK_LQI TK_EEBZT RLHUV | DYVHV TK_RRWO A | DNYT RC TK_IWBA | TK_RYYP | DNYT TK_EEBZT TK_PU ORSOE TK_HVKHQ;

PTU: TK_PU | 'F' PTU TK_RRWO TK_RRWO | TK_RYYP TK_QS | XVEH RMU | HTNK TK_TZUHG;

A: TK_YYEXS TK_XEB RCV CCH MSPPN;

DYVHV: 'K';

EX: PS | A MSPPN PA;

PWFCV: TK_HMK | MSPPN TK_LEP;

HTNK: MDMYT PS TK_SS;

