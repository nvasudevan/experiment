%token TK_SS, TK_TAFJK, TK_KA, TK_TZUHG, TK_RRWO, TK_LQI, TK_QS, TK_EEBZT, TK_RYYP, TK_HVKHQ, TK_TKXTV, TK_ZLVE, TK_XEB, TK_PU, TK_HMK, TK_YYEXS, TK_IWBA, TK_LEP;

%nodefault

root: EX MDMYT FT | 'F' | HTNK TK_SS DL | PTU PA | ;

DL: PS TK_HVKHQ TK_YYEXS | TK_XEB TK_LQI | PWFCV DL PTU PWFCV | ORSOE XVEH RC HS DYVHV RC TK_RRWO TK_SS TK_LQI;

FT: A TK_TZUHG RMU TK_XEB TK_SS | 'M' RMU DYVHV TK_RYYP HS HTNK DL MSPPN 'M';

HS: TK_LEP DYVHV TK_TAFJK RC TK_TZUHG ORSOE ORSOE | 'M' | RLHUV;

RCV: 'K';

DNYT: RMU TK_QS;

MDMYT: 'K' DL RLHUV FT TK_YYEXS TK_SS PWFCV TK_IWBA RLHUV;

ORSOE: HS RCV 'F' | TK_XEB;

XVEH: 'K' DYVHV DYVHV RMU TK_TAFJK RCV;

CCH: ORSOE CCH RCV A TK_ZLVE TK_RYYP PS RC RMU TK_YYEXS | TK_XEB TK_XEB;

MSPPN: FT 'K' TK_QS MSPPN DL | PTU HS | TK_PU TK_QS 'I' TK_RRWO 'I' EX;

SWP: TK_KA DNYT TK_ZLVE PWFCV | TK_TKXTV;

PS: TK_HMK TK_TZUHG TK_KA RC TK_HVKHQ 'M' TK_SS 'K' TK_SS SWP 'I' TK_TZUHG RLHUV TK_RYYP TK_HMK TK_IWBA TK_LEP RC SWP | TK_YYEXS TK_RYYP RMU | FT TK_SS TK_HVKHQ;

RLHUV: 'F' TK_KA HTNK DYVHV HS;

RMU: MSPPN TK_EEBZT TK_TAFJK | RLHUV DYVHV;

PA: XVEH TK_YYEXS | FT;

RC: XVEH TK_HVKHQ;

PTU: ORSOE TK_TAFJK TK_PU PS TK_LEP;

A: MSPPN TK_HVKHQ TK_SS 'K' | TK_LEP | TK_ZLVE 'K' TK_HMK TK_EEBZT 'I' 'K' TK_EEBZT 'K' TK_SS PWFCV XVEH | TK_ZLVE TK_HMK | TK_SS TK_TKXTV RC MSPPN TK_QS;

DYVHV: TK_TZUHG | FT;

EX: 'D';

PWFCV: TK_IWBA TK_PU | RC;

HTNK: TK_LEP DL | TK_HVKHQ |  | TK_QS A HTNK TK_RYYP TK_TAFJK TK_HVKHQ PA | DYVHV RLHUV HTNK;

