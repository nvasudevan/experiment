%token TK_SS, TK_TAFJK, TK_KA, TK_TZUHG, TK_RRWO, TK_LQI, TK_QS, TK_EEBZT, TK_RYYP, TK_HVKHQ, TK_TKXTV, TK_ZLVE, TK_XEB, TK_PU, TK_HMK, TK_YYEXS, TK_IWBA, TK_LEP;

%nodefault

root: PTU RLHUV | 'K';

DL: PTU TK_HVKHQ TK_TZUHG TK_ZLVE RMU TK_LQI | TK_LQI TK_XEB TK_LEP TK_LQI | TK_ZLVE SWP PTU HTNK | TK_QS DL;

FT: TK_HMK TK_HMK TK_YYEXS EX MDMYT XVEH TK_QS | ORSOE 'M';

HS: TK_RRWO 'F' 'I' | RC TK_HVKHQ | 'I' | RLHUV;

RCV: TK_PU RLHUV | TK_YYEXS 'K' | XVEH DNYT RCV TK_TZUHG FT;

DNYT: TK_ZLVE TK_TAFJK XVEH ORSOE | TK_LQI | RC PA PTU TK_HMK | 'I' RLHUV TK_YYEXS TK_YYEXS TK_PU | ;

MDMYT: 'D' | DYVHV PS DNYT | FT HS | 'I' TK_PU;

ORSOE: TK_RRWO | TK_XEB;

XVEH: 'M' | TK_TKXTV XVEH SWP TK_RRWO 'D' TK_RYYP TK_RRWO 'I' XVEH TK_TZUHG DNYT | RCV PS FT PA | CCH 'F' TK_HMK RCV;

CCH: TK_ZLVE XVEH;

MSPPN: TK_KA EX;

SWP: RC TK_QS MDMYT;

PS: 'K' TK_RYYP TK_HVKHQ;

RLHUV: TK_TAFJK RLHUV TK_QS DYVHV PS | MSPPN 'I' | FT | DYVHV DYVHV | RCV TK_XEB TK_SS PA HS;

RMU: SWP DYVHV;

PA: TK_RRWO SWP 'I' DNYT HS;

RC: EX PS TK_ZLVE | 'K' TK_RYYP | MDMYT TK_KA | TK_EEBZT | TK_HVKHQ;

PTU:  | 'F' TK_XEB TK_PU CCH TK_LEP;

A: ORSOE ORSOE | TK_QS | MSPPN DNYT DL TK_TAFJK RC XVEH CCH;

DYVHV: 'M' RLHUV FT;

EX: TK_XEB 'D' PA FT 'I' SWP | PS EX 'D';

PWFCV: HTNK TK_XEB TK_RRWO ORSOE | TK_RYYP | TK_TZUHG TK_QS PTU RCV EX DL TK_TAFJK MDMYT ORSOE | TK_TZUHG RCV TK_RRWO | EX PTU;

HTNK: TK_SS;

