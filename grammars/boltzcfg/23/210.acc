%token TK_SS, TK_TAFJK, TK_KA, TK_TZUHG, TK_RRWO, TK_LQI, TK_QS, TK_EEBZT, TK_RYYP, TK_HVKHQ, TK_TKXTV, TK_ZLVE, TK_XEB, TK_PU, TK_HMK, TK_YYEXS, TK_IWBA, TK_LEP;

%nodefault

root: HS;

DL: SWP TK_PU | RMU | TK_SS TK_LQI TK_ZLVE TK_SS 'M';

FT: TK_SS | TK_QS PWFCV PWFCV 'F' RMU CCH RCV;

HS: TK_ZLVE ORSOE DYVHV TK_SS | TK_SS TK_QS A | RC HS | 'D';

RCV: EX DL DL | MSPPN | TK_EEBZT TK_EEBZT | XVEH TK_KA RMU TK_XEB A TK_ZLVE TK_ZLVE | 'K' TK_IWBA;

DNYT: TK_IWBA TK_SS TK_LQI TK_YYEXS TK_EEBZT | PA | ;

MDMYT: TK_TKXTV PWFCV TK_IWBA TK_TKXTV PTU | MDMYT | 'M' PWFCV;

ORSOE: CCH;

XVEH: RC TK_RYYP RMU TK_LEP TK_LEP RMU | 'D' HTNK TK_SS PTU | TK_RYYP MDMYT 'F' DYVHV | TK_LQI RLHUV TK_ZLVE TK_TKXTV RC TK_XEB HTNK FT EX TK_TAFJK TK_TKXTV;

CCH: TK_LQI TK_EEBZT TK_QS;

MSPPN: HS | TK_SS DL 'M' TK_IWBA TK_TKXTV 'I' TK_QS;

SWP: 'I' 'I' TK_QS TK_XEB TK_LEP PWFCV | SWP TK_SS TK_EEBZT;

PS: TK_RRWO XVEH;

RLHUV: PTU EX RLHUV MSPPN TK_LEP TK_RYYP 'M' PA RMU TK_KA | EX PTU ORSOE RLHUV TK_XEB 'F' TK_HMK | PWFCV TK_TAFJK TK_TKXTV XVEH TK_YYEXS PWFCV | RCV PS FT | TK_XEB A MDMYT TK_TZUHG TK_ZLVE;

RMU:  | RLHUV RLHUV TK_LQI;

PA: TK_IWBA TK_EEBZT TK_RRWO PWFCV TK_LQI XVEH DNYT ORSOE DL TK_TZUHG TK_RRWO 'D' RCV TK_PU EX TK_IWBA;

RC: RMU RMU TK_KA DYVHV TK_LEP SWP | EX MSPPN | 'K' TK_PU TK_YYEXS DYVHV EX TK_LQI XVEH XVEH;

PTU: A PA 'M' RMU RMU | HTNK A;

A: 'F' | 'F' TK_RRWO HTNK 'K' | TK_HVKHQ RC TK_XEB TK_TKXTV TK_LEP A | TK_LEP PS | MSPPN TK_RRWO;

DYVHV: TK_YYEXS MDMYT TK_ZLVE TK_PU PTU | XVEH PWFCV XVEH |  | TK_HVKHQ TK_LEP TK_LEP TK_HVKHQ TK_EEBZT EX RLHUV XVEH TK_TKXTV TK_KA TK_IWBA TK_TZUHG | RCV;

EX: RLHUV TK_PU RLHUV | ORSOE SWP RC;

PWFCV: DL TK_LEP A | HTNK TK_KA TK_PU | SWP TK_TZUHG;

HTNK: HS | PA | RLHUV;

