%token TK_SS, TK_TAFJK, TK_KA, TK_TZUHG, TK_RRWO, TK_LQI, TK_QS, TK_EEBZT, TK_RYYP, TK_HVKHQ, TK_TKXTV, TK_ZLVE, TK_XEB, TK_PU, TK_HMK, TK_YYEXS, TK_IWBA, TK_LEP;

%nodefault

root: DL;

DL: XVEH MDMYT 'K' XVEH DYVHV TK_TKXTV | 'M' 'M' | TK_RYYP PWFCV A RMU | TK_SS A;

FT: TK_SS 'D' RLHUV PS CCH TK_QS TK_SS | 'K';

HS: TK_IWBA | TK_RRWO PS DL EX | MDMYT 'M' | TK_IWBA TK_ZLVE PS TK_RRWO TK_TZUHG A TK_HMK;

RCV: DYVHV 'D' | TK_TKXTV | TK_RRWO EX MDMYT 'K' DL;

DNYT: HTNK TK_TKXTV TK_RYYP RCV PTU 'F' PS TK_TAFJK | MSPPN;

MDMYT: ORSOE MSPPN A | TK_IWBA RC XVEH | TK_ZLVE MDMYT | TK_HMK;

ORSOE: RCV 'K' PA CCH HTNK RMU TK_TZUHG TK_RRWO TK_XEB;

XVEH: ORSOE | ORSOE TK_RYYP TK_TAFJK TK_IWBA DYVHV | TK_TAFJK TK_IWBA;

CCH: TK_EEBZT XVEH;

MSPPN: A HS | A XVEH;

SWP: A TK_SS MDMYT;

PS: RCV TK_RRWO TK_TKXTV;

RLHUV: RCV | 'F' TK_LQI FT | DYVHV HS;

RMU: DNYT TK_RYYP TK_TAFJK | FT RLHUV TK_LEP;

PA: PWFCV PWFCV 'M' TK_XEB FT;

RC: TK_QS | TK_TZUHG 'I' TK_QS XVEH TK_TKXTV;

PTU: HS PWFCV | DYVHV HTNK 'D' PS TK_LEP;

A: 'D' MDMYT SWP CCH | TK_SS | DNYT TK_IWBA TK_HMK EX MDMYT 'I' DYVHV MSPPN CCH;

DYVHV: TK_TAFJK RMU | MDMYT MSPPN TK_RRWO TK_TZUHG | DNYT PA TK_LQI;

EX: SWP 'D' |  | RLHUV | PWFCV SWP PWFCV;

PWFCV: XVEH TK_YYEXS SWP RMU SWP | TK_HMK | RCV DL MSPPN EX | TK_PU | ;

HTNK: TK_RRWO;

