%token TK_WKLJ, TK_ZT, TK_TCN, TK_WIP, TK_JX, TK_AU, TK_SM;

%nodefault

root: LDOE M | 'P';

PS: 'P' 'S' TK_JX;

NIXU: 'P' M TK_JX DPDY TK_TCN | 'Z' TK_WIP | 'P' | K M SNSB TK_AU DPDY LDOE | K NIXU;

SNSB: TK_TCN YRYTE | TK_SM TK_SM I TK_JX TK_ZT | DPDY;

YRYTE: I TK_SM I TK_ZT |  | 'P' PS K SNSB | TK_WIP | SNSB LDOE;

I: LDOE PS TK_AU NIXU PS;

LDOE: NIXU SNSB 'P' DPDY TK_SM NIXU YRYTE K YRYTE TK_WIP 'P' M | TK_JX K YRYTE TK_WKLJ | 'P' M 'P';

K: DPDY I | DPDY TK_TCN TK_WKLJ YRYTE TK_TCN;

M: TK_JX | 'S' 'S' M NIXU 'Z' DPDY TK_JX 'S' PS TK_JX;

DPDY: K SNSB | 'S' | TK_JX TK_JX LDOE SNSB I;

