%token TK_XZJJ, TK_PKPH, TK_XA, TK_SNJ, TK_AA, TK_QJH, TK_UBB, TK_CP, TK_YKGT, TK_VWE, TK_EYWL, TK_FWB, TK_QHA, TK_BV, TK_RUAWA, TK_LCV, TK_FMSIS, TK_KXSNQ, TK_GRC, TK_ZIF;

%nodefault

root: RJ | TK_SNJ | QFMT KDZV NL KBHQS NL;

KBHQS: PKU TK_FMSIS TS PKU 'M' TK_ZIF TK_GRC TLXJE D QRHM | LUDG | 'M' QFMT TK_AA 'W';

QRHM: 'L' UGP QRHM LSQ JAUE D | PKU |  | TK_VWE;

KDZV: UGP TK_VWE | 'O' | TK_GRC TK_RUAWA TK_UBB TK_UBB TK_XZJJ 'V';

DOZLT: 'O' | TK_PKPH TK_LCV PYXCR PYXCR TK_RUAWA;

FB: TK_EYWL;

JO: LUDG UGP TK_LCV QFMT | FI | TK_PKPH DOZLT 'M' LSQ TK_PKPH 'Q' TK_FWB | LOTF | 'M' NL UGP TK_EYWL QRHM PKU RJ TK_QHA LUDG;

FI: TK_LCV 'Q';

DV: D TK_KXSNQ UGP NL TK_GRC | NY 'V' SET TK_BV;

JAUE: D PKU | FB | TK_UBB 'W' 'V' TK_QJH 'M';

SET: TK_QJH TK_ZIF | TK_XZJJ;

NL: TK_GRC RJ | TK_PKPH | TK_LCV TK_SNJ 'O' TK_CP QRHM TK_BV TK_RUAWA 'Q' | TK_ZIF DOZLT FI TK_UBB QFMT LOTF KBHQS | FB;

QFMT: TK_QHA;

PKU: KJTAC DOZLT RJ KDZV TK_VWE TK_RUAWA TK_YKGT;

PYXCR: TK_QJH LUDG NY KJTAC TK_QJH KBHQS;

TS: TK_LCV TK_YKGT TK_XA TK_UBB TK_PKPH | NY;

NY: TK_QJH TK_BV | 'M' TS WUJ TK_QJH | 'M' TK_EYWL | TK_XA;

RGFO: TK_UBB;

LSQ:  | TS TLXJE JO LUDG TK_KXSNQ LSQ TK_QHA LOTF JO TK_LCV UGP | RJ NY TK_BV;

UGP: QFMT FI TLXJE LSQ |  | JAUE TK_YKGT TS;

KJTAC: DOZLT | TK_QJH 'G' 'Q' | JAUE;

LOTF: TK_FWB;

RJ: TK_QHA TK_VWE 'W';

D: SET KBHQS JO DV FI TK_ZIF FI TK_XZJJ | 'W' TK_BV FI | DOZLT TK_PKPH | KJTAC TLXJE;

LUDG: TK_QHA | TK_RUAWA NY TK_SNJ TK_EYWL QFMT UGP TK_CP LSQ | KJTAC TK_KXSNQ NY JAUE NY TK_QHA;

TLXJE: TK_ZIF;

WUJ: PYXCR LOTF LOTF | NL TK_XZJJ LSQ TK_FMSIS | TK_SNJ | TK_XZJJ | 'Q';

