%token TK_XZJJ, TK_PKPH, TK_XA, TK_SNJ, TK_AA, TK_QJH, TK_UBB, TK_CP, TK_YKGT, TK_VWE, TK_EYWL, TK_FWB, TK_QHA, TK_BV, TK_RUAWA, TK_LCV, TK_FMSIS, TK_KXSNQ, TK_GRC, TK_ZIF;

%nodefault

root: 'Q';

KBHQS: TK_PKPH LOTF FB 'L' | 'Q' TK_FWB | RGFO JAUE 'L' | SET;

QRHM: 'M' TK_EYWL;

KDZV: RJ 'M' TK_ZIF TK_VWE 'V' TK_FWB WUJ TK_QHA 'G' TK_YKGT TK_EYWL | TK_VWE JAUE TK_LCV TS | TK_FMSIS | TK_SNJ 'M' SET JAUE TLXJE JO 'Q' D | NY;

DOZLT: TK_GRC;

FB: FI TK_FMSIS | KDZV TK_AA | 'O' TK_KXSNQ FI RGFO | JAUE LOTF TK_GRC 'M' TK_XZJJ TK_PKPH;

JO: JO LOTF TK_EYWL 'O' TK_XZJJ | ;

FI: KDZV LOTF TK_QJH TS | 'V' | LOTF TK_BV 'L' RJ TS;

DV: TK_AA | PKU TK_FMSIS KBHQS | TLXJE KJTAC TLXJE SET KJTAC KJTAC TK_QJH | 'M' TK_FMSIS | 'Q';

JAUE: UGP RJ TS JO NY UGP TK_VWE | TK_BV;

SET: LSQ FI DV | 'M' FB PKU | LOTF | 'M' TK_CP KDZV TK_QHA FB;

NL:  | TK_ZIF TK_AA TS | TK_QHA;

QFMT: DV DOZLT | TK_FWB NY 'M' 'G' D;

PKU: TK_XZJJ TK_ZIF;

PYXCR: PKU;

TS: SET TK_GRC TK_LCV;

NY: JO |  | SET | KDZV | 'O' NY TK_GRC RJ LOTF DOZLT;

RGFO: 'L' TK_YKGT TLXJE | TS LOTF;

LSQ: D KDZV;

UGP: TK_FWB | JAUE TK_ZIF;

KJTAC: RGFO | PYXCR TK_CP RGFO TK_KXSNQ TK_QJH 'M' JAUE DV QFMT TK_PKPH PKU 'M';

LOTF: PKU TK_FMSIS | 'Q' TK_RUAWA | TLXJE RJ | TK_RUAWA | NL LSQ QRHM;

RJ: DV TLXJE JO TK_QHA KDZV | TK_QHA KBHQS 'O' LOTF TK_PKPH SET TK_RUAWA PYXCR | PKU TK_BV NY | TK_GRC TK_XZJJ | PKU RJ JO NL TK_FWB;

D: TK_AA;

LUDG: TK_UBB TK_AA;

TLXJE: 'Q' JO UGP | PKU | NL TS | FI QFMT UGP 'L' DOZLT TK_XA TK_YKGT | UGP;

WUJ: TK_XA 'G' TK_XZJJ TK_CP TK_BV TK_QHA PKU | TK_FWB FI | WUJ TK_GRC DV TK_BV DV DOZLT 'V' NY;

