%token TK_XZJJ, TK_PKPH, TK_EYWL, TK_BV, TK_FMSIS, TK_KXSNQ, TK_XA, TK_YKGT, TK_FWB, TK_VWE, TK_LCV, TK_AA, TK_CP, TK_QHA, TK_RUAWA, TK_UBB, TK_SNJ, TK_QJH, TK_ZIF, TK_GRC;

%nodefault

root: QRHM | TK_RUAWA NL DV PKU 'O' TK_QJH TK_BV | TK_QHA TK_CP NL TS KBHQS RGFO;

KBHQS: TK_ZIF LUDG 'W' DOZLT | 'L' | TK_QJH TK_FMSIS RGFO TK_LCV TK_XZJJ;

QRHM: PYXCR | JO TK_LCV 'V' | QRHM 'O' LSQ | TK_VWE | WUJ;

KDZV: DV | FB TK_QJH | 'V' | JAUE NL NY TK_ZIF KBHQS TK_CP 'G' NY TK_YKGT;

DOZLT:  | TK_FWB TK_FMSIS 'Q' UGP NY KDZV;

FB: NY;

JO: 'V' 'M' 'W' RGFO | 'M' PYXCR | JO FB TK_LCV 'L' | TLXJE | KJTAC TK_FWB 'O' 'W' TK_AA TK_RUAWA FB LUDG QRHM TK_RUAWA LSQ;

FI: TK_FWB TK_XA;

DV: TK_SNJ LOTF TK_RUAWA TK_FMSIS TS TS | KBHQS TK_KXSNQ QFMT RGFO;

JAUE: LSQ LSQ | TK_FMSIS | TK_KXSNQ TK_XZJJ QRHM;

SET:  | TK_EYWL TK_GRC TK_QJH TS | TK_YKGT | LUDG DOZLT TK_YKGT LUDG DV 'G' DOZLT PYXCR D TK_EYWL PKU NL TK_VWE TS TK_FMSIS UGP TK_GRC NL TK_PKPH TK_BV 'Q' | TK_XA;

NL: PYXCR TK_SNJ TK_CP JAUE TK_QJH | TK_GRC TK_RUAWA JAUE | JO QRHM | DV TK_UBB LUDG TLXJE;

QFMT: KDZV TK_FMSIS JAUE WUJ RJ 'G' TK_EYWL TK_YKGT | TK_QHA;

PKU: 'L' TK_XA JAUE FI RGFO LOTF TK_RUAWA TK_XA JO TK_SNJ SET TK_XA TK_ZIF QRHM | TK_VWE | TK_PKPH TS TK_UBB WUJ TK_YKGT QFMT NY TK_KXSNQ TK_FMSIS |  | JAUE;

PYXCR: TK_LCV TK_FWB TK_CP TK_RUAWA 'M' TK_SNJ | LOTF TK_CP FB 'V' RJ | 'Q' TK_QHA DV TK_XA TK_RUAWA KBHQS NL UGP TLXJE;

TS: TK_ZIF;

NY: PKU QRHM NL TK_QJH TLXJE RJ;

RGFO: TK_LCV 'Q' WUJ WUJ TK_XZJJ TK_FMSIS;

LSQ: QRHM | D;

UGP: LSQ TK_EYWL | TK_XZJJ FI QFMT 'Q' TK_FWB TK_GRC 'G' | 'W';

KJTAC: 'M';

LOTF: 'W' TK_AA TK_AA 'O' D TK_SNJ 'G';

RJ: 'L' | D | JAUE QRHM 'V' TK_CP;

D: LUDG | TK_RUAWA | NL 'W' RJ;

LUDG: TK_VWE TK_CP JO | DV TK_PKPH TK_EYWL | PKU;

TLXJE: TK_BV 'Q';

WUJ: 'Q' TK_SNJ TK_UBB KBHQS;

