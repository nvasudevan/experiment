%token TK_XZJJ, TK_PKPH, TK_XA, TK_SNJ, TK_AA, TK_QJH, TK_UBB, TK_CP, TK_YKGT, TK_VWE, TK_EYWL, TK_FWB, TK_QHA, TK_BV, TK_RUAWA, TK_LCV, TK_FMSIS, TK_KXSNQ, TK_GRC, TK_ZIF;

%nodefault

root: 'Q' TK_CP TK_UBB;

KBHQS: 'O' | TK_EYWL FI QRHM LOTF DOZLT PYXCR TK_XZJJ RGFO KJTAC PYXCR TK_QJH | TK_CP | 'V' TK_XA LUDG FB | 'W' WUJ TK_ZIF TK_AA TK_SNJ TK_QJH RGFO;

QRHM: TK_KXSNQ;

KDZV: TK_ZIF 'O' TK_BV | D TK_UBB TK_EYWL | DOZLT TK_ZIF FI KBHQS TK_ZIF TK_UBB | UGP LOTF TK_FMSIS RJ;

DOZLT: FI TK_VWE;

FB: SET TK_YKGT | TK_LCV;

JO: PKU QRHM | QFMT | TK_GRC 'Q' QFMT SET D;

FI: D TK_VWE UGP | KDZV | TK_UBB TK_RUAWA LOTF;

DV: JO JAUE TK_PKPH 'L' | TK_UBB;

JAUE: TK_QJH | 'L' TK_FWB LSQ 'W' 'L' | TK_PKPH TLXJE | WUJ TK_KXSNQ TK_CP 'O';

SET: 'M' | NL;

NL: RJ D TS | TK_PKPH TK_XA PYXCR | TK_PKPH;

QFMT: KJTAC KBHQS TK_GRC | SET 'Q' | TS;

PKU: KDZV 'M' | LSQ DV 'O' 'O' TK_KXSNQ | TK_GRC TK_XA;

PYXCR: D QFMT TK_KXSNQ LSQ JAUE 'W' TLXJE | 'L' LUDG TK_CP UGP;

TS: TK_GRC;

NY: LUDG RJ | LSQ QRHM TK_SNJ 'W' PYXCR | QRHM | TK_EYWL;

RGFO: TK_QJH | 'W' TLXJE | JO;

LSQ: JAUE WUJ;

UGP: 'L' | TK_GRC 'W' 'Q' D | SET 'O' TK_KXSNQ TK_KXSNQ TK_FMSIS D | DV SET | TK_LCV TK_GRC;

KJTAC: TK_XZJJ FB TK_FMSIS | TK_FWB LSQ KDZV 'G' |  | NY | 'L';

LOTF: TK_GRC NY | DOZLT | KJTAC | TK_FMSIS 'Q' TS TLXJE WUJ;

RJ: LOTF 'O' PKU | TK_FWB 'O';

D: TK_LCV TK_QJH 'M' WUJ TK_FWB TK_UBB QFMT TK_YKGT;

LUDG: 'M' JAUE TK_CP;

TLXJE: D | UGP | JO TK_QHA TK_YKGT LOTF TK_KXSNQ PYXCR | FB;

WUJ:  | RGFO TLXJE FI TK_CP TK_FMSIS | RJ;

