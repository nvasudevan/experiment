%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: FGTNZ 'R' KFSP 'J' KFSP | TK_LFAX FGTNZ |  | TK_GD | 'R' TK_KZ LK;

BIME: WQRJ TK_GD PZRPI 'P' 'J' NS 'P' TK_XUPUY 'Z' TK_OW | TK_OW;

URF: MLA 'Z' VSWZS MLA NORKI | LK;

MLA: 'N' | TK_EKRPO;

WQRJ: VSWZS | PZRPI | OXSQ TK_LFAX 'N' B | TK_CQ | URF TK_MH TK_GD TK_KZ;

KFSP: TK_YSBB 'P' MLA |  | FGTNZ TK_GD TK_KZ B;

HIQO: TK_GD PZRPI TK_EKRPO PZRPI | 'N' 'P';

LK: BIME | WQRJ LK MLA TK_KZ | LK FGTNZ;

PZRPI: 'Z' | LK FI FGTNZ B NORKI 'N' TK_CQ TK_MH;

OXSQ: NORKI TK_CQ 'J' TK_SAKV FGTNZ | TK_XUPUY TK_MH TK_XUPUY FGTNZ TK_LFAX 'H' 'R' VSWZS TK_MH 'R';

FGTNZ: KFSP TK_LFAX;

B: TK_OW MLA KFSP B TK_YSBB BIME OXSQ MLA 'P' KFSP TK_LFAX TK_YSBB | TK_EKRPO WQRJ | VSWZS 'N' 'Z' LK | 'N' TK_CQ;

VSWZS: HIQO KFSP | 'J';

NORKI: TK_XUPUY FGTNZ;

FI: KFSP HIQO TK_OW | LK TK_CQ | 'H' | WQRJ TK_YSBB TK_EKRPO 'H' 'R' TK_YSBB TK_EKRPO;

NS: 'Z' | LK NORKI LK 'Z' NORKI OXSQ | 'J' TK_MH FI;

