%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: FI 'N' | 'P' | B TK_KZ | LK TK_OW;

BIME: NS;

URF: TK_OW;

MLA: URF;

WQRJ: OXSQ 'H' TK_EKRPO | TK_LFAX | KFSP TK_SAKV 'N' 'R' BIME OXSQ 'Z' BIME FGTNZ LK TK_LFAX 'P' 'R' | TK_OW HIQO TK_EKRPO HIQO TK_EKRPO | TK_CQ OXSQ VSWZS;

KFSP: 'J' TK_XUPUY;

HIQO: WQRJ 'J' | WQRJ VSWZS 'R' 'N';

LK: FI TK_SAKV 'P' BIME TK_YSBB;

PZRPI: WQRJ TK_YSBB | TK_EKRPO VSWZS;

OXSQ: TK_KZ | PZRPI;

FGTNZ: TK_SAKV FI LK | URF TK_YSBB 'J' LK 'P' VSWZS 'Z' TK_YSBB 'R' LK;

B: KFSP | 'N' | URF TK_LFAX WQRJ;

VSWZS: FGTNZ;

NORKI: B TK_KZ |  | FGTNZ TK_LFAX 'J' FI VSWZS URF TK_EKRPO TK_MH TK_SAKV NORKI TK_LFAX | TK_YSBB;

FI: NORKI B;

NS: TK_XUPUY PZRPI MLA TK_GD B HIQO | TK_LFAX | 'P' 'R' TK_OW 'H' FI PZRPI PZRPI NORKI FGTNZ TK_MH FGTNZ HIQO TK_MH | FGTNZ TK_MH TK_EKRPO 'N' TK_MH;

