%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: TK_EKRPO 'R' TK_MH TK_KZ FGTNZ NS 'Z' 'N' PZRPI | TK_EKRPO | TK_SAKV TK_OW FI;

BIME:  | TK_MH;

URF: TK_YSBB NORKI NS TK_GD 'J' KFSP HIQO URF TK_MH B 'Z' | 'R';

MLA: TK_OW FI 'J' | OXSQ;

WQRJ: TK_LFAX MLA VSWZS | URF | 'J';

KFSP: B | NORKI | 'J' PZRPI TK_OW TK_CQ;

HIQO: TK_KZ OXSQ | OXSQ 'Z' NORKI TK_YSBB 'P' MLA TK_MH B;

LK: TK_XUPUY VSWZS KFSP TK_KZ VSWZS | WQRJ | 'Z' TK_GD | TK_KZ PZRPI;

PZRPI: VSWZS LK WQRJ | 'N';

OXSQ: VSWZS | 'P' 'H' TK_SAKV PZRPI TK_OW TK_XUPUY;

FGTNZ: BIME PZRPI 'P';

B: 'J' TK_YSBB 'J' BIME TK_LFAX FGTNZ | URF TK_MH NS | TK_EKRPO OXSQ | TK_KZ TK_EKRPO URF B KFSP LK FGTNZ;

VSWZS: KFSP NS OXSQ WQRJ 'N' TK_CQ TK_GD TK_GD TK_GD 'J' FI WQRJ |  | 'R';

NORKI: FI TK_OW B 'Z' BIME PZRPI;

FI: BIME 'P' 'N' | TK_LFAX TK_KZ | WQRJ | FGTNZ 'H' BIME TK_CQ TK_EKRPO VSWZS TK_SAKV 'Z' TK_OW;

NS: OXSQ 'Z' TK_LFAX WQRJ HIQO | 'N' 'H' FGTNZ TK_SAKV HIQO HIQO TK_EKRPO B TK_LFAX | WQRJ TK_GD | 'J' TK_EKRPO OXSQ VSWZS | TK_KZ HIQO;

