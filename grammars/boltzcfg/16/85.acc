%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: TK_YSBB TK_YSBB TK_CQ TK_CQ MLA VSWZS 'J' OXSQ | LK 'J' | 'P' 'R' TK_SAKV | OXSQ | HIQO NORKI TK_KZ LK B;

BIME: 'H' | NORKI NS KFSP | KFSP | 'N' URF TK_LFAX PZRPI | URF KFSP TK_XUPUY;

URF: B;

MLA: KFSP FI TK_YSBB TK_YSBB | 'R' | 'R' WQRJ TK_SAKV FI KFSP 'N' TK_XUPUY 'R';

WQRJ: TK_EKRPO FI TK_CQ HIQO VSWZS | TK_SAKV;

KFSP: 'H' LK PZRPI;

HIQO: KFSP TK_EKRPO | TK_OW MLA | B PZRPI 'N' URF FI TK_SAKV TK_MH | FGTNZ;

LK: LK PZRPI | MLA;

PZRPI: MLA VSWZS PZRPI PZRPI 'N' 'R' WQRJ KFSP OXSQ OXSQ VSWZS | OXSQ TK_XUPUY | HIQO | TK_LFAX TK_SAKV TK_GD B NS | TK_SAKV;

OXSQ: TK_YSBB;

FGTNZ: 'Z' LK BIME | MLA TK_MH | TK_CQ;

B: FI 'N';

VSWZS: TK_LFAX TK_KZ | 'R' | FGTNZ VSWZS TK_SAKV TK_XUPUY 'H';

NORKI: LK 'Z' | TK_KZ TK_OW TK_MH KFSP PZRPI B NS TK_GD 'P' NORKI 'R' | 'Z' 'J' HIQO MLA;

FI: 'R';

NS: TK_XUPUY | WQRJ PZRPI | NORKI;

