%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: TK_EKRPO 'N' TK_XUPUY TK_EKRPO 'R' PZRPI | B | TK_CQ WQRJ TK_YSBB WQRJ;

BIME: 'R';

URF: TK_SAKV;

MLA: TK_OW TK_LFAX TK_GD | TK_KZ 'N';

WQRJ: B LK BIME | MLA VSWZS | TK_YSBB TK_OW HIQO | 'R' TK_MH TK_SAKV TK_GD FI 'H' TK_XUPUY;

KFSP: PZRPI NS OXSQ;

HIQO: 'R' TK_KZ NS | MLA VSWZS NORKI;

LK: VSWZS | 'R' TK_YSBB TK_OW TK_KZ WQRJ TK_OW TK_SAKV | FI 'Z' URF | TK_EKRPO BIME;

PZRPI: TK_EKRPO VSWZS TK_MH FI | OXSQ HIQO HIQO TK_XUPUY;

OXSQ: TK_MH NS 'Z';

FGTNZ: TK_GD TK_YSBB | VSWZS TK_YSBB;

B: FGTNZ TK_MH;

VSWZS: URF 'J' TK_SAKV 'R' FI WQRJ | TK_YSBB TK_GD | 'P';

NORKI: MLA B 'J' TK_MH KFSP |  | URF PZRPI BIME;

FI: TK_SAKV 'P' TK_OW VSWZS TK_SAKV TK_XUPUY 'J';

NS: 'Z' 'J' WQRJ VSWZS | OXSQ URF | URF;

