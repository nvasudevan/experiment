%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: TK_OW LK OXSQ WQRJ KFSP 'R' | OXSQ | 'H' 'J' TK_LFAX WQRJ 'Z' TK_CQ 'J' HIQO;

BIME: TK_MH PZRPI 'R' WQRJ TK_MH PZRPI | 'R';

URF: WQRJ TK_KZ VSWZS TK_GD | 'P';

MLA: B TK_LFAX | 'N';

WQRJ: 'N' | FI TK_MH | VSWZS 'J' TK_XUPUY NORKI PZRPI TK_YSBB 'J' TK_LFAX 'Z' BIME FGTNZ | TK_EKRPO 'H' TK_KZ TK_XUPUY;

KFSP:  | PZRPI | TK_LFAX KFSP FGTNZ;

HIQO: TK_LFAX TK_SAKV TK_YSBB 'N' FI KFSP | 'Z' FI NORKI;

LK: MLA BIME BIME PZRPI HIQO TK_GD NORKI | FGTNZ NORKI | FI TK_XUPUY MLA MLA 'N' FGTNZ LK | 'R' BIME;

PZRPI: KFSP TK_CQ 'Z' WQRJ TK_CQ MLA NS | TK_OW TK_CQ FI 'R' KFSP MLA TK_GD TK_YSBB VSWZS TK_XUPUY;

OXSQ: PZRPI | FI KFSP 'H';

FGTNZ: BIME 'Z';

B: FI LK;

VSWZS: BIME TK_EKRPO | FGTNZ TK_LFAX | 'P';

NORKI: TK_EKRPO TK_SAKV TK_OW WQRJ BIME;

FI: 'J' 'J' | TK_LFAX LK | 'R' 'R' | NS | NORKI TK_CQ TK_EKRPO 'J';

NS: NORKI TK_XUPUY 'J' | 'R' PZRPI | URF;

