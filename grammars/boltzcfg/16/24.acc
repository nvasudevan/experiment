%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: URF 'P' NORKI FGTNZ KFSP TK_EKRPO | TK_OW 'H' | VSWZS URF 'R' TK_YSBB TK_YSBB | TK_KZ | 'N' 'J' BIME;

BIME: FGTNZ TK_EKRPO TK_CQ PZRPI PZRPI TK_SAKV TK_MH | TK_KZ;

URF: TK_OW NS TK_YSBB 'R' 'R' LK MLA 'R' B BIME FGTNZ | BIME;

MLA: TK_LFAX | TK_XUPUY HIQO TK_OW;

WQRJ: LK KFSP MLA OXSQ WQRJ WQRJ | NS | FGTNZ TK_OW OXSQ TK_GD TK_SAKV | TK_GD | MLA TK_KZ TK_KZ 'J';

KFSP: TK_LFAX |  | TK_GD TK_OW 'Z' TK_MH TK_XUPUY 'J' TK_CQ TK_XUPUY TK_LFAX URF TK_CQ 'J' NS;

HIQO: KFSP WQRJ NORKI NS KFSP | TK_LFAX TK_SAKV;

LK: KFSP | 'J' 'J' NORKI FI 'J' | 'R' PZRPI;

PZRPI: NORKI | FGTNZ 'J' HIQO 'J' TK_GD 'J';

OXSQ: TK_EKRPO TK_EKRPO WQRJ TK_LFAX OXSQ LK OXSQ 'H' NS TK_MH TK_EKRPO TK_XUPUY NORKI TK_XUPUY PZRPI | TK_OW NORKI 'J' TK_XUPUY;

FGTNZ: BIME 'P';

B: MLA TK_EKRPO;

VSWZS: TK_XUPUY URF | TK_CQ 'R' | MLA 'Z' FGTNZ LK MLA TK_LFAX | 'N';

NORKI: B 'J' 'R' B PZRPI TK_XUPUY WQRJ PZRPI;

FI: URF TK_SAKV FI 'N' PZRPI URF | NORKI TK_YSBB | NS | BIME TK_YSBB KFSP NS HIQO TK_LFAX 'N' TK_EKRPO TK_GD;

NS:  | NORKI NS TK_LFAX TK_YSBB LK | TK_MH 'N' MLA;

