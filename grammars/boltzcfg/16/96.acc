%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: LK | BIME TK_XUPUY B 'R' TK_EKRPO | 'R' |  | WQRJ VSWZS TK_XUPUY BIME 'J' URF TK_SAKV TK_YSBB PZRPI TK_MH;

BIME: VSWZS TK_XUPUY TK_LFAX TK_MH TK_OW | TK_EKRPO;

URF: PZRPI;

MLA: BIME | TK_CQ;

WQRJ: TK_KZ BIME 'H' VSWZS | TK_KZ | LK PZRPI | TK_CQ | 'Z' TK_SAKV TK_GD FGTNZ;

KFSP: TK_GD TK_LFAX TK_KZ WQRJ;

HIQO: PZRPI | 'N' TK_LFAX;

LK: NS NS | WQRJ TK_MH VSWZS TK_KZ | TK_EKRPO;

PZRPI: 'Z' | MLA OXSQ WQRJ TK_CQ 'Z' TK_CQ TK_OW;

OXSQ: URF 'N' TK_EKRPO TK_SAKV TK_GD 'P' 'H' BIME FI TK_KZ KFSP;

FGTNZ: 'N' LK PZRPI | 'J' 'R';

B: 'N' 'Z';

VSWZS: TK_YSBB TK_CQ TK_OW |  | FGTNZ KFSP | TK_KZ;

NORKI: 'P' HIQO HIQO | B NS | VSWZS TK_XUPUY | TK_CQ TK_MH 'N' WQRJ BIME | TK_GD TK_XUPUY VSWZS;

FI: TK_YSBB TK_YSBB;

NS: TK_MH | TK_OW | TK_XUPUY FGTNZ NORKI 'H' TK_MH KFSP;

