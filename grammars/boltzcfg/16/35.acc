%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: TK_OW | 'R' TK_EKRPO URF KFSP LK TK_SAKV | NORKI MLA TK_SAKV FI 'P' URF 'R' | MLA TK_KZ | TK_CQ 'J' TK_LFAX;

BIME: KFSP OXSQ TK_MH PZRPI | TK_MH;

URF: TK_EKRPO | FI;

MLA: B TK_LFAX | TK_KZ;

WQRJ: 'R' 'H' TK_KZ KFSP;

KFSP:  | VSWZS | TK_XUPUY OXSQ OXSQ | 'J' NORKI;

HIQO: TK_EKRPO URF 'Z' BIME LK | 'H';

LK: NORKI NORKI KFSP | NS | NORKI TK_CQ TK_LFAX TK_YSBB VSWZS TK_MH | 'N' 'R' TK_MH;

PZRPI:  | B TK_LFAX TK_XUPUY TK_YSBB TK_GD BIME;

OXSQ: FGTNZ | BIME TK_GD MLA 'P' TK_KZ 'N' | VSWZS | WQRJ TK_YSBB TK_OW OXSQ | LK HIQO;

FGTNZ: TK_CQ LK 'J' | WQRJ;

B: PZRPI FI | 'P' FGTNZ | PZRPI KFSP | HIQO TK_OW HIQO FI TK_GD;

VSWZS: FGTNZ 'R' | BIME;

NORKI: TK_GD VSWZS LK MLA B TK_SAKV TK_OW TK_EKRPO NS PZRPI 'R' | TK_GD TK_XUPUY TK_XUPUY FI | HIQO TK_XUPUY | B FI | TK_MH;

FI: TK_YSBB 'R' | MLA NS | B KFSP TK_YSBB TK_EKRPO OXSQ;

NS: 'H' 'N' 'P';

