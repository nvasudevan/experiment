%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: URF | NS TK_XUPUY NS TK_XUPUY TK_CQ VSWZS | TK_SAKV LK OXSQ 'N' | FGTNZ | NS;

BIME: WQRJ;

URF: TK_CQ;

MLA: HIQO;

WQRJ: TK_KZ FI TK_KZ VSWZS HIQO TK_MH URF NORKI B TK_EKRPO B B FI VSWZS TK_OW 'N' URF FI FI | TK_OW |  | 'N' NS TK_OW 'P' KFSP TK_EKRPO | FGTNZ 'Z';

KFSP: 'R' PZRPI 'N';

HIQO: TK_MH | KFSP 'J' B KFSP PZRPI;

LK: WQRJ TK_EKRPO 'N' 'J' KFSP WQRJ;

PZRPI: FI 'Z' | NORKI URF;

OXSQ: B | TK_YSBB NS 'H' | NS NORKI | TK_GD TK_OW | BIME BIME LK KFSP BIME PZRPI TK_GD;

FGTNZ: TK_MH | TK_XUPUY 'N' TK_OW;

B: FGTNZ |  | 'J' 'R' MLA 'R' MLA;

VSWZS: NS;

NORKI: PZRPI HIQO TK_LFAX TK_EKRPO 'N' OXSQ | LK URF | TK_XUPUY | 'R' | TK_SAKV;

FI: TK_XUPUY;

NS: TK_MH URF TK_MH TK_MH | TK_MH | TK_KZ | LK TK_GD;

