%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: NS TK_YSBB HIQO B MLA 'N' 'H' WQRJ WQRJ TK_CQ 'H' TK_GD 'N' TK_GD 'R' TK_EKRPO | TK_OW | TK_LFAX 'J' FI;

BIME: MLA VSWZS TK_LFAX 'Z' 'H' 'Z' PZRPI | TK_MH;

URF: 'R';

MLA: OXSQ KFSP 'R' | TK_KZ;

WQRJ: TK_MH | BIME | TK_OW WQRJ 'H' TK_XUPUY 'Z' | VSWZS | FGTNZ 'J' TK_OW 'N';

KFSP: HIQO | OXSQ | TK_GD 'J' NORKI;

HIQO: TK_MH FI TK_EKRPO LK | WQRJ B 'R' TK_OW 'P' KFSP 'R' B;

LK: TK_OW TK_CQ 'Z' 'R' TK_EKRPO | FI | URF NS FI HIQO TK_MH | 'N' PZRPI;

PZRPI: B FGTNZ TK_GD VSWZS FGTNZ NS | TK_KZ 'P' NORKI OXSQ 'R' TK_EKRPO 'N';

OXSQ: TK_GD TK_EKRPO TK_SAKV FGTNZ LK TK_XUPUY;

FGTNZ: HIQO NS TK_MH | TK_KZ BIME TK_SAKV;

B: FI FGTNZ;

VSWZS: WQRJ 'R' | 'R';

NORKI: TK_MH TK_KZ |  | NORKI 'N' B 'P' HIQO LK;

FI: 'R' TK_KZ TK_EKRPO TK_LFAX TK_CQ TK_OW;

NS: TK_YSBB | TK_CQ TK_LFAX TK_LFAX TK_EKRPO VSWZS PZRPI | HIQO;

