%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: 'H' URF TK_GD | 'J';

BIME: 'N' | 'P' B TK_LFAX TK_OW | TK_MH TK_OW;

URF: NS TK_SAKV TK_MH KFSP 'H' | FGTNZ | NORKI | URF TK_SAKV BIME TK_XUPUY FGTNZ KFSP;

MLA: TK_XUPUY URF 'P' FGTNZ BIME B TK_SAKV 'R' TK_YSBB TK_XUPUY KFSP TK_GD TK_SAKV TK_YSBB TK_MH FI TK_LFAX PZRPI | 'N' TK_SAKV | NS |  | VSWZS TK_MH TK_LFAX 'N' WQRJ LK 'N' FI TK_EKRPO;

WQRJ: VSWZS TK_EKRPO TK_GD PZRPI;

KFSP: TK_XUPUY 'R' HIQO TK_LFAX TK_XUPUY HIQO TK_MH TK_SAKV TK_GD TK_KZ BIME FGTNZ | URF;

HIQO: 'P';

LK: OXSQ | LK TK_KZ | 'P' 'P' LK TK_GD;

PZRPI: B TK_OW TK_OW TK_CQ TK_MH;

OXSQ: 'J' 'J' | 'J' HIQO WQRJ FI VSWZS | PZRPI | NORKI FI 'N' FGTNZ | TK_KZ BIME;

FGTNZ: TK_MH TK_EKRPO 'J' HIQO | TK_GD | BIME | TK_XUPUY MLA OXSQ | ;

B: 'R' TK_GD VSWZS TK_XUPUY TK_LFAX PZRPI | URF 'N' TK_CQ;

VSWZS: TK_CQ TK_LFAX VSWZS 'J' | 'R' PZRPI | KFSP KFSP | FI LK;

NORKI: TK_LFAX TK_OW;

FI: URF 'H' | TK_OW TK_XUPUY TK_EKRPO TK_EKRPO TK_OW TK_YSBB VSWZS;

NS: TK_EKRPO TK_MH TK_LFAX;

