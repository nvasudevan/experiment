%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: TK_LFAX KFSP 'P' | TK_MH | TK_OW 'N' BIME;

BIME: 'J' B 'R' 'J' | TK_MH;

URF: FI PZRPI PZRPI FGTNZ | 'R';

MLA: NORKI TK_XUPUY | TK_OW;

WQRJ: TK_CQ TK_MH 'J';

KFSP: TK_KZ | PZRPI | B 'J' TK_SAKV TK_MH TK_LFAX TK_XUPUY LK TK_SAKV 'N' NS;

HIQO: MLA TK_EKRPO TK_LFAX B;

LK: TK_YSBB TK_CQ | TK_OW | FGTNZ TK_MH TK_KZ 'J' FI OXSQ HIQO 'R' VSWZS WQRJ TK_KZ BIME 'R' PZRPI 'J' | TK_LFAX PZRPI;

PZRPI: BIME TK_OW TK_GD TK_OW 'N';

OXSQ: PZRPI | 'R' HIQO WQRJ 'N' TK_XUPUY;

FGTNZ: TK_XUPUY FI KFSP | 'Z' FI 'P';

B: TK_KZ FGTNZ | PZRPI KFSP | BIME BIME | MLA VSWZS;

VSWZS: 'R' TK_OW | TK_KZ 'Z' LK TK_LFAX | 'N';

NORKI: 'Z' |  | 'H' 'J' WQRJ PZRPI;

FI: KFSP | 'P' | NORKI | PZRPI WQRJ URF TK_SAKV TK_CQ TK_OW TK_GD TK_OW;

NS: MLA;

