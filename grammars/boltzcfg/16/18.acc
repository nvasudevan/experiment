%token TK_MH, TK_YSBB, TK_SAKV, TK_XUPUY, TK_KZ, TK_OW, TK_CQ, TK_GD, TK_EKRPO, TK_LFAX;

%nodefault

root: KFSP | WQRJ FI TK_MH | 'Z' BIME TK_LFAX | 'H' HIQO TK_GD | BIME;

BIME: TK_OW | PZRPI;

URF: BIME NS WQRJ FGTNZ MLA URF TK_MH FGTNZ NORKI | 'R';

MLA: TK_OW URF 'N' | OXSQ;

WQRJ: TK_GD 'J';

KFSP: TK_SAKV | FGTNZ | BIME PZRPI TK_GD TK_EKRPO TK_KZ PZRPI FGTNZ | TK_YSBB;

HIQO: PZRPI | TK_YSBB HIQO NS 'N' B;

LK: 'R' 'N' LK NS FI TK_LFAX TK_CQ WQRJ LK TK_KZ TK_EKRPO | VSWZS |  | TK_LFAX 'P' TK_LFAX 'J' PZRPI;

PZRPI: URF | TK_CQ KFSP;

OXSQ:  | TK_OW 'P' VSWZS BIME TK_EKRPO | FGTNZ | FI TK_KZ FGTNZ | TK_XUPUY 'H' WQRJ MLA TK_KZ TK_XUPUY;

FGTNZ: PZRPI | 'H' LK HIQO;

B: PZRPI PZRPI | LK | BIME VSWZS;

VSWZS: 'N' | BIME;

NORKI: MLA 'P' | FI URF 'Z' TK_KZ TK_YSBB B FGTNZ | PZRPI TK_SAKV | BIME | TK_KZ;

FI: 'P' KFSP | TK_LFAX TK_LFAX | HIQO B | FGTNZ;

NS: TK_YSBB TK_MH TK_XUPUY;

