%token TK_QEGJ, TK_QGTD, TK_NVQCW, TK_OAYHI, TK_LCI, TK_UVR, TK_JOIB, TK_MPD, TK_IB, TK_YRP, TK_GK, TK_FAWD, TK_LAF, TK_ED, TK_UIRCM, TK_KVGF, TK_KAINS, TK_OMC, TK_ZXZ, TK_UKSCF, TK_YJHHN, TK_CU, TK_ZFJV, TK_VLAMH, TK_YVUVA, TK_KHQ, TK_NGCBL, TK_MWGV, TK_FZF, TK_BPYHU, TK_ZBVI, TK_RUH, TK_TSLGY, TK_YCIWF, TK_SJN;

%nodefault

root: TK_YVUVA GXIV LE | 'M';

OTNDD: GXIV PBNLV UQ TK_YCIWF RK GMN TK_LAF HS 'R' TK_VLAMH | PBNLV 'M' ABJMD;

HNC: 'X';

SOAEB: TK_NVQCW ENQP | ZUH ENQP |  | TK_KHQ;

MTBQ: MTBQ RP TK_BPYHU RV TK_KAINS | TK_CU TK_JOIB TK_IB | Y PBNLV;

HS: TK_FAWD TK_LCI;

RXDAO: TK_ZXZ;

JXTF: UQ D 'N';

CS: SOAEB | TK_KHQ PLG TK_ZFJV AF PLG ABJMD LE;

ZFAKF: 'R' KFX JXTF ABJMD LL TK_UKSCF TK_TSLGY DSNR TK_ED 'M' Z |  | ENQP CS;

VEVTG: GMN TK_YRP PXF CS | PBFJ TK_NVQCW | ;

NBMGZ: TK_VLAMH F TK_OAYHI TK_IB TK_LCI;

GXIV: PLG 'X' AYQE YZE ABJMD JXTF TK_YVUVA TK_IB TK_QGTD D;

ZUH: TK_ED TK_VLAMH | TK_YJHHN TK_TSLGY 'U' RK JXTF NBMGZ | 'N' TK_SJN;

KHW: YZE VLBSM UQ TK_RUH TK_CU RP;

AYQE: TK_LCI TK_BPYHU;

PBNLV: GMN | ENQP PLG FPYHS HNC OTUMO TK_OAYHI TK_YVUVA TK_JOIB;

ENQP: TK_QGTD TK_UKSCF AF TK_OAYHI VEVTG TK_JOIB PXF PLG | ;

LE: KHW TK_KVGF TK_ZXZ Z | AYQE 'U';

RP: ABJMD TK_IB TK_ED ENQP ZFAKF TK_ZBVI TK_NVQCW TK_MPD TK_QGTD PBNLV TK_TSLGY | TK_ZFJV 'U' TK_ZXZ 'I' RK | YZE TK_KVGF | MTBQ TK_ZBVI TK_GK TK_QGTD | TK_GK TK_ED;

FPYHS: RK TK_TSLGY PXF 'M' VEVTG GMN TK_NVQCW PXF TK_QEGJ KFX | LE KFX NBMGZ TK_BPYHU 'X' | RV TK_RUH PXF;

LL: TK_UIRCM TK_NGCBL 'I' | TK_YCIWF;

IWL: TK_NVQCW TK_FZF;

KFX: TK_YVUVA JXTF TK_UKSCF;

OTUMO: VLBSM 'N' RXDAO SOAEB 'N' ZFAKF | PBFJ;

YZE: IWL;

VLBSM: Z TK_KAINS TK_KAINS;

PXF: TK_KVGF TK_RUH TK_KHQ OTUMO Z MTBQ;

PBFJ: RK KFX TK_BPYHU CS LL TK_BPYHU | OTUMO OTNDD;

RK: Y ZFAKF;

QYQK: RV GXIV | JXTF TK_FZF;

ABJMD: FPYHS | 'X' TK_ZXZ TK_YJHHN;

D: TK_NGCBL | TK_BPYHU TK_YCIWF TK_YRP TK_RUH ENQP TK_YRP | TK_UIRCM;

AF: AYQE TK_OMC 'I' RXDAO | TK_SJN OTNDD LE | PBNLV | TK_UKSCF 'N' TK_QEGJ GXIV;

RV: TK_KHQ TK_YJHHN | TK_NGCBL | OTUMO FPYHS TK_NVQCW PXF | KFX ZEX;

GMN: 'R' TK_BPYHU LE JXTF;

Y: UQ | D TK_RUH;

Z: PBFJ PBNLV;

UQ: JXTF | SOAEB | TK_YRP NBMGZ LE PBFJ ZUH KHW 'U' TK_QGTD | KFX | TK_OMC;

DSNR: TK_ED NBMGZ AYQE VLBSM Z TK_YJHHN | TK_BPYHU | TK_FAWD TK_MPD OTUMO HNC | FPYHS;

PLG: TK_KAINS TK_RUH TK_ZXZ 'N';

F: TK_MPD;

ZEX: JXTF;

