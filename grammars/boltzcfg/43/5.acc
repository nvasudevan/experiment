%token TK_QEGJ, TK_QGTD, TK_NVQCW, TK_OAYHI, TK_LCI, TK_UVR, TK_JOIB, TK_MPD, TK_IB, TK_YRP, TK_GK, TK_FAWD, TK_LAF, TK_ED, TK_UIRCM, TK_KVGF, TK_KAINS, TK_OMC, TK_ZXZ, TK_UKSCF, TK_YJHHN, TK_CU, TK_ZFJV, TK_VLAMH, TK_YVUVA, TK_KHQ, TK_NGCBL, TK_MWGV, TK_FZF, TK_BPYHU, TK_ZBVI, TK_RUH, TK_TSLGY, TK_YCIWF, TK_SJN;

%nodefault

root: MTBQ TK_YCIWF DSNR TK_UKSCF TK_FZF TK_RUH;

OTNDD: SOAEB RV PBNLV | JXTF | TK_QEGJ GXIV TK_YJHHN IWL;

HNC: SOAEB 'R' TK_RUH OTNDD HS TK_UIRCM | 'O' TK_UVR TK_BPYHU 'U';

SOAEB:  | PBFJ Y RP IWL FPYHS Z PBFJ KHW;

MTBQ: TK_FZF TK_YVUVA Z 'M' 'R' 'U' TK_GK | 'S' TK_ED | LL;

HS: RXDAO TK_NVQCW TK_MPD | RV | F HS TK_YJHHN TK_LCI | TK_MPD 'X' GMN KHW FPYHS HNC | TK_KHQ TK_YCIWF;

RXDAO: F | 'I' LE FPYHS OTUMO 'R' TK_SJN TK_KVGF Y 'M' TK_KHQ F 'S' ZFAKF;

JXTF: TK_GK;

CS: ENQP TK_IB ENQP TK_VLAMH RK ENQP | 'U' | D;

ZFAKF: TK_QEGJ 'S' TK_KAINS 'I' TK_IB VLBSM;

VEVTG: PLG;

NBMGZ: TK_ZXZ NBMGZ TK_LAF MTBQ OTNDD RXDAO AYQE ABJMD TK_MWGV TK_ED AYQE | PBFJ TK_YRP TK_LAF | RV TK_OAYHI | SOAEB OTUMO RK TK_ZFJV 'S' QYQK DSNR | TK_YCIWF;

GXIV: TK_ZXZ TK_YRP | TK_OAYHI HS RXDAO ZEX | TK_IB |  | TK_YVUVA Z TK_KHQ TK_GK Y;

ZUH: 'O' | TK_OAYHI PLG 'M' 'R' TK_OAYHI TK_NVQCW DSNR Z TK_MPD TK_LCI ZEX | TK_OAYHI;

KHW: PBNLV TK_FAWD | TK_KHQ TK_MPD RXDAO 'M' GMN TK_ED D RK PBFJ | GXIV;

AYQE: TK_VLAMH;

PBNLV: TK_KVGF 'X' | VEVTG TK_ZFJV VLBSM CS TK_UVR | TK_YJHHN | PBNLV | TK_QGTD;

ENQP: TK_JOIB 'I' ZUH GMN ABJMD FPYHS 'X' HNC PBFJ TK_RUH RV HNC;

LE:  | GMN NBMGZ PBFJ F TK_ZBVI | TK_TSLGY;

RP: TK_NVQCW F | 'S' TK_FAWD;

FPYHS: OTUMO DSNR JXTF | SOAEB CS | LL;

LL: TK_NGCBL TK_NGCBL 'I' MTBQ D PBFJ ZFAKF VLBSM TK_JOIB TK_LAF;

IWL:  | YZE RP 'N' PLG | ZUH 'M';

KFX: TK_QGTD TK_JOIB;

OTUMO: ZUH TK_RUH AF;

YZE: TK_KVGF VEVTG RP | 'U' AYQE RP;

VLBSM: TK_ED;

PXF: 'X' OTUMO | VLBSM TK_SJN TK_MWGV PXF GXIV OTUMO VLBSM TK_JOIB TK_YCIWF | RK;

PBFJ: PXF KFX TK_UVR |  | TK_OMC PBFJ 'N' TK_LAF HNC VEVTG | RXDAO TK_FZF | VEVTG PBNLV;

RK: TK_KVGF HNC;

QYQK: PXF TK_ZFJV KFX | TK_BPYHU 'N' | HNC 'S' | 'M' | SOAEB 'M';

ABJMD: ABJMD KFX TK_TSLGY TK_TSLGY | TK_VLAMH 'I' YZE | AF 'X' | PLG | TK_CU;

D: TK_FAWD TK_NVQCW;

AF: LE | HS;

RV: RP GMN;

GMN: UQ KHW TK_ZBVI 'I' | TK_QEGJ | TK_QGTD RP CS;

Y: F FPYHS TK_FAWD OTNDD TK_YVUVA TK_OAYHI 'U' TK_NGCBL TK_LAF NBMGZ TK_UVR;

Z: LL TK_YRP | RXDAO TK_CU | TK_YJHHN UQ Z TK_ZXZ 'N' QYQK TK_KVGF TK_UVR KHW LL;

UQ: TK_JOIB TK_NVQCW TK_BPYHU | RXDAO OTUMO TK_KAINS;

DSNR: TK_KVGF PBNLV | TK_JOIB YZE TK_QEGJ TK_YJHHN | TK_KAINS D LL NBMGZ TK_MWGV 'U' | TK_MPD VLBSM DSNR;

PLG: KFX GXIV TK_CU D | TK_GK;

F: TK_VLAMH | TK_OMC TK_MWGV TK_ZBVI RP TK_BPYHU PXF JXTF TK_ZBVI;

ZEX: 'M' TK_MPD ABJMD | VLBSM CS;

