%token TK_QEGJ, TK_QGTD, TK_NVQCW, TK_OAYHI, TK_LCI, TK_UVR, TK_JOIB, TK_MPD, TK_IB, TK_YRP, TK_GK, TK_FAWD, TK_LAF, TK_ED, TK_UIRCM, TK_KVGF, TK_KAINS, TK_OMC, TK_ZXZ, TK_UKSCF, TK_YJHHN, TK_CU, TK_ZFJV, TK_VLAMH, TK_YVUVA, TK_KHQ, TK_NGCBL, TK_MWGV, TK_FZF, TK_BPYHU, TK_ZBVI, TK_RUH, TK_TSLGY, TK_YCIWF, TK_SJN;

%nodefault

root: 'O' | LL TK_LCI CS | PXF TK_UKSCF TK_YJHHN TK_JOIB TK_YJHHN TK_IB KHW NBMGZ TK_LAF TK_YCIWF PLG TK_QEGJ FPYHS VEVTG PLG TK_ZBVI RK 'S' | Y TK_UKSCF KFX TK_UIRCM;

OTNDD: ZEX HNC TK_YVUVA | ENQP | TK_LAF TK_SJN 'X' D 'U' QYQK TK_QEGJ LL QYQK KHW ZEX TK_YCIWF TK_VLAMH DSNR TK_ZBVI;

HNC: 'S' TK_MPD;

SOAEB: RP 'X' DSNR;

MTBQ: SOAEB HNC HS OTUMO PXF Z | VEVTG;

HS: TK_YRP RV 'M';

RXDAO: TK_GK HS ABJMD;

JXTF: TK_OMC;

CS: YZE TK_TSLGY 'X' TK_OAYHI LE QYQK TK_TSLGY TK_CU TK_YVUVA TK_UKSCF TK_KHQ KFX TK_JOIB GXIV TK_UVR PBFJ | TK_UKSCF |  | 'X';

ZFAKF: D 'U' VLBSM | JXTF TK_VLAMH 'U' TK_YRP UQ TK_OMC D;

VEVTG: SOAEB TK_ZBVI AF | TK_QEGJ UQ TK_IB YZE TK_LCI TK_QEGJ TK_UIRCM 'O' F QYQK HNC TK_UKSCF ZEX;

NBMGZ: 'M';

GXIV: ZFAKF QYQK;

ZUH: RK VLBSM PBNLV 'O' | TK_ZXZ IWL TK_ZXZ | KHW;

KHW: OTNDD;

AYQE: 'O' HNC ENQP TK_OAYHI | OTNDD;

PBNLV: CS TK_UVR TK_ED |  | TK_FAWD VEVTG TK_LCI ENQP SOAEB | 'R' 'U' TK_KVGF | YZE;

ENQP: DSNR FPYHS TK_UIRCM TK_UIRCM LL | ZUH | TK_ED ENQP | ZUH TK_GK RK TK_IB TK_NGCBL | TK_NVQCW TK_TSLGY;

LE: RXDAO TK_QEGJ TK_QEGJ TK_ZXZ PBFJ TK_ZXZ D RP TK_OAYHI HS | TK_RUH TK_UIRCM | TK_ZBVI;

RP: TK_UKSCF ZFAKF | ABJMD PXF ZEX HS KFX;

FPYHS: TK_OAYHI D ZEX HNC ABJMD TK_GK TK_IB TK_KHQ TK_QGTD TK_YRP | NBMGZ;

LL: TK_ZFJV | TK_MWGV TK_NGCBL TK_JOIB | IWL | TK_YVUVA FPYHS TK_RUH;

IWL: RK;

KFX: PXF GXIV TK_ZBVI F;

OTUMO: TK_QEGJ ENQP GXIV HS | TK_BPYHU NBMGZ TK_KVGF ABJMD PXF GXIV TK_RUH CS TK_CU | TK_TSLGY TK_FZF | VEVTG GXIV;

YZE: KFX 'M';

VLBSM: IWL | TK_KHQ;

PXF: RP;

PBFJ: TK_FZF PBNLV 'I' ENQP;

RK: KHW;

QYQK: TK_QEGJ TK_OAYHI | PBFJ | TK_BPYHU KHW TK_UKSCF | TK_KHQ;

ABJMD: TK_QEGJ LL | TK_NVQCW RXDAO |  | TK_YCIWF;

D: OTNDD OTUMO | TK_FZF TK_QEGJ NBMGZ 'R';

AF: ZEX TK_JOIB TK_OAYHI TK_LCI TK_OAYHI RP F TK_UVR Y TK_YJHHN TK_MWGV | PBNLV;

RV: OTNDD TK_GK | ZFAKF TK_FAWD TK_QEGJ 'S' AF;

GMN: TK_YVUVA RK TK_ZBVI PBFJ PBNLV IWL MTBQ 'S' KFX;

Y: TK_KVGF | NBMGZ ABJMD TK_KVGF TK_FAWD F PXF | TK_CU TK_NGCBL TK_UIRCM TK_LCI | TK_ZXZ GXIV TK_MPD TK_ZXZ;

Z: PBFJ TK_RUH TK_MWGV TK_YVUVA TK_FAWD VEVTG;

UQ: QYQK 'M' TK_NGCBL JXTF ABJMD TK_SJN OTUMO PXF PXF TK_SJN 'R' ENQP TK_CU | TK_TSLGY HS;

DSNR: GMN ZEX LE TK_KHQ TK_ZBVI TK_YJHHN TK_ZXZ ZUH | 'M' LE | TK_UKSCF MTBQ | GMN 'M' | TK_YJHHN SOAEB;

PLG: AF;

F: TK_YJHHN TK_NGCBL TK_FZF PXF TK_UKSCF TK_YJHHN;

ZEX: MTBQ LE;

