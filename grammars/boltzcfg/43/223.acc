%token TK_QEGJ, TK_QGTD, TK_NVQCW, TK_OAYHI, TK_LCI, TK_UVR, TK_JOIB, TK_MPD, TK_IB, TK_YRP, TK_GK, TK_FAWD, TK_LAF, TK_ED, TK_UIRCM, TK_KVGF, TK_KAINS, TK_OMC, TK_ZXZ, TK_UKSCF, TK_YJHHN, TK_CU, TK_ZFJV, TK_VLAMH, TK_YVUVA, TK_KHQ, TK_NGCBL, TK_MWGV, TK_FZF, TK_BPYHU, TK_ZBVI, TK_RUH, TK_TSLGY, TK_YCIWF, TK_SJN;

%nodefault

root: TK_YVUVA KHW TK_BPYHU TK_UVR TK_OAYHI TK_QEGJ | RP TK_KAINS | 'R' TK_YVUVA RP 'N' NBMGZ IWL;

OTNDD: CS TK_KAINS;

HNC: TK_ZXZ AF;

SOAEB: CS IWL 'M' TK_ZFJV TK_FZF;

MTBQ: TK_LAF;

HS: TK_TSLGY ABJMD PBNLV Y;

RXDAO:  | RV TK_UIRCM TK_YRP TK_CU TK_LAF 'M' TK_RUH RK | YZE TK_GK;

JXTF: UQ TK_YVUVA DSNR TK_FAWD Z TK_LCI PBFJ PLG ZFAKF | RXDAO HS TK_IB | TK_ZFJV TK_ED KFX;

CS: ZEX;

ZFAKF: D TK_ED | MTBQ TK_TSLGY | QYQK TK_NVQCW UQ ABJMD PXF VEVTG AYQE HS 'M' ZUH QYQK ZFAKF TK_JOIB TK_MWGV TK_LCI FPYHS AYQE | YZE TK_KVGF 'I' TK_SJN TK_YRP TK_UKSCF;

VEVTG: VLBSM TK_KVGF RV TK_UKSCF 'X' PXF ENQP PBFJ | 'N' | TK_ZFJV 'S' CS TK_IB HNC ZFAKF | 'R' 'M' TK_UIRCM 'X' 'M';

NBMGZ: Y;

GXIV: TK_OAYHI | 'M' 'U' 'S' QYQK OTNDD | TK_BPYHU RK TK_MWGV;

ZUH: TK_QGTD | SOAEB GMN YZE;

KHW: RXDAO | OTNDD TK_RUH TK_QGTD | TK_UIRCM | ENQP TK_MPD TK_BPYHU TK_ZFJV | TK_OAYHI;

AYQE: TK_QEGJ | 'M' PBNLV Z SOAEB;

PBNLV: TK_UVR;

ENQP: LE | PBFJ TK_ED TK_UVR LL 'X' TK_CU VEVTG LL NBMGZ Z 'R' | ZEX 'N' OTNDD TK_SJN | TK_QEGJ TK_KVGF YZE;

LE: OTUMO;

RP: LE HS RXDAO PXF IWL IWL;

FPYHS: RV YZE QYQK | TK_VLAMH;

LL: PLG HNC | 'U' GMN | TK_FAWD TK_SJN MTBQ TK_GK UQ TK_YVUVA ZUH | TK_ED HNC;

IWL: 'R' TK_KAINS TK_BPYHU ZEX | HNC CS | TK_ZBVI | 'M' TK_YCIWF Z ZFAKF ABJMD;

KFX: 'R' GMN SOAEB TK_OAYHI TK_MWGV AF TK_NVQCW | RXDAO | ;

OTUMO: QYQK 'I' TK_FZF YZE ZEX TK_YRP Z | GMN DSNR TK_OAYHI | OTNDD QYQK TK_IB;

YZE: TK_LCI TK_NGCBL TK_QGTD | TK_KAINS | PBNLV PBNLV TK_ZFJV HS TK_MPD NBMGZ TK_SJN;

VLBSM: SOAEB ZUH | 'M' ENQP OTNDD ZUH VEVTG GMN TK_BPYHU MTBQ PXF TK_TSLGY JXTF GMN;

PXF: RXDAO D HS TK_FAWD TK_LCI GXIV | 'M' OTUMO | VEVTG HS | TK_KAINS | PBFJ TK_UVR LL TK_LAF TK_MPD;

PBFJ: TK_NGCBL TK_JOIB ENQP 'O' TK_MPD KHW TK_ZXZ 'M' TK_YCIWF;

RK: 'X' | ZEX | ;

QYQK: ABJMD;

ABJMD: TK_NVQCW VLBSM TK_YVUVA | TK_YVUVA TK_KAINS TK_VLAMH TK_KAINS TK_QEGJ TK_ZBVI | ZFAKF UQ;

D:  | TK_TSLGY GXIV 'U' JXTF;

AF: GMN RP KHW 'I' | D 'S';

RV: TK_QEGJ TK_MPD | GXIV TK_ZXZ TK_QEGJ;

GMN: TK_SJN KFX PXF TK_YVUVA TK_LAF LE | F RP TK_SJN | HS FPYHS | TK_ZXZ TK_TSLGY;

Y: TK_UKSCF Z 'N' TK_YRP TK_NVQCW | ZUH TK_VLAMH | TK_ED Z;

Z: TK_NGCBL TK_LAF;

UQ: PBNLV TK_VLAMH RXDAO;

DSNR: DSNR TK_OAYHI PBNLV TK_LCI | TK_NGCBL 'S' | TK_LAF ZFAKF TK_UIRCM TK_QGTD;

PLG: KFX;

F: HS;

ZEX: 'S' | ABJMD KFX TK_TSLGY;

