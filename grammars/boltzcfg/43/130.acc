%token TK_QEGJ, TK_QGTD, TK_NVQCW, TK_OAYHI, TK_LCI, TK_UVR, TK_JOIB, TK_MPD, TK_IB, TK_YRP, TK_GK, TK_FAWD, TK_LAF, TK_ED, TK_UIRCM, TK_KVGF, TK_KAINS, TK_OMC, TK_ZXZ, TK_UKSCF, TK_YJHHN, TK_CU, TK_ZFJV, TK_VLAMH, TK_YVUVA, TK_KHQ, TK_NGCBL, TK_MWGV, TK_FZF, TK_BPYHU, TK_ZBVI, TK_RUH, TK_TSLGY, TK_YCIWF, TK_SJN;

%nodefault

root: TK_KVGF;

OTNDD: D | TK_LAF 'S';

HNC: TK_QGTD | 'U' | TK_OAYHI;

SOAEB: TK_TSLGY PXF | TK_ED | ;

MTBQ: HS KFX UQ TK_UVR | LE TK_NVQCW | TK_VLAMH KHW;

HS: TK_YRP | F TK_GK YZE TK_UKSCF AF 'N' TK_QGTD 'R' TK_NGCBL;

RXDAO: ZUH;

JXTF: TK_QGTD D ABJMD UQ TK_YJHHN;

CS: RV 'N' | OTUMO GMN HNC RK TK_RUH 'S' HNC TK_BPYHU;

ZFAKF: ZUH TK_YJHHN AYQE FPYHS RK;

VEVTG: TK_ED RXDAO AYQE TK_UIRCM PBFJ PLG 'I';

NBMGZ: 'U' | LE OTUMO TK_UVR PBNLV TK_MWGV | TK_NGCBL TK_ZXZ TK_YVUVA RK | LL | LL TK_NVQCW TK_BPYHU ZFAKF TK_ZXZ GXIV TK_ZBVI TK_NVQCW TK_NGCBL;

GXIV: SOAEB TK_VLAMH | GXIV 'R' TK_TSLGY 'M' GXIV;

ZUH: LE RXDAO RV 'I' TK_UIRCM | UQ OTUMO | RXDAO;

KHW: MTBQ | TK_MWGV D;

AYQE: D;

PBNLV: 'U' YZE HNC | 'U' TK_QEGJ TK_UKSCF ZEX ZEX VLBSM AYQE ABJMD RV;

ENQP: D 'R';

LE: PLG TK_YVUVA AF | NBMGZ CS GXIV D ENQP TK_YVUVA;

RP: TK_CU TK_VLAMH TK_KVGF TK_ZXZ | TK_MPD 'O' LL TK_FAWD 'M' YZE TK_LAF 'M' | TK_YJHHN HS;

FPYHS: TK_GK 'S' JXTF NBMGZ 'R' | OTNDD OTNDD | TK_KAINS Y TK_YVUVA TK_QEGJ TK_KHQ Y | TK_KVGF TK_LCI;

LL: TK_FZF;

IWL: LE TK_MPD NBMGZ;

KFX: 'R' TK_LAF AYQE;

OTUMO: TK_SJN TK_FZF TK_YCIWF DSNR | YZE;

YZE: TK_NGCBL 'M' ZUH TK_SJN | Y | TK_CU YZE TK_KVGF VLBSM | TK_OMC;

VLBSM: RK TK_BPYHU TK_VLAMH;

PXF: OTUMO 'X' VLBSM | AF F;

PBFJ: KFX ZUH TK_GK TK_QEGJ | LL Z ABJMD;

RK: F FPYHS KFX 'O' FPYHS GMN PXF ZUH RXDAO;

QYQK: TK_NGCBL LE D KFX JXTF | MTBQ TK_YVUVA | 'I' PBNLV TK_QGTD TK_KAINS ZUH FPYHS VEVTG D 'N' TK_LCI TK_QEGJ LE | Z D | TK_LAF;

ABJMD: Y KHW LL TK_ZFJV VEVTG FPYHS 'U' PXF KHW | FPYHS TK_MWGV;

D: FPYHS;

AF: TK_KAINS TK_ED KHW ENQP | TK_YJHHN TK_IB TK_IB OTNDD | GMN SOAEB TK_ED 'M' OTNDD 'O' ABJMD | HNC TK_KHQ 'R' TK_GK TK_KHQ PBNLV 'I' KFX ZUH RK RP TK_UVR Y;

RV: TK_NVQCW VLBSM TK_YJHHN;

GMN:  | QYQK VLBSM TK_KVGF;

Y: ZFAKF ZEX RP TK_KHQ;

Z: ZFAKF GMN TK_NGCBL TK_ZFJV TK_IB | TK_KVGF TK_NVQCW AYQE TK_SJN HS | MTBQ | TK_FZF IWL TK_NGCBL GMN KHW;

UQ: TK_OAYHI TK_NGCBL 'M' 'O' OTUMO TK_LAF | TK_KAINS | QYQK 'U' 'S' VEVTG TK_KAINS | D TK_VLAMH ZUH TK_QGTD KFX 'U' GXIV TK_YVUVA | ;

DSNR: TK_IB 'X' TK_MWGV YZE ZEX | ;

PLG: TK_YRP TK_TSLGY D | TK_JOIB 'S' | VEVTG JXTF GMN KFX KHW | 'I' SOAEB;

F: Z PBNLV TK_SJN PBFJ TK_MPD KHW TK_YJHHN KHW RXDAO | TK_MPD | TK_YJHHN JXTF LE D ENQP;

ZEX: MTBQ;

