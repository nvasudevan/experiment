%token TK_PLMJ, TK_MP, TK_ZEZS, TK_NMMP, TK_HIRI, TK_QTVBK, TK_EI, TK_YCY, TK_GN, TK_GJGTD, TK_LUJC, TK_FYLXJ, TK_WZSQ, TK_SJRP, TK_RRMHN, TK_LIIYD, TK_EGTXK, TK_OQM, TK_VIZ;

%nodefault

root: BD;

BD: LK TK_LIIYD TK_NMMP | LK TK_ZEZS BD | CGOQL TK_WZSQ | TK_EGTXK SETO 'V' RB TK_FYLXJ;

RQLYQ: TK_LIIYD TK_NMMP | TK_HIRI | TK_SJRP TK_EI TK_FYLXJ TK_GN GCPXK CGOQL TK_EI BD;

GCPXK: LK | RB GCPXK BD | CGOQL RQLYQ;

RB: TK_EI C | TK_EGTXK TK_QTVBK ROJ WRXT TK_YCY | CJPXS LK TK_EI;

BLDWH: BD TK_VIZ TK_ZEZS TK_EGTXK | ZQN;

WRXT: ROJ TK_HIRI | AIT TK_SJRP TK_EI RB | TK_EGTXK AIT | TK_FYLXJ;

AIT: 'V' TK_GJGTD C;

GUI: RB | TK_MP BD LK CGOQL | SETO TK_LIIYD;

SETO: ROJ | TK_PLMJ | QVNSZ TK_RRMHN AIT TK_LUJC BD | TK_FYLXJ | WRXT JBA Y TK_PLMJ;

C: BD SETO DMNT |  | GCPXK | QVNSZ Y SETO;

QVNSZ: TK_SJRP C;

ZQN: GCPXK RQLYQ | TK_NMMP;

CGOQL: SETO ROJ | JBA TK_YCY;

JBA: 'V';

ROJ: TK_EI TK_GN | ROJ GCPXK TK_YCY;

Y: EIEX 'V' AIT;

EIEX: TK_GJGTD GUI;

CJPXS: 'N' | C TK_ZEZS TK_OQM EIEX GCPXK EIEX TK_WZSQ WRXT TK_LIIYD TK_HIRI TK_NMMP WRXT C TK_VIZ BLDWH WRXT TK_WZSQ GUI TK_ZEZS;

DMNT: WRXT WRXT ZQN TK_GJGTD TK_PLMJ ZQN TK_LUJC BD |  | TK_FYLXJ TK_EI LK TK_GJGTD TK_QTVBK 'N' WRXT EIEX ZQN ZQN;

LK: BD RB RB TK_GN TK_SJRP RQLYQ;

