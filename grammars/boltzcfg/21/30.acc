%token TK_PLMJ, TK_MP, TK_ZEZS, TK_NMMP, TK_HIRI, TK_QTVBK, TK_EI, TK_YCY, TK_GN, TK_GJGTD, TK_LUJC, TK_FYLXJ, TK_WZSQ, TK_SJRP, TK_RRMHN, TK_LIIYD, TK_EGTXK, TK_OQM, TK_VIZ;

%nodefault

root: TK_NMMP | TK_EI | TK_YCY RB | LK LK | TK_FYLXJ TK_LIIYD;

BD: SETO;

RQLYQ: TK_LIIYD;

GCPXK: RQLYQ | TK_LIIYD JBA TK_VIZ TK_ZEZS;

RB: TK_VIZ | BLDWH;

BLDWH: TK_LIIYD TK_WZSQ ROJ 'V';

WRXT: LK QVNSZ BLDWH | TK_EI AIT | TK_LIIYD SETO;

AIT: ZQN RQLYQ TK_LUJC | TK_QTVBK;

GUI: TK_YCY | BLDWH TK_MP LK TK_HIRI C TK_WZSQ CGOQL WRXT TK_GN BLDWH | RB | Y WRXT AIT GCPXK TK_EGTXK AIT;

SETO: RB;

C: CJPXS TK_VIZ GCPXK | Y TK_PLMJ;

QVNSZ:  | TK_RRMHN TK_NMMP 'N';

ZQN: Y TK_GN LK TK_VIZ | RQLYQ | ZQN TK_EGTXK TK_LIIYD SETO TK_SJRP TK_QTVBK TK_OQM Y;

CGOQL: TK_YCY TK_VIZ TK_RRMHN TK_SJRP TK_OQM BLDWH TK_EI QVNSZ TK_GN ZQN TK_WZSQ | TK_VIZ LK | GCPXK TK_WZSQ | SETO | EIEX TK_OQM;

JBA: TK_MP | QVNSZ | ROJ BLDWH TK_ZEZS LK | CGOQL GCPXK ROJ;

ROJ: TK_ZEZS LK | GCPXK DMNT;

Y: JBA TK_LIIYD SETO | TK_SJRP;

EIEX: TK_EI TK_WZSQ TK_NMMP TK_MP TK_HIRI TK_HIRI Y | TK_PLMJ TK_SJRP TK_LUJC | DMNT 'V' TK_NMMP;

CJPXS: C TK_NMMP;

DMNT: BD TK_LIIYD CGOQL 'V' LK Y TK_GJGTD;

LK: GUI TK_GJGTD | WRXT;

