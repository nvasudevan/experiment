%token TK_PLMJ, TK_MP, TK_ZEZS, TK_NMMP, TK_HIRI, TK_QTVBK, TK_EI, TK_YCY, TK_GN, TK_GJGTD, TK_LUJC, TK_FYLXJ, TK_WZSQ, TK_SJRP, TK_RRMHN, TK_LIIYD, TK_EGTXK, TK_OQM, TK_VIZ;

%nodefault

root: BD TK_EI TK_WZSQ AIT ZQN ROJ TK_PLMJ | TK_SJRP;

BD: BLDWH DMNT BD TK_GN TK_GJGTD RQLYQ | BLDWH | TK_MP TK_EI RB;

RQLYQ: TK_SJRP;

GCPXK: TK_GJGTD BD QVNSZ TK_OQM 'N';

RB: TK_EI TK_ZEZS TK_PLMJ 'V' BD | WRXT RB ZQN | QVNSZ | DMNT | RQLYQ TK_MP BD CGOQL CJPXS TK_ZEZS TK_EGTXK GCPXK EIEX TK_EGTXK CGOQL CJPXS C;

BLDWH: TK_GN;

WRXT: JBA TK_HIRI RB;

AIT: RQLYQ WRXT TK_FYLXJ GUI TK_LUJC TK_FYLXJ TK_WZSQ | C RB TK_GN | TK_GN BLDWH TK_MP EIEX TK_FYLXJ;

GUI: SETO BLDWH JBA TK_PLMJ ZQN;

SETO: BLDWH;

C: TK_EI;

QVNSZ: JBA | GCPXK |  | TK_LIIYD QVNSZ TK_FYLXJ;

ZQN: ROJ BLDWH | CJPXS DMNT AIT CGOQL AIT TK_HIRI TK_SJRP TK_EI GCPXK;

CGOQL: TK_QTVBK TK_FYLXJ TK_HIRI;

JBA: TK_LUJC Y | AIT | WRXT BD TK_WZSQ CJPXS | CGOQL;

ROJ: ROJ TK_LIIYD CJPXS | TK_LUJC WRXT;

Y: TK_LIIYD | 'N' TK_WZSQ TK_LIIYD 'V' TK_GN TK_MP TK_PLMJ GCPXK 'N' TK_OQM TK_EGTXK | TK_FYLXJ TK_GJGTD;

EIEX: C | SETO TK_HIRI TK_GN | TK_EGTXK RB ROJ JBA CJPXS TK_MP 'V';

CJPXS: TK_NMMP 'V';

DMNT: TK_PLMJ TK_SJRP 'N' SETO TK_WZSQ | GUI Y TK_ZEZS 'N' DMNT BLDWH | TK_MP TK_OQM GCPXK | Y TK_GN;

LK:  | LK RB TK_LUJC GUI | QVNSZ TK_LIIYD 'V' | QVNSZ QVNSZ;

