%token TK_PLMJ, TK_MP, TK_ZEZS, TK_NMMP, TK_HIRI, TK_QTVBK, TK_EI, TK_YCY, TK_GN, TK_GJGTD, TK_LUJC, TK_FYLXJ, TK_WZSQ, TK_SJRP, TK_RRMHN, TK_LIIYD, TK_EGTXK, TK_OQM, TK_VIZ;

%nodefault

root: RB;

BD: TK_PLMJ AIT QVNSZ 'V' | Y DMNT RQLYQ TK_EI QVNSZ WRXT | BD TK_WZSQ | ROJ TK_EI CGOQL TK_LUJC RB 'V';

RQLYQ: TK_RRMHN 'V' |  | DMNT LK BD TK_WZSQ DMNT;

GCPXK: RB | TK_WZSQ CJPXS BD | RB BD;

RB: C | TK_ZEZS WRXT C | TK_HIRI Y | CJPXS C TK_VIZ | TK_EGTXK TK_VIZ;

BLDWH: TK_LIIYD AIT ROJ TK_SJRP TK_LIIYD 'N' TK_EGTXK | QVNSZ;

WRXT: SETO TK_PLMJ RB TK_SJRP | WRXT RQLYQ | TK_OQM AIT | EIEX TK_LUJC GCPXK TK_WZSQ 'V';

AIT: TK_LUJC 'V' GUI;

GUI: RQLYQ | TK_NMMP TK_OQM SETO TK_OQM CJPXS TK_PLMJ WRXT RB CGOQL | LK TK_WZSQ;

SETO: TK_VIZ | TK_OQM | TK_GJGTD TK_MP TK_RRMHN AIT DMNT TK_NMMP TK_LUJC ZQN TK_PLMJ WRXT |  | C ROJ TK_GJGTD TK_GN;

C: BLDWH | 'V' TK_YCY GUI TK_MP TK_OQM BD |  | JBA Y GCPXK;

QVNSZ: GUI;

ZQN: LK RQLYQ | AIT TK_VIZ TK_GJGTD TK_WZSQ 'N' RB TK_RRMHN;

CGOQL: CGOQL SETO | EIEX LK;

JBA: RQLYQ | 'N' | TK_LUJC GCPXK GCPXK TK_RRMHN C | Y RB TK_HIRI LK | TK_GJGTD;

ROJ: TK_GN | GCPXK TK_PLMJ;

Y: TK_YCY 'N' CJPXS | TK_LUJC TK_ZEZS | SETO | SETO EIEX BLDWH;

EIEX: 'V' WRXT;

CJPXS: TK_QTVBK | CGOQL TK_FYLXJ TK_QTVBK ZQN TK_SJRP QVNSZ QVNSZ C TK_RRMHN C WRXT;

DMNT: TK_HIRI | TK_HIRI TK_SJRP ZQN BD TK_OQM | TK_SJRP TK_FYLXJ CGOQL AIT | TK_GJGTD TK_WZSQ TK_MP | TK_VIZ TK_FYLXJ TK_NMMP SETO ZQN C;

LK: BLDWH TK_YCY TK_NMMP TK_OQM;

