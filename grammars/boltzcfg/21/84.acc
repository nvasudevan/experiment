%token TK_PLMJ, TK_MP, TK_ZEZS, TK_NMMP, TK_HIRI, TK_QTVBK, TK_EI, TK_YCY, TK_GN, TK_GJGTD, TK_LUJC, TK_FYLXJ, TK_WZSQ, TK_SJRP, TK_RRMHN, TK_LIIYD, TK_EGTXK, TK_OQM, TK_VIZ;

%nodefault

root: TK_HIRI TK_FYLXJ | TK_HIRI | TK_LIIYD TK_EI DMNT | LK | TK_GJGTD TK_FYLXJ RQLYQ;

BD: TK_LUJC;

RQLYQ: ROJ RB | TK_MP TK_VIZ TK_SJRP TK_EGTXK TK_GN | TK_FYLXJ TK_MP | C 'V' EIEX TK_SJRP GUI GUI TK_GJGTD TK_HIRI | TK_LIIYD;

GCPXK: TK_QTVBK CGOQL BD | TK_RRMHN TK_RRMHN 'V' CGOQL TK_HIRI;

RB: RQLYQ;

BLDWH: SETO ZQN | TK_VIZ | CJPXS TK_ZEZS RB LK TK_MP |  | TK_SJRP TK_LIIYD GCPXK TK_GJGTD;

WRXT: BD JBA WRXT | AIT | RQLYQ TK_EI SETO TK_WZSQ SETO;

AIT: EIEX BLDWH TK_LUJC | ;

GUI: TK_EI | TK_MP WRXT TK_YCY RQLYQ TK_FYLXJ TK_EGTXK TK_LIIYD EIEX TK_NMMP Y TK_YCY WRXT | C JBA BD CGOQL | DMNT TK_QTVBK QVNSZ TK_LUJC TK_GN TK_ZEZS;

SETO: 'V' TK_EGTXK TK_PLMJ TK_LIIYD TK_FYLXJ | JBA TK_YCY;

C: TK_OQM GCPXK | Y TK_EGTXK;

QVNSZ: TK_QTVBK | 'N';

ZQN: BD TK_QTVBK TK_GJGTD TK_VIZ 'N';

CGOQL: LK TK_LIIYD | DMNT ROJ | EIEX RB;

JBA: RB GCPXK GCPXK;

ROJ: RB GCPXK TK_OQM;

Y: TK_SJRP;

EIEX: RQLYQ ZQN C JBA | TK_OQM TK_NMMP TK_FYLXJ | 'V' C;

CJPXS: TK_GJGTD CJPXS WRXT TK_PLMJ | ROJ TK_QTVBK | 'N' TK_WZSQ TK_PLMJ TK_LUJC TK_SJRP GUI C;

DMNT: ZQN TK_GJGTD;

LK: C TK_QTVBK | TK_LIIYD;

